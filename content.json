{"meta":{"title":"Mr.wang'blog","subtitle":"Time flies and people come and go","description":"一个人的自述","author":"wangzhibiao","url":"http://wang-z.gitee.io","root":"/"},"pages":[{"title":"","date":"2022-08-01T07:39:07.647Z","updated":"2022-08-01T07:39:07.647Z","comments":true,"path":"404.html","permalink":"http://wang-z.gitee.io/404.html","excerpt":"","text":"404 很抱歉，您访问的页面不存在 可能是输入地址有误或该地址已被删除"},{"title":"关于","date":"2022-08-01T07:39:07.712Z","updated":"2022-08-01T07:39:07.712Z","comments":false,"path":"about/index.html","permalink":"http://wang-z.gitee.io/about/index.html","excerpt":"","text":"在世 人生能有几个如果，仿佛时间无限，就可肆意妄为。 匆匆忙忙，从不停下脚步，看似懂得，实则自欺。 一人一世，追何？要何？得何？又有何？ 今见异而惑其然，明思其而不疑，解否？ 社旅艰且麻木，心必坚以恒之。 困眼视世，钝脑思愁，还以笑脸于世。"},{"title":"所有分类","date":"2022-08-01T07:39:07.712Z","updated":"2022-08-01T07:39:07.712Z","comments":false,"path":"categories/index.html","permalink":"http://wang-z.gitee.io/categories/index.html","excerpt":"","text":""},{"title":"友好链接","date":"2022-08-01T07:39:07.713Z","updated":"2022-08-01T07:39:07.713Z","comments":true,"path":"friends/index.html","permalink":"http://wang-z.gitee.io/friends/index.html","excerpt":"","text":""},{"title":"","date":"2022-08-01T07:39:07.825Z","updated":"2022-08-01T07:39:07.825Z","comments":true,"path":"img/开心消星星.html","permalink":"http://wang-z.gitee.io/img/%E5%BC%80%E5%BF%83%E6%B6%88%E6%98%9F%E6%98%9F.html","excerpt":"","text":"开心消星星 .ad-logo__MZL8C { position: fixed; bottom: 16px; left: 16px; z-index: 10000; pointer-events: none; } .ad-logo-pangle__Io-u7 { width: 36px; height: 14px; background: no-repeat center / contain url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzYiIGhlaWdodD0iMTQiIHZpZXdCb3g9IjAgMCAzNiAxNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTAgMkMwIDAuODk1NDMgMC44OTU0MzEgMCAyIDBIMzRDMzUuMTA0NiAwIDM2IDAuODk1NDMxIDM2IDJWMTJDMzYgMTMuMTA0NiAzNS4xMDQ2IDE0IDM0IDE0SDJDMC44OTU0MzEgMTQgMCAxMy4xMDQ2IDAgMTJWMloiIGZpbGw9IiMxNjE4MjMiIGZpbGwtb3BhY2l0eT0iMC4xMiIvPgo8cGF0aCBkPSJNMjIuMjA4IDMuMzQ0TDIxLjU3NiAzLjQ1NkMyMS43MzYgMy43MTIgMjEuODg4IDQgMjIuMDE2IDQuMzEySDE5LjA0VjYuNjU2QzE5LjAyNCA4LjI3MiAxOC43ODQgOS41MjggMTguMzM2IDEwLjQ0TDE4LjgwOCAxMC44NjRDMTkuMzI4IDkuODA4IDE5LjYgOC40MDggMTkuNjMyIDYuNjU2VjQuODY0SDI1LjU2VjQuMzEySDIyLjY0OEMyMi41MDQgMy45NTIgMjIuMzYgMy42MzIgMjIuMjA4IDMuMzQ0Wk0zMi42MzIgNy44NDhIMjcuNDE2VjEwLjc5MkgyOFYxMC4zNjhIMzIuMDQ4VjEwLjc5MkgzMi42MzJWNy44NDhaTTI4IDkuODI0VjguNEgzMi4wNDhWOS44MjRIMjhaTTI3Ljg5NiA1LjE0NEgyOS44MDhWNi40NEgyNi4zODRWNy4wMDhIMzMuNjE2VjYuNDRIMzAuMzkyVjUuMTQ0SDMzLjAwOFY0LjU5MkgzMC4zOTJWMy40NTZIMjkuODA4VjQuNTkySDI4LjI0QzI4LjQgNC4yOTYgMjguNTI4IDMuOTg0IDI4LjYzMiAzLjY0OEwyOC4wNTYgMy41ODRDMjcuOCA0LjQyNCAyNy4zMDQgNS4xMzYgMjYuNTg0IDUuNzEyTDI2LjkyOCA2LjE2OEMyNy4zMDQgNS44NTYgMjcuNjI0IDUuNTEyIDI3Ljg5NiA1LjE0NFoiIGZpbGw9IndoaXRlIiBmaWxsLW9wYWNpdHk9IjAuNzUiLz4KPHBhdGggZD0iTTEzLjk0NDggNy4wMDAyM0wxMi4yMTc4IDUuOTYxNTlDMTIuMTc3MyA1LjkzNzQgMTIuMTI3NSA1Ljk2NzkzIDEyLjEyNzUgNi4wMTY2OVY4LjU5ODY0QzEyLjEyNzUgOC42NDQyMyAxMi4xNTA1IDguNjg1ODUgMTIuMTg4MyA4LjcwODQ1TDEzLjkxNTMgOS43NDcwOUMxMy45NTU3IDkuNzcxMjggMTQuMDA1NiA5Ljc0MDc1IDE0LjAwNTYgOS42OTE5OVY3LjExMDA0QzE0LjAwNTIgNy4wNjQ4NSAxMy45ODIyIDcuMDIyODMgMTMuOTQ0OCA3LjAwMDIzWiIgZmlsbD0id2hpdGUiIGZpbGwtb3BhY2l0eT0iMC41Ii8+CjxwYXRoIGQ9Ik0xMS41ODE3IDUuNTc5MzNMOS44NTQ2MiA0LjU0MDY5QzkuODE0NTggNC41MTY1MSA5Ljc2NDM0IDQuNTQ3MDMgOS43NjQzNCA0LjU5NTc5VjguNjA4ODNDOS43NjQzNCA4LjY0MzcyIDkuNzkxNTQgOC42NzIyNiA5LjgyNDc4IDguNjcyMjZIMTEuNTgyQzExLjYxNTMgOC42NzIyNiAxMS42NDI1IDguNjQzNzIgMTEuNjQyNSA4LjYwODgzVjUuNjg5MTRDMTEuNjQyMSA1LjY0Mzk1IDExLjYxOTEgNS42MDE5MyAxMS41ODE3IDUuNTc5MzNaIiBmaWxsPSJ3aGl0ZSIgZmlsbC1vcGFjaXR5PSIwLjUiLz4KPHBhdGggZD0iTTcuNDkxNjggOS43NDcxNUw5LjIxODcyIDguNzA4NTFDOS4yNTYxMSA4LjY4NTkyIDkuMjc5NTMgOC42NDM4OSA5LjI3OTUzIDguNTk4N1Y0LjMwMzhDOS4yNzk1MyA0LjI1NTA0IDkuMjI5MjkgNC4yMjQ1MSA5LjE4OTI1IDQuMjQ4N0w3LjQ2MjIxIDUuMjg3MzRDNy40MjQ4MiA1LjMwOTkzIDcuNDAxNCA1LjM1MTk2IDcuNDAxNCA1LjM5NzE1VjkuNjkyMDVDNy40MDE0IDkuNzQwODEgNy40NTEyNiA5Ljc3MTM0IDcuNDkxNjggOS43NDcxNVoiIGZpbGw9IndoaXRlIiBmaWxsLW9wYWNpdHk9IjAuNSIvPgo8cGF0aCBkPSJNMTQuNDkwMiA3LjQzODM5VjguNjA5NDNDMTQuNDkwMiA4LjY0NDMyIDE0LjUxNzQgOC42NzI4NiAxNC41NTA2IDguNjcyODZIMTYuNDk3OEMxNi41NTk4IDguNjcyODYgMTYuNTgxMyA4LjU4Njg0IDE2LjUyNzcgOC41NTQ3M0wxNC41ODA1IDcuMzgzNjlDMTQuNTQwNCA3LjM1OTExIDE0LjQ5MDIgNy4zODk2MyAxNC40OTAyIDcuNDM4MzlaIiBmaWxsPSJ3aGl0ZSIgZmlsbC1vcGFjaXR5PSIwLjUiLz4KPHBhdGggZD0iTTYuODI1NTEgNS42Njk1OUwyLjAzMDQ0IDguNTUzNjFDMS45NzY4MSA4LjU4NTcyIDEuOTk4NzEgOC42NzE3NCAyLjA2MDI5IDguNjcxNzRINi44NTU3M0M2Ljg4ODk3IDguNjcxNzQgNi45MTYxNyA4LjY0MzIgNi45MTYxNyA4LjYwODMyVjUuNzI0N0M2LjkxNjE3IDUuNjc1OTQgNi44NjU5MyA1LjY0NTQxIDYuODI1NTEgNS42Njk1OVoiIGZpbGw9IndoaXRlIiBmaWxsLW9wYWNpdHk9IjAuNSIvPgo8L3N2Zz4K); } .ad-logo-bd__2QOWy { width: 20px; height: 14px; background: no-repeat center / contain url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMTQiIHZpZXdCb3g9IjAgMCAyMCAxNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTAgMkMwIDAuODk1NDMgMC44OTU0MzEgMCAyIDBIMThDMTkuMTA0NiAwIDIwIDAuODk1NDMxIDIwIDJWMTJDMjAgMTMuMTA0NiAxOS4xMDQ2IDE0IDE4IDE0SDJDMC44OTU0MzEgMTQgMCAxMy4xMDQ2IDAgMTJWMloiIGZpbGw9IiMxNjE4MjMiIGZpbGwtb3BhY2l0eT0iMC4xMiIvPgo8cGF0aCBkPSJNNi4yMDggMy4zNDRMNS41NzYgMy40NTZDNS43MzYgMy43MTIgNS44ODggNCA2LjAxNiA0LjMxMkgzLjA0VjYuNjU2QzMuMDI0IDguMjcyIDIuNzg0IDkuNTI4IDIuMzM2IDEwLjQ0TDIuODA4IDEwLjg2NEMzLjMyOCA5LjgwOCAzLjYgOC40MDggMy42MzIgNi42NTZWNC44NjRIOS41NlY0LjMxMkg2LjY0OEM2LjUwNCAzLjk1MiA2LjM2IDMuNjMyIDYuMjA4IDMuMzQ0Wk0xNi42MzIgNy44NDhIMTEuNDE2VjEwLjc5MkgxMlYxMC4zNjhIMTYuMDQ4VjEwLjc5MkgxNi42MzJWNy44NDhaTTEyIDkuODI0VjguNEgxNi4wNDhWOS44MjRIMTJaTTExLjg5NiA1LjE0NEgxMy44MDhWNi40NEgxMC4zODRWNy4wMDhIMTcuNjE2VjYuNDRIMTQuMzkyVjUuMTQ0SDE3LjAwOFY0LjU5MkgxNC4zOTJWMy40NTZIMTMuODA4VjQuNTkySDEyLjI0QzEyLjQgNC4yOTYgMTIuNTI4IDMuOTg0IDEyLjYzMiAzLjY0OEwxMi4wNTYgMy41ODRDMTEuOCA0LjQyNCAxMS4zMDQgNS4xMzYgMTAuNTg0IDUuNzEyTDEwLjkyOCA2LjE2OEMxMS4zMDQgNS44NTYgMTEuNjI0IDUuNTEyIDExLjg5NiA1LjE0NFoiIGZpbGw9IndoaXRlIiBmaWxsLW9wYWNpdHk9IjAuNzUiLz4KPC9zdmc+Cg==); } /*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9saXVweTUyNS9yZXBvcy90ZWFtL3VuaW9uX3BsYXlhYmxlX3Nkay9zcmMvY29tcG9uZW50cy9hZExvZ28vc3R5bGUubGVzcyIsInN0eWxlLmxlc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBRUE7RUFDRSxlQUFBO0VBQ0EsWUFBQTtFQUNBLFVBQUE7RUFDQSxjQUFBO0VBQ0Esb0JBQUE7QUNERjtBRElBO0VBQ0UsV0FBQTtFQUNBLFlBQUE7RUFDQSxvRUFBQTtBQ0ZGO0FES0E7RUFDRSxXQUFBO0VBQ0EsWUFBQTtFQUNBLG9FQUFBO0FDSEYiLCJmaWxlIjoic3R5bGUubGVzcyIsInNvdXJjZXNDb250ZW50IjpbIkBpbXBvcnQgJy4uLy4uL3N0eWxlcy9jb25zdGFudHMubGVzcyc7XG5cbi5hZC1sb2dvIHtcbiAgcG9zaXRpb246IGZpeGVkO1xuICBib3R0b206IDE2cHg7XG4gIGxlZnQ6IDE2cHg7XG4gIHotaW5kZXg6IEBjb21wb25lbnRCYXNlWkluZGV4O1xuICBwb2ludGVyLWV2ZW50czogbm9uZTtcbn1cblxuLmFkLWxvZ28tcGFuZ2xlIHtcbiAgd2lkdGg6IDM2cHg7XG4gIGhlaWdodDogMTRweDtcbiAgYmFja2dyb3VuZDogbm8tcmVwZWF0IGNlbnRlciAvIGNvbnRhaW4gdXJsKC4vcGFuZ2xlLnN2Zyk7XG59XG5cbi5hZC1sb2dvLWJkIHtcbiAgd2lkdGg6IDIwcHg7XG4gIGhlaWdodDogMTRweDtcbiAgYmFja2dyb3VuZDogbm8tcmVwZWF0IGNlbnRlciAvIGNvbnRhaW4gdXJsKC4vYmQuc3ZnKTtcbn1cbiIsIi5hZC1sb2dvIHtcbiAgcG9zaXRpb246IGZpeGVkO1xuICBib3R0b206IDE2cHg7XG4gIGxlZnQ6IDE2cHg7XG4gIHotaW5kZXg6IDEwMDAwO1xuICBwb2ludGVyLWV2ZW50czogbm9uZTtcbn1cbi5hZC1sb2dvLXBhbmdsZSB7XG4gIHdpZHRoOiAzNnB4O1xuICBoZWlnaHQ6IDE0cHg7XG4gIGJhY2tncm91bmQ6IG5vLXJlcGVhdCBjZW50ZXIgLyBjb250YWluIHVybCguL3BhbmdsZS5zdmcpO1xufVxuLmFkLWxvZ28tYmQge1xuICB3aWR0aDogMjBweDtcbiAgaGVpZ2h0OiAxNHB4O1xuICBiYWNrZ3JvdW5kOiBuby1yZXBlYXQgY2VudGVyIC8gY29udGFpbiB1cmwoLi9iZC5zdmcpO1xufVxuIl19 */ .bubble { position: absolute; top: 0; left: 0; opacity: 0; width: 0.213333rem; height: 0.213333rem; pointer-events: none; } .bubble img { width: 0.8rem; } .scale0 { -webkit-transform: scale(0); -ms-transform: scale(0); transform: scale(0); -webkit-transition: all 0.5s; -o-transition: all 0.5s; transition: all 0.5s; } #app { width: 100%; height: 100vh; background-image: url(/img/bg.2c80af1a.jpg); background-repeat: no-repeat; background-size: 100% 100%; display: -webkit-box; display: -webkit-flex; display: -ms-flexbox; display: flex; -webkit-box-orient: vertical; -webkit-box-direction: normal; -webkit-flex-direction: column; -ms-flex-direction: column; flex-direction: column; -webkit-justify-content: space-around; -ms-flex-pack: distribute; justify-content: space-around; -webkit-box-align: center; -webkit-align-items: center; -ms-flex-align: center; align-items: center; overflow: hidden; } @media screen and (min-width: 1024px) { #app { position: relative; top: 0; right: 0; bottom: 0; left: 0; margin: auto; width: 10rem; } } #app .head { width: -webkit-calc(100% - 1.2rem); width: calc(100% - 1.2rem); padding: 1.2rem 0.6rem; display: -webkit-box; display: -webkit-flex; display: -ms-flexbox; display: flex; -webkit-box-pack: end; -webkit-justify-content: flex-end; -ms-flex-pack: end; justify-content: flex-end; -webkit-box-align: center; -webkit-align-items: center; -ms-flex-align: center; align-items: center; } #app .head .rp, #app .head .gold { width: 2.666667rem; height: 0.6rem; background: -webkit-gradient(linear, left top, left bottom, from(#31214d), to(#60429f)); background: -webkit-linear-gradient(top, #31214d, #60429f); background: -o-linear-gradient(top, #31214d, #60429f); background: linear-gradient(to bottom, #31214d, #60429f); border: 0.013333rem solid #9b93d9; -webkit-border-radius: 0.2rem; border-radius: 0.2rem; position: relative; display: -webkit-box; display: -webkit-flex; display: -ms-flexbox; display: flex; -webkit-box-pack: center; -webkit-justify-content: center; -ms-flex-pack: center; justify-content: center; font-size: 0.533333rem; color: #fff; line-height: 0.626667rem; } #app .head .rp-img { position: absolute; width: 0.746667rem; top: -0.133333rem; left: -0.066667rem; } #app .head .gold { margin-left: 0.4rem; } #app .head .gold .gold-img { position: absolute; width: 0.746667rem; top: -0.066667rem; left: -0.066667rem; } #app .popStar { width: -webkit-calc(100% - 1.2rem); width: calc(100% - 1.2rem); padding: 0 0.6rem 1.6rem 0.6rem; } #app .popStar .starRow { display: -webkit-box; display: -webkit-flex; display: -ms-flexbox; display: flex; -webkit-box-pack: center; -webkit-justify-content: center; -ms-flex-pack: center; justify-content: center; } #app .popStar .starRow .starItem img { width: 100%; }@charset \"utf-8\"; .border, .border-top, .border-right, .border-bottom, .border-left, .border-topbottom, .border-rightleft, .border-topleft, .border-rightbottom, .border-topright, .border-bottomleft { position: relative; } .border::before, .border-top::before, .border-right::before, .border-bottom::before, .border-left::before, .border-topbottom::before, .border-topbottom::after, .border-rightleft::before, .border-rightleft::after, .border-topleft::before, .border-topleft::after, .border-rightbottom::before, .border-rightbottom::after, .border-topright::before, .border-topright::after, .border-bottomleft::before, .border-bottomleft::after { content: \"\\0020\"; overflow: hidden; position: absolute; } /* border * 因，边框是由伪元素区域遮盖在父级 * 故，子级若有交互，需要对子级设置 * 定位 及 z轴 */ .border::before { -webkit-box-sizing: border-box; box-sizing: border-box; top: 0; left: 0; height: 100%; width: 100%; border: 0.013333rem solid #eaeaea; -webkit-transform-origin: 0 0; -ms-transform-origin: 0 0; transform-origin: 0 0; } .border-top::before, .border-bottom::before, .border-topbottom::before, .border-topbottom::after, .border-topleft::before, .border-rightbottom::after, .border-topright::before, .border-bottomleft::before { left: 0; width: 100%; height: 0.013333rem; } .border-right::before, .border-left::before, .border-rightleft::before, .border-rightleft::after, .border-topleft::after, .border-rightbottom::before, .border-topright::after, .border-bottomleft::after { top: 0; width: 0.013333rem; height: 100%; } .border-top::before, .border-topbottom::before, .border-topleft::before, .border-topright::before { border-top: 0.013333rem solid #eaeaea; -webkit-transform-origin: 0 0; -ms-transform-origin: 0 0; transform-origin: 0 0; } .border-right::before, .border-rightbottom::before, .border-rightleft::before, .border-topright::after { border-right: 0.013333rem solid #eaeaea; -webkit-transform-origin: 100% 0; -ms-transform-origin: 100% 0; transform-origin: 100% 0; } .border-bottom::before, .border-topbottom::after, .border-rightbottom::after, .border-bottomleft::before { border-bottom: 0.013333rem solid #eaeaea; -webkit-transform-origin: 0 100%; -ms-transform-origin: 0 100%; transform-origin: 0 100%; } .border-left::before, .border-topleft::after, .border-rightleft::after, .border-bottomleft::after { border-left: 0.013333rem solid #eaeaea; -webkit-transform-origin: 0 0; -ms-transform-origin: 0 0; transform-origin: 0 0; } .border-top::before, .border-topbottom::before, .border-topleft::before, .border-topright::before { top: 0; } .border-right::before, .border-rightleft::after, .border-rightbottom::before, .border-topright::after { right: 0; } .border-bottom::before, .border-topbottom::after, .border-rightbottom::after, .border-bottomleft::after { bottom: 0; } .border-left::before, .border-rightleft::before, .border-topleft::after, .border-bottomleft::before { left: 0; } @media (-webkit-max-device-pixel-ratio: 1.49), (max-device-pixel-ratio: 1.49), (-webkit-max-device-pixel-ratio: 1.4895833333333333), (-o-max-device-pixel-ratio: 143/96), (max-resolution: 143dpi), (-o-max-device-pixel-ratio: 149/100), (max-resolution: 1.49dppx) { /* 默认值，无需重置 */ } @media (-webkit-min-device-pixel-ratio: 1.5) and (-webkit-max-device-pixel-ratio: 2.49), (min-device-pixel-ratio: 1.5) and (max-device-pixel-ratio: 2.49), (-webkit-min-device-pixel-ratio: 1.5) and (-webkit-max-device-pixel-ratio: 2.4895833333333335), (-o-min-device-pixel-ratio: 3/2) and (-o-max-device-pixel-ratio: 239/96), (min-resolution: 144dpi) and (max-resolution: 239dpi), (-o-min-device-pixel-ratio: 3/2) and (-o-max-device-pixel-ratio: 249/100), (min-resolution: 1.5dppx) and (max-resolution: 2.49dppx) { .border::before { width: 200%; height: 200%; -webkit-transform: scale(.5); -ms-transform: scale(.5); transform: scale(.5); } .border-top::before, .border-bottom::before, .border-topbottom::before, .border-topbottom::after, .border-topleft::before, .border-rightbottom::after, .border-topright::before, .border-bottomleft::before { -webkit-transform: scaleY(.5); -ms-transform: scaleY(.5); transform: scaleY(.5); } .border-right::before, .border-left::before, .border-rightleft::before, .border-rightleft::after, .border-topleft::after, .border-rightbottom::before, .border-topright::after, .border-bottomleft::after { -webkit-transform: scaleX(.5); -ms-transform: scaleX(.5); transform: scaleX(.5); } } @media (-webkit-min-device-pixel-ratio: 2.5), (min-device-pixel-ratio: 2.5), (-o-min-device-pixel-ratio: 5/2), (min-resolution: 240dpi), (min-resolution: 2.5dppx) { .border::before { width: 300%; height: 300%; -webkit-transform: scale(.33333); -ms-transform: scale(.33333); transform: scale(.33333); } .border-top::before, .border-bottom::before, .border-topbottom::before, .border-topbottom::after, .border-topleft::before, .border-rightbottom::after, .border-topright::before, .border-bottomleft::before { -webkit-transform: scaleY(.33333); -ms-transform: scaleY(.33333); transform: scaleY(.33333); } .border-right::before, .border-left::before, .border-rightleft::before, .border-rightleft::after, .border-topleft::after, .border-rightbottom::before, .border-topright::after, .border-bottomleft::after { -webkit-transform: scaleX(.33333); -ms-transform: scaleX(.33333); transform: scaleX(.33333); } }/* http://meyerweb.com/eric/tools/css/reset/ */ /* v1.0 | 20080212 */ html, body, div, span, applet, object, iframe, h1, h2, h3, h4, h5, h6, p, blockquote, pre, a, abbr, acronym, address, big, cite, code, del, dfn, em, font, img, ins, kbd, q, s, samp, small, strike, strong, sub, sup, tt, var, b, u, i, center, dl, dt, dd, ol, ul, li, fieldset, form, label, legend, table, caption, tbody, tfoot, thead, tr, th, td { margin: 0; padding: 0; border: 0; outline: 0; font-size: 100%; vertical-align: baseline; background: transparent; } body { line-height: 1; } ol, ul { list-style: none; } blockquote, q { quotes: none; } blockquote:before, blockquote:after, q:before, q:after { content: ''; content: none; } /* remember to define focus styles! */ :focus { outline: 0; } /* remember to highlight inserts somehow! */ ins { text-decoration: none; } del { text-decoration: line-through; } /* tables still need 'cellspacing=\"0\"' in the markup */ table { border-collapse: collapse; border-spacing: 0; } 0 0"},{"title":"","date":"2022-08-01T07:39:07.854Z","updated":"2022-08-01T07:39:07.854Z","comments":false,"path":"mylist/index.html","permalink":"http://wang-z.gitee.io/mylist/index.html","excerpt":"","text":""},{"title":"所有标签","date":"2022-08-01T07:39:07.855Z","updated":"2022-08-01T07:39:07.855Z","comments":false,"path":"tags/index.html","permalink":"http://wang-z.gitee.io/tags/index.html","excerpt":"","text":""},{"title":"","date":"2022-08-01T07:39:07.851Z","updated":"2022-08-01T07:39:07.851Z","comments":true,"path":"img/开心消星星_files/saved_resource(1).html","permalink":"http://wang-z.gitee.io/img/%E5%BC%80%E5%BF%83%E6%B6%88%E6%98%9F%E6%98%9F_files/saved_resource(1).html","excerpt":"","text":""},{"title":"","date":"2022-08-01T07:39:07.852Z","updated":"2022-08-01T07:39:07.852Z","comments":true,"path":"img/开心消星星_files/saved_resource(2).html","permalink":"http://wang-z.gitee.io/img/%E5%BC%80%E5%BF%83%E6%B6%88%E6%98%9F%E6%98%9F_files/saved_resource(2).html","excerpt":"","text":""},{"title":"","date":"2022-08-01T07:39:07.852Z","updated":"2022-08-01T07:39:07.852Z","comments":true,"path":"img/开心消星星_files/saved_resource(3).html","permalink":"http://wang-z.gitee.io/img/%E5%BC%80%E5%BF%83%E6%B6%88%E6%98%9F%E6%98%9F_files/saved_resource(3).html","excerpt":"","text":""},{"title":"","date":"2022-08-01T07:39:07.853Z","updated":"2022-08-01T07:39:07.853Z","comments":true,"path":"img/开心消星星_files/saved_resource.html","permalink":"http://wang-z.gitee.io/img/%E5%BC%80%E5%BF%83%E6%B6%88%E6%98%9F%E6%98%9F_files/saved_resource.html","excerpt":"","text":""}],"posts":[{"title":"前端对于B端业务场景","slug":"base-前端对于B端业务场景","date":"2023-09-14T03:12:03.000Z","updated":"2023-09-14T05:35:53.826Z","comments":true,"path":"2023/09/14/base-前端对于B端业务场景/","link":"","permalink":"http://wang-z.gitee.io/2023/09/14/base-%E5%89%8D%E7%AB%AF%E5%AF%B9%E4%BA%8EB%E7%AB%AF%E4%B8%9A%E5%8A%A1%E5%9C%BA%E6%99%AF/","excerpt":"","text":"常见的B端产品具体业务和逻辑封装，例如，根据路由国际化翻译，覆盖UI框架主题以下代码由vue3实现 国际化处理 国际化，使B端Web能切换各种语言，通常使用i18n配置翻译文件，将路由路径和翻译结合方便维护同一页面的翻译 1234567//路由path -&gt; 语言包结构 ： /user/manage/list -&gt; user.manage.//route.path需要根据业务自定义//定义函数function i18nModule() &#123; const route = useRoute() return route.path.substring(1).replace(/\\//g, &#x27;.&#x27;) + &#x27;.&#x27;&#125; 123456789//在具体demo.vue中使用&lt;template&gt; &lt;div&gt;&#123;&#123; $t(i18nModule + &#x27;hello&#x27;) &#125;&#125;&lt;/div&gt;&lt;/template&gt;&lt;script setup&gt; import useI18nModule from &#x27;@/hook/useI18nModule&#x27; const &#123; i18nModule &#125; = useI18nModule()&lt;/script&gt; 覆盖UI框架主题 使用element-plus时，需要根据UI设计图更改主题色，可参考https://element-plus.org/zh-CN/guide/theming.html可以直接更改element-plus的主题变量，也可以使用–el-xx-color:red覆盖原有组件变量 1234567891011121314151617181920212223242526272829@use &#x27;element-plus/theme-chalk/src/mixins/function.scss&#x27;as *;$--colors: (&#x27;primary&#x27;: (&#x27;base&#x27;: #008cef), &#x27;success&#x27;: (&#x27;base&#x27;: #00BD9D), &#x27;warning&#x27;: (&#x27;base&#x27;: #ffbc0A), &#x27;danger&#x27;: (&#x27;base&#x27;: #f06548), &#x27;error&#x27;: (&#x27;base&#x27;: #f06548), &#x27;info&#x27;: (&#x27;base&#x27;: #878A99));$header: (&#x27;padding&#x27;: 0);@forward &#x27;element-plus/theme-chalk/src/common/var.scss&#x27;with ( $colors: (&#x27;primary&#x27;: (&#x27;base&#x27;: #008cef), &#x27;success&#x27;: (&#x27;base&#x27;: #00BD9D), &#x27;warning&#x27;: (&#x27;base&#x27;: #ffbc0A), &#x27;danger&#x27;: (&#x27;base&#x27;: #f06548), &#x27;error&#x27;: (&#x27;base&#x27;: #f06548), &#x27;info&#x27;: (&#x27;base&#x27;: #878A99)), $text-color: (&#x27;placeholder&#x27;: #c0c4cc), $table:(&#x27;header-bg-color&#x27;:#E6F4FE), $fill-color:(&#x27;lighter&#x27;: #F3F6F9));//覆盖组件变量.el-table &#123; --el-table-header-bg-color: #F6F6F7; --el-table-header-text-color: #4D4E50; --el-table-current-row-bg-color: #E8EBFA; --el-fill-color-lighter: #f6f6f7; --el-table-border: 1px solid #e8ebfa;&#125; 全局注册二开组件 在基于element-plus组件二次封装的公共组件，我们希望能将其注册成为公共组件，可直接使用，不需要局部注册将 @/components/**/*.vue&#39;注册为公共组件 12345678910111213141516171819import &#123; createApp &#125; from &#x27;vue&#x27;import upperFirst from &#x27;lodash/upperFirst&#x27;import camelCase from &#x27;lodash/camelCase&#x27;const app = createApp(App)// 注册公共组件const baseComponents = import.meta.globEager(&#x27;@/components/**/*.vue&#x27;)Object.keys(baseComponents).forEach((fileName, component) =&gt; &#123; // 获取组件的 PascalCase 命名 const componentName = upperFirst( camelCase( // 剥去文件名开头的 `./` 和结尾的扩展名 fileName.substring(fileName.lastIndexOf(&#x27;/&#x27;)).replace(/^\\.?\\/(.*)\\.\\w+$/, &#x27;$1&#x27;) ) ) // 全局注册组件 app.component(componentName, baseComponents[fileName].default)&#125;)app.mount(&#x27;#app&#x27;)export default app 四舍五入（toFixed）兼容业务场景 在计算过程当中容易出现0.1+0.2=0.30000000000000004所以将需要在前端进行小数点计算都需要toFixed，更改原生Number.prototype.toFixed方法 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364//toFixed兼容方法，四舍五入Number.prototype.toFixed = function(len) &#123; if (len &gt; 20 || len &lt; 0) &#123; throw new RangeError(&#x27;toFixed() digits argument must be between 0 and 20&#x27;) &#125; // .123转为0.123 var number = Number(this) if (isNaN(number) || number &gt;= Math.pow(10, 21)) &#123; return number.toString() &#125; if (typeof len == &#x27;undefined&#x27; || len == 0) &#123; return Math.round(number).toString() &#125; //将数字转成字符串 包括科学计数法形式的数字 var result = scientificNotationToStr(number), numberArr = result.split(&#x27;.&#x27;) if (numberArr.length &lt; 2) &#123; //整数的情况 return padNum(result) &#125; var intNum = numberArr[0], //整数部分 deciNum = numberArr[1], //小数部分 lastNum = deciNum.substr(len, 1) // tofixed的后一位 if (deciNum.length == len) &#123; //需要截取的长度等于当前长度 return result &#125; if (deciNum.length &lt; len) &#123; //需要截取的长度大于当前长度 1.3.toFixed(2) return padNum(result) &#125; //需要截取的长度小于当前长度，需要判断最后一位数字 result = intNum + &#x27;.&#x27; + deciNum.substr(0, len) if (parseInt(lastNum, 10) &gt;= 5) &#123; //最后一位数字大于5，要进位 var times = Math.pow(10, len) //需要放大的倍数 var changedInt = Number(result.replace(&#x27;.&#x27;, &#x27;&#x27;)) //截取后转为整数 var fu = 1 / changedInt &lt; 0 // 为true 时，则 changedInt &lt; 0 或者 changedInt = -0,否则为正数或等于0 if (fu) &#123; changedInt-- //整数进位 &#125; else &#123; changedInt++ //整数进位 &#125; changedInt /= times //整数转为小数，注：有可能还是整数 result = scientificNotationToStr(changedInt) &#125; return result //对数字补0 function padNum(num) &#123; var dotPos = num.indexOf(&#x27;.&#x27;) if (dotPos === -1) &#123; //整数的情况 let dotNum = &#x27;.&#x27;.padEnd(len + 1, 0) return num + dotNum &#125; else &#123; //小数的情况 let need = len - (num.length - (dotPos + 1)) return num.padEnd(need, 0) &#125; &#125;&#125; 图标(svg)的使用 当需要自定义icon时，可以使用svg作为一种图标格式，在admin中自动导入svg，且使用 &lt;scg-icon name=&quot;xxx&quot;/&gt;使用 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051//vite.config.jsimport &#123; resolve &#125; from &#x27;path&#x27;import &#123; createSvgIconsPlugin &#125; from &#x27;vite-plugin-svg-icons&#x27;// https://vitejs.dev/config/export default defineConfig((&#123; command, mode &#125;) =&gt; &#123; ..., plugins: [ ..., createSvgIconsPlugin(&#123; // 指定需要缓存的图标文件夹 iconDirs: [resolve(process.cwd(), &#x27;src/assets/svg&#x27;)], // 指定symbolId格式 symbolId: &#x27;icon-[dir]-[name]&#x27; &#125;) ]&#125;)//svgIcon.vue&lt;template&gt; &lt;svg aria-hidden=&quot;true&quot; class=&quot;svg-icon&quot;&gt; &lt;use :xlink:href=&quot;symbolId&quot; /&gt; &lt;/svg&gt;&lt;/template&gt;&lt;script setup&gt;import &#123; defineComponent, computed &#125; from &#x27;vue&#x27;const props = defineProps(&#123; // 使用的svg图标名称，也就是svg文件名 name: &#123; type: String, required: true &#125;, prefix: &#123; type: String, default: &#x27;icon&#x27; &#125;&#125;)const symbolId = computed(() =&gt; `#$&#123;props.prefix&#125;-$&#123;props.name&#125;`)&lt;/script&gt;&lt;style scope&gt; .svg-icon &#123; width: 1em; height: 1em; fill: currentcolor; &#125;&lt;/style&gt;//使用方式&lt;template&gt; &lt;svg-icon name=&quot;language&quot; /&gt;&lt;/template&gt;","categories":[{"name":"base","slug":"base","permalink":"http://wang-z.gitee.io/categories/base/"}],"tags":[{"name":"vue3","slug":"vue3","permalink":"http://wang-z.gitee.io/tags/vue3/"},{"name":"admin","slug":"admin","permalink":"http://wang-z.gitee.io/tags/admin/"}],"author":{"name":"Mr.wang","avatar":"https://wang-z.gitee.io/img/author.jpg"}},{"title":"使用chatGPT制作聚光灯效果","slug":"vue-使用chatGPT制作聚光灯效果","date":"2023-05-20T05:14:52.000Z","updated":"2023-06-06T07:03:04.659Z","comments":true,"path":"2023/05/20/vue-使用chatGPT制作聚光灯效果/","link":"","permalink":"http://wang-z.gitee.io/2023/05/20/vue-%E4%BD%BF%E7%94%A8chatGPT%E5%88%B6%E4%BD%9C%E8%81%9A%E5%85%89%E7%81%AF%E6%95%88%E6%9E%9C/","excerpt":"突发奇想为局域网的聊天室制作一个聚光灯效果，在鼠标范围内才显示具体内容，其他地方都白屏，当双击时显示页面十秒","text":"突发奇想为局域网的聊天室制作一个聚光灯效果，在鼠标范围内才显示具体内容，其他地方都白屏，当双击时显示页面十秒 chatGPT使用 来自免费网站https://poe.com/，注册可用优秀的程序员只会使用更方便的程序完成自己想要达到的效果 前言 在使用chatGPT过程中发现，低版本是不联网，数据比较旧，会胡言乱语的编造看起来好像有用的我们要擅长发现问题且纠正在使用时，我会先假设模型是一个前端/后端开发工程师，并且在做什么事，目标是什么，需要做什么，哪里可以优化。 开始编程 假设你是一个前端开发工程师，正在为聊天室开发一个聚光灯效果的交互 1234567好的，我可以帮你设计一个聚光灯效果的交互。可以通过下面的步骤来实现：首先，你需要一个聊天室的界面，可以使用 HTML、CSS 和 JavaScript 来创建。接下来，在聊天室中添加一个聚光灯元素。你可以在 HTML 中创建一个 div 元素，并使用 CSS 将其设置为半透明的黑色背景。然后，使用 JavaScript 来控制该元素的位置和大小。当用户鼠标在聊天室中移动时，通过 JavaScript 监听鼠标移动事件，并更新聚光灯元素的位置，使其始终跟随鼠标。可以考虑添加一些动画效果，使聚光灯的移动更加平滑。最后，你可以使用 JavaScript 监听鼠标点击事件，并在点击时触发一些操作，例如发送消息或者打开聊天对话框等。需要注意的是，聚光灯效果可以通过 CSS 的 box-shadow 属性来实现，而不需要创建一个额外的元素。另外，为了确保你的交互在不同的浏览器中都能正常工作，你可能需要进行一些浏览器兼容性测试。 vue3实现聚光灯效果并随鼠标移动 123456要实现聚光灯效果并随鼠标移动，你可以使用Vue 3和CSS，具体步骤如下：创建一个Vue组件。在组件的template中创建一个包含聚光灯的元素，例如一个div。在该元素上应用CSS，使其看起来像一个聚光灯。你可以使用CSS的radial-gradient属性来创建一个圆形渐变，从而模拟聚光灯的效果。你可以使用CSS的transform属性来移动聚光灯的位置，使其跟随鼠标移动。在组件中添加一个事件监听器，以便在鼠标移动时更新聚光灯的位置。你可以使用Vue的v-on指令来添加事件监听器，并在方法中更新聚光灯位置。以下是一个示例Vue组件的代码，其中包含聚光灯效果并随鼠标移动： 1234567891011121314151617181920212223242526272829303132333435363738&lt;template&gt; &lt;div class=&quot;container&quot; v-on:mousemove=&quot;moveSpotlight&quot;&gt; &lt;div class=&quot;spotlight&quot;&gt;&lt;/div&gt; &lt;!-- 其他内容 --&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;export default &#123; methods: &#123; moveSpotlight(event) &#123; const spotlight = document.querySelector(&#x27;.spotlight&#x27;); const rect = event.target.getBoundingClientRect(); const x = event.clientX - rect.left; const y = event.clientY - rect.top; spotlight.style.transform = `translate($&#123;x&#125;px, $&#123;y&#125;px)`; &#125;, &#125;,&#125;;&lt;/script&gt;&lt;style&gt;.container &#123; position: relative;&#125;.spotlight &#123; position: absolute; top: 0; left: 0; width: 200px; height: 200px; border-radius: 50%; background: radial-gradient(circle at 50% 50%, transparent 0%, rgba(0, 0, 0, 0.8) 80%); transform: translate(-100px, -100px); pointer-events: none;&#125;&lt;/style&gt; 用自定义指令实现，并且除聚光灯外界面要遮住 123456789要使用自定义指令实现聚光灯效果并且除聚光灯外界面要遮住，你可以使用Vue 3的自定义指令和CSS，具体步骤如下：创建一个Vue指令。在指令的bind钩子函数中创建一个包含聚光灯的元素，例如一个div，并将其添加到页面中。在该元素上应用CSS，使其看起来像一个聚光灯。你可以使用CSS的radial-gradient属性来创建一个圆形渐变，从而模拟聚光灯的效果。你可以使用CSS的transform属性来移动聚光灯的位置，使其跟随鼠标移动。在指令的unbind钩子函数中将聚光灯元素从页面中删除。在指令的inserted钩子函数中创建一个遮罩层，并将其添加到页面中。遮罩层应该覆盖整个页面，以便将除聚光灯之外的内容遮住。在指令的unbind钩子函数中将遮罩层从页面中删除。在指令的update钩子函数中更新聚光灯的位置。你可以使用指令的value属性来获取鼠标的位置，并使用CSS的transform属性将聚光灯移动到该位置。以下是一个示例Vue指令的代码，其中包含聚光灯效果并且除聚光灯外界面要遮住： 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576&lt;template&gt; &lt;div v-spotlight=&quot;mousePosition&quot;&gt;&lt;/div&gt; &lt;!-- 其他内容 --&gt;&lt;/template&gt;&lt;script&gt;export default &#123; data() &#123; return &#123; mousePosition: &#123; x: 0, y: 0 &#125;, &#125;; &#125;, mounted() &#123; document.addEventListener(&#x27;mousemove&#x27;, this.updateMousePosition); &#125;, beforeUnmount() &#123; document.removeEventListener(&#x27;mousemove&#x27;, this.updateMousePosition); &#125;, methods: &#123; updateMousePosition(event) &#123; this.mousePosition.x = event.clientX; this.mousePosition.y = event.clientY; &#125;, &#125;, directives: &#123; spotlight: &#123; inserted(el) &#123; const spotlight = document.createElement(&#x27;div&#x27;); spotlight.classList.add(&#x27;spotlight&#x27;); el.appendChild(spotlight); const mask = document.createElement(&#x27;div&#x27;); mask.classList.add(&#x27;mask&#x27;); document.body.appendChild(mask); &#125;, update(el, binding) &#123; const spotlight = el.querySelector(&#x27;.spotlight&#x27;); spotlight.style.transform = `translate($&#123;binding.value.x&#125;px, $&#123;binding.value.y&#125;px)`; &#125;, unbind(el) &#123; const spotlight = el.querySelector(&#x27;.spotlight&#x27;); el.removeChild(spotlight); const mask = document.querySelector(&#x27;.mask&#x27;); document.body.removeChild(mask); &#125;, &#125;, &#125;,&#125;;&lt;/script&gt;&lt;style&gt;.mask &#123; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.8); z-index: 9999;&#125;.spotlight &#123; position: fixed; top: 0; left: 0; width: 200px; height: 200px; border-radius: 50%; background: radial-gradient(circle at 50% 50%, transparent 0%, rgba(0, 0, 0, 0.8) 80%); transform: translate(-100px, -100px); pointer-events: none; z-index: 10000;&#125;&lt;/style&gt; ……经过一系列的纠正过程，直接复制代码，让chatGPT重新编写，优化效果终于实现,具体代码如下 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103const spotlightDirective = &#123; mounted(el, binding) &#123; const spotlight = document.createElement(&quot;div&quot;); const mask = document.createElement(&quot;div&quot;); const size = binding.value?.size || 100; Object.assign(spotlight.style, &#123; position: &quot;fixed&quot;, borderRadius: &quot;50%&quot;, pointerEvents: &quot;none&quot;, zIndex: 10000, width: `$&#123;size&#125;px`, height: `$&#123;size&#125;px`, background: &quot;transparent&quot; &#125;); Object.assign(mask.style, &#123; position: &quot;fixed&quot;, top: 0, left: 0, width: &quot;100%&quot;, height: &quot;100%&quot;, zIndex: 9999, pointerEvents: &quot;none&quot;, background: &quot;white&quot;, // 将 background 属性设置为白色 mixBlendMode: &quot;normal&quot;, display: &quot;none&quot; &#125;); document.body.appendChild(spotlight); document.body.appendChild(mask); el._spotlight = spotlight; el._mask = mask; // 添加双击事件监听器 let timerId = null; let isHidden = false; window.addEventListener(&quot;dblclick&quot;, () =&gt; &#123; hideSpotlight(); clearTimeout(timerId); isHidden = true; timerId = setTimeout(() =&gt; &#123; isHidden = false; showSpotlight(); &#125;, 10000); &#125;); window.addEventListener(&quot;mousemove&quot;, onMouseMove); function onMouseMove(event) &#123; if (isHidden) return; const mouseX = event.clientX; const mouseY = event.clientY; if (mouseX &gt;= 0 &amp;&amp; mouseX &lt;= window.innerWidth - 30 &amp;&amp; mouseY &gt;= 0 &amp;&amp; mouseY &lt;= window.innerHeight - 30) &#123; const spotlightX = mouseX - size / 2; const spotlightY = mouseY - size / 2; Object.assign(spotlight.style, &#123; transform: `translate($&#123;spotlightX&#125;px, $&#123;spotlightY&#125;px)` &#125;); Object.assign(mask.style, &#123; display: &quot;block&quot;, &quot;-webkit-mask-image&quot;: `radial-gradient(circle $&#123;size / 2&#125;px at $&#123;spotlightX + size / 2&#125;px $&#123; spotlightY + size / 2 &#125;px, transparent 0, transparent $&#123;size / 2&#125;px, black $&#123;size / 2&#125;px)`, maskImage: `radial-gradient(circle $&#123;size / 2&#125;px at $&#123;spotlightX + size / 2&#125;px $&#123; spotlightY + size / 2 &#125;px, transparent 0, transparent $&#123;size / 2&#125;px, black $&#123;size / 2&#125;px)` &#125;); &#125; else &#123; showSpotlight(); &#125; &#125; el._onMouseMove = onMouseMove; function showSpotlight() &#123; console.log(&quot;showSpotlight&quot;); Object.assign(spotlight.style, &#123; width: 0, height: 0 &#125;); Object.assign(mask.style, &#123; display: &quot;block&quot;, &quot;-webkit-mask-image&quot;: &quot;none&quot;, maskImage: &quot;none&quot; &#125;); &#125; function hideSpotlight() &#123; Object.assign(spotlight.style, &#123; width: 0, height: 0 &#125;); Object.assign(mask.style, &#123; display: &quot;none&quot;, &quot;-webkit-mask-image&quot;: &quot;none&quot;, maskImage: &quot;none&quot; &#125;); &#125; &#125;, unmounted(el) &#123; window.removeEventListener(&quot;mousemove&quot;, el._onMouseMove); document.body.removeChild(el._spotlight); document.body.removeChild(el._mask); delete el._spotlight; delete el._mask; &#125;&#125;;export default spotlightDirective;","categories":[{"name":"vue","slug":"vue","permalink":"http://wang-z.gitee.io/categories/vue/"}],"tags":[{"name":"javascript","slug":"javascript","permalink":"http://wang-z.gitee.io/tags/javascript/"},{"name":"vue，cahtGPT","slug":"vue，cahtGPT","permalink":"http://wang-z.gitee.io/tags/vue%EF%BC%8CcahtGPT/"}],"author":{"name":"Mr.wang","avatar":"https://wang-z.gitee.io/img/author.jpg"}},{"title":"axios的封装","slug":"ajax-axios的封装","date":"2023-03-02T02:01:01.000Z","updated":"2023-03-02T02:17:45.873Z","comments":true,"path":"2023/03/02/ajax-axios的封装/","link":"","permalink":"http://wang-z.gitee.io/2023/03/02/ajax-axios%E7%9A%84%E5%B0%81%E8%A3%85/","excerpt":"axios使用习惯上的多次封装，记录当前使用的封装说明：axios的封装是基于日常业务所需，需要请求全局遮罩和判断是否使用后端的msg作为提示，根据后端状态码（401，403）做特殊处理","text":"axios使用习惯上的多次封装，记录当前使用的封装说明：axios的封装是基于日常业务所需，需要请求全局遮罩和判断是否使用后端的msg作为提示，根据后端状态码（401，403）做特殊处理 直接使用axios12import axios from &#x27;axios&#x27;axios.get(&#x27;url&#x27;).then(res=&gt;&#123;&#125;).catch(err=&gt;&#123;&#125;) 当我们需要请求时自动添加遮罩，判断返回状态码401和403的处理，是否显示接口返回的msg 创建axios实例12345678910111213141516import axios from &#x27;axios&#x27;class AxiosInstanceClass &#123; constructor() &#123; this.initInstance() &#125; // 初始化 axios 实例 initInstance() &#123; this.instance = axios.create(&#123; baseURL: baseURL, headers: &#123; &#x27;content-type&#x27;: &#x27;application/json;charset=UTF-8&#x27; &#125;, withCredentials: true &#125;) &#125;&#125; 请求时增加遮罩12345678910111213import axios from &#x27;axios&#x27;import &#123; Loading &#125; from &#x27;element-ui&#x27;// 全局loading加载let loadingCount = 0const loading = boolean =&gt; &#123; if (boolean) &#123; Loading.service(&#123; fullscreen: true &#125;) loadingCount++ &#125; else &#123; if (loadingCount === 1) Loading.service().close() if (loadingCount &gt; 0) loadingCount-- &#125;&#125; 请求拦截器1234567891011121314151617181920212223242526272829303132333435363738394041424344454647class AxiosInstanceClass &#123; constructor() &#123; this.initInstance() this.initInterceptors() &#125; // 初始化 axios 实例 initInstance() &#123; this.instance = axios.create(&#123; baseURL: baseURL, headers: &#123; &#x27;content-type&#x27;: &#x27;application/json;charset=UTF-8&#x27; &#125;, withCredentials: true &#125;) &#125; // 初始化 interceptors 拦截器 initInterceptors() &#123; // 请求拦截器 this.instance.interceptors.request.use( config =&gt; &#123; // 在发送请求之前做些什么 return config &#125;, error =&gt; &#123; // 对请求错误做些什么 loading(false) return Promise.reject(error) &#125; ) // 响应拦截器 this.instance.interceptors.response.use( response =&gt; &#123; // 2xx 范围内的状态码都会触发该函数 // 对响应数据做点什么 loading(false) if (!response.data.succ) codeExceptionHandler(response) return response.data &#125;, error =&gt; &#123; // 超出 2xx 范围的状态码都会触发该函数 // 对响应错误做点什么 loading(false) return Promise.reject(error) &#125; ) &#125;&#125; 异常 code 码处理12345678910111213141516171819202122232425262728293031323334353637const codeExceptionHandler = response =&gt; &#123; const &#123; code &#125; = response.data switch (code) &#123; case &#x27;401&#x27;: console.log(401) errorCodeMessage(response) // if (isAlert) return // isAlert = true // ElMessageBox.alert(vue.$t(`axios.code.401`),&#x27;Tips&#x27;,&#123; // showClose:false, // callback: action =&gt; &#123; // isAlert = false // const store = useAppStore() // store.setUserInfo(&#123;&#125;) // router.push(&#x27;/login&#x27;) // &#125;, // &#125;) break case &#x27;403&#x27;: errorCodeMessage(response) break default: errorCodeMessage(response) break &#125;&#125;// 异常 code 码错误提示const errorCodeMessage = response =&gt; &#123; //使用后端返回msg const &#123; config &#125; = response const &#123; msg &#125; = response.data if (!config.useResMsg) return Message.error(&#123; message: msg, duration: 4000 &#125;)&#125; 封装一部分确定的请求1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283class AxiosInstanceClass &#123; /*...*/ /** * 默认请求 * 用例 request(&#123; url: &#x27;/user&#x27;,method: &#x27;get&#x27;,useLoading:false,useResMsg:false&#125;) */ request(config) &#123; let &#123; useLoading = true &#125; = config if (useLoading) loading(true) return this.instance(config) &#125; /** * get 方法 * @param &#123;String&#125; url [请求的地址] * @param &#123;Object&#125; params [请求时携带的参数] * @param &#123;Object&#125; config [其他配置项] useLoading:使用遮罩 useResMsg:使用后端返回msg默认都为true * @returns axios 实例 * 用例 api.get(url,&#123;&#125;,true,true) */ get(url, params, ...config) &#123; let [useLoading = true, useResMsg = true, other] = config if (useLoading) loading(true) return this.instance.get(url, &#123; params, useResMsg, ...other &#125;) &#125; /** * post 方法 * @param &#123;String&#125; url [请求的地址] * @param &#123;Object&#125; data [请求体中的参数] * @param &#123;Object&#125; config [其他配置项] useLoading:使用遮罩 useResMsg:使用后端返回msg默认都为true * @returns axios 实例 */ post(url, data = &#123;&#125;, ...config) &#123; let [useLoading = true, useResMsg = true, other] = config if (useLoading) loading(true) return this.instance.post(url,data, &#123; useResMsg, ...other &#125;) &#125; /** * put 方法 * @param &#123;String&#125; url [请求的地址] * @param &#123;Object&#125; data [请求体中的参数] * @param &#123;Object&#125; config [其他配置项] useLoading:使用遮罩 useResMsg:使用后端返回msg默认都为true * @returns axios 实例 */ put(url, data = &#123;&#125;, ...config) &#123; let [useLoading = true, useResMsg = true, other] = config if (useLoading) loading(true) return this.instance.put(url,data, &#123; useResMsg, ...other &#125;) &#125; /** * delete 方法 * @param &#123;String&#125; url [请求的地址] * @param &#123;Object&#125; data [请求体中的参数] * @param &#123;Object&#125; config [其他配置项] useLoading:使用遮罩 useResMsg:使用后端返回msg默认都为true * @returns axios 实例 */ delete(url, params = &#123;&#125;, ...config) &#123; let [useLoading = true, useResMsg = true, other] = config if (useLoading) loading(true) return this.instance.pdeleteut(url, &#123; params, useResMsg, ...other &#125;) &#125; /** * upload 方法 * @param &#123;String&#125; url [请求的地址] * @param &#123;Object&#125; data [请求体中的参数] * @param &#123;Object&#125; config [其他配置项] useLoading:使用遮罩 useResMsg:使用后端返回msg默认都为true * @returns axios 实例 */ upload(url, data = &#123;&#125;, ...config) &#123; let [useLoading = true, useResMsg = true, other] = config if (useLoading) loading(true) return this.instance.post( url, Object.assign( &#123; headers: &#123; &#x27;content-type&#x27;: &#x27;multipart/form-data&#x27; &#125; &#125;, &#123; data, useResMsg, ...other &#125; ) ) &#125;&#125; 完整源码123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174import axios from &#x27;axios&#x27;import baseURL from &#x27;./baseURL&#x27;import &#123; Loading, Notification, MessageBox, Message &#125; from &#x27;element-ui&#x27;// 全局loading加载let loadingCount = 0let isAlert = falseconst loading = boolean =&gt; &#123; if (boolean) &#123; Loading.service(&#123; fullscreen: true &#125;) loadingCount++ &#125; else &#123; if (loadingCount === 1) Loading.service().close() if (loadingCount &gt; 0) loadingCount-- &#125;&#125;// 异常 code 码错误提示const errorCodeMessage = response =&gt; &#123; //使用后端返回msg const &#123; config &#125; = response const &#123; msg &#125; = response.data if (!config.useResMsg) return Message.error(&#123; message: msg, duration: 4000 &#125;)&#125;// 异常 code 码处理const codeExceptionHandler = response =&gt; &#123; const &#123; code &#125; = response.data switch (code) &#123; case &#x27;401&#x27;: errorCodeMessage(response) break case &#x27;403&#x27;: errorCodeMessage(response) break default: errorCodeMessage(response) break &#125;&#125;class AxiosInstanceClass &#123; constructor() &#123; this.initInstance() this.initInterceptors() &#125; // 初始化 axios 实例 initInstance() &#123; this.instance = axios.create(&#123; baseURL: baseURL, headers: &#123; &#x27;content-type&#x27;: &#x27;application/json;charset=UTF-8&#x27; &#125;, withCredentials: true &#125;) &#125; // 初始化 interceptors 拦截器 initInterceptors() &#123; // 请求拦截器 this.instance.interceptors.request.use( config =&gt; &#123; // 在发送请求之前做些什么 return config &#125;, error =&gt; &#123; // 对请求错误做些什么 loading(false) return Promise.reject(error) &#125; ) // 响应拦截器 this.instance.interceptors.response.use( response =&gt; &#123; // 2xx 范围内的状态码都会触发该函数 // 对响应数据做点什么 loading(false) if (!response.data.succ) codeExceptionHandler(response) return response.data &#125;, error =&gt; &#123; // 超出 2xx 范围的状态码都会触发该函数 // 对响应错误做点什么 loading(false) return Promise.reject(error) &#125; ) &#125; /** * 默认请求 * 用例 request(&#123; url: &#x27;/user&#x27;,method: &#x27;get&#x27;,useLoading:false,useResMsg:false&#125;) */ request(config) &#123; let &#123; useLoading = true &#125; = config if (useLoading) loading(true) return this.instance(config) &#125; /** * get 方法 * @param &#123;String&#125; url [请求的地址] * @param &#123;Object&#125; params [请求时携带的参数] * @param &#123;Object&#125; config [其他配置项] useLoading:使用遮罩 useResMsg:使用后端返回msg默认都为true * @returns axios 实例 * 用例 api.get(url,&#123;&#125;,true,true) */ get(url, params, ...config) &#123; let [useLoading = true, useResMsg = true, other] = config if (useLoading) loading(true) return this.instance.get(url, &#123; params, useResMsg, ...other &#125;) &#125; /** * post 方法 * @param &#123;String&#125; url [请求的地址] * @param &#123;Object&#125; data [请求体中的参数] * @param &#123;Object&#125; config [其他配置项] useLoading:使用遮罩 useResMsg:使用后端返回msg默认都为true * @returns axios 实例 */ post(url, data = &#123;&#125;, ...config) &#123; let [useLoading = true, useResMsg = true, other] = config if (useLoading) loading(true) return this.instance.post(url,data, &#123; useResMsg, ...other &#125;) &#125; /** * put 方法 * @param &#123;String&#125; url [请求的地址] * @param &#123;Object&#125; data [请求体中的参数] * @param &#123;Object&#125; config [其他配置项] useLoading:使用遮罩 useResMsg:使用后端返回msg默认都为true * @returns axios 实例 */ put(url, data = &#123;&#125;, ...config) &#123; let [useLoading = true, useResMsg = true, other] = config if (useLoading) loading(true) return this.instance.put(url,data, &#123; useResMsg, ...other &#125;) &#125; /** * delete 方法 * @param &#123;String&#125; url [请求的地址] * @param &#123;Object&#125; data [请求体中的参数] * @param &#123;Object&#125; config [其他配置项] useLoading:使用遮罩 useResMsg:使用后端返回msg默认都为true * @returns axios 实例 */ delete(url, params = &#123;&#125;, ...config) &#123; let [useLoading = true, useResMsg = true, other] = config if (useLoading) loading(true) return this.instance.pdeleteut(url, &#123; params, useResMsg, ...other &#125;) &#125; /** * upload 方法 * @param &#123;String&#125; url [请求的地址] * @param &#123;Object&#125; data [请求体中的参数] * @param &#123;Object&#125; config [其他配置项] useLoading:使用遮罩 useResMsg:使用后端返回msg默认都为true * @returns axios 实例 */ upload(url, data = &#123;&#125;, ...config) &#123; let [useLoading = true, useResMsg = true, other] = config if (useLoading) loading(true) return this.instance.post( url, Object.assign( &#123; headers: &#123; &#x27;content-type&#x27;: &#x27;multipart/form-data&#x27; &#125; &#125;, &#123; data, useResMsg, ...other &#125; ) ) &#125;&#125;const axiosInstance = new AxiosInstanceClass()export default axiosInstance","categories":[{"name":"ajax","slug":"ajax","permalink":"http://wang-z.gitee.io/categories/ajax/"}],"tags":[{"name":"javascript","slug":"javascript","permalink":"http://wang-z.gitee.io/tags/javascript/"},{"name":"axios","slug":"axios","permalink":"http://wang-z.gitee.io/tags/axios/"}],"author":{"name":"Mr.wang","avatar":"https://wang-z.gitee.io/img/author.jpg"}},{"title":"vue-实现SSO单点登录","slug":"vue-实现SSO单点登录","date":"2023-03-01T03:00:15.000Z","updated":"2023-09-14T03:11:44.986Z","comments":true,"path":"2023/03/01/vue-实现SSO单点登录/","link":"","permalink":"http://wang-z.gitee.io/2023/03/01/vue-%E5%AE%9E%E7%8E%B0SSO%E5%8D%95%E7%82%B9%E7%99%BB%E5%BD%95/","excerpt":"为了统一登录注册方式实现的单点登录，用户只需要登录一次就可以访问所有相互信任的应用系统 授权码鉴权：基于单点登录系统鉴权方式为token，兼容子系统任何鉴权方式（seesion，token） SSO流程图","text":"为了统一登录注册方式实现的单点登录，用户只需要登录一次就可以访问所有相互信任的应用系统 授权码鉴权：基于单点登录系统鉴权方式为token，兼容子系统任何鉴权方式（seesion，token） SSO流程图 前提 在SSO认证中心获取clientId以及后端所需的公钥 登录子系统业务正常访问（子系统维护登录会话）， 当访问失效时，清除本地登录信息，并且跳转到SSO-登录界面 SSO生成ticket并重定向到子系统进行验证ticket （3）子系统成功通过ticket进行登录，进入子系统业务界面 登录接口规范 域名：https://sso.your-site.com/login query参数： （1）client_id：客户端ID （2）lang：语言（zh-CN，en-US） （3）redirect_url（需转码escape）：登录成功后返回的地址-携带临时令牌（ticket） 登出子系统需要退出用户，子系统提供退出接口供SSO调用，当SSO退出时，其他子系统也需要退出用户 跳转至SSO的logout前端路由 SSO将会发起退出接口后重定向到登录界面 保持登录状态 由于子系统经过sso-login后，登录状态是由cookie去维持会话，当第二次sso-login后旧的界面没有进行刷新将会导致旧的界面显示旧的用户 1.使用定时器轮询监听cookie变化123456789var oldCookie = document.cookie;setInterval(function() &#123; var newCookie = document.cookie; if (newCookie !== oldCookie) &#123; // Cookie 已经更新，执行相应的操作 location.reload(); // 刷新页面 &#125;&#125;, 1000); // 每秒钟检查一次 document.cookie 可以获取当前页面中设置的 Cookie 值，但它无法获取服务器通过 Set-Cookie 响应头设置的 Cookie 值 cookie获取不到问题通过请求时获取headers中的set-cookie 123456789101112131415161718192021222324252627import axios from &#x27;axios&#x27;;const api = axios.create(&#123; baseURL: &#x27;http://example.com/api&#x27;,&#125;);api.interceptors.response.use( (response) =&gt; &#123; // 处理 Set-Cookie 响应头 const setCookie = response.headers[&#x27;set-cookie&#x27;]; if (setCookie) &#123; const cookies = setCookie.map((cookie) =&gt; &#123; return cookie.split(&#x27;;&#x27;)[0]; &#125;); // 将 Set-Cookie 转化为 Cookie，并设置到客户端浏览器中 cookies.forEach((cookie) =&gt; &#123; document.cookie = cookie; &#125;); &#125; return response; &#125;, (error) =&gt; &#123; return Promise.reject(error); &#125;);export default api; 2.在请求库的拦截器中判断cookie变化进行刷新界面1234567891011121314151617181920212223242526272829303132333435363738394041424344import axios from &#x27;axios&#x27;;const api = axios.create(&#123; baseURL: &#x27;http://example.com/api&#x27;,&#125;);api.interceptors.response.use( (response) =&gt; &#123; // 处理 Set-Cookie 响应头 const setCookie = response.headers[&#x27;set-cookie&#x27;]; if (setCookie) &#123; const cookies = setCookie.map((cookie) =&gt; &#123; return cookie.split(&#x27;;&#x27;)[0]; &#125;); // 将 Set-Cookie 转化为 Cookie const cookieString = cookies.join(&#x27;;&#x27;); // 存储 Cookie 值到 Local Storage localStorage.setItem(&#x27;cookie&#x27;, cookieString); &#125; return response; &#125;, (error) =&gt; &#123; return Promise.reject(error); &#125;);// 在发送请求前，检查 Cookie 值是否发生变化api.interceptors.request.use( (config) =&gt; &#123; // 从 Local Storage 中获取保存的 Cookie 值 const savedCookie = localStorage.getItem(&#x27;cookie&#x27;); // 比较保存的 Cookie 值和当前请求中的 Cookie 值是否相同 if (savedCookie &amp;&amp; config.headers.cookie !== savedCookie) &#123; // Cookie 值发生变化，触发页面刷新 window.location.reload(); &#125; return config; &#125;, (error) =&gt; &#123; return Promise.reject(error); &#125;);export default api;","categories":[{"name":"vue","slug":"vue","permalink":"http://wang-z.gitee.io/categories/vue/"}],"tags":[{"name":"vue","slug":"vue","permalink":"http://wang-z.gitee.io/tags/vue/"},{"name":"javascript","slug":"javascript","permalink":"http://wang-z.gitee.io/tags/javascript/"},{"name":"axios","slug":"axios","permalink":"http://wang-z.gitee.io/tags/axios/"},{"name":"SSO","slug":"SSO","permalink":"http://wang-z.gitee.io/tags/SSO/"},{"name":"vue-router","slug":"vue-router","permalink":"http://wang-z.gitee.io/tags/vue-router/"}],"author":{"name":"Mr.wang","avatar":"https://wang-z.gitee.io/img/author.jpg"}},{"title":"格式化金额","slug":"js-格式化金额（三位加逗号）","date":"2022-08-01T02:11:11.000Z","updated":"2023-08-31T07:26:32.669Z","comments":true,"path":"2022/08/01/js-格式化金额（三位加逗号）/","link":"","permalink":"http://wang-z.gitee.io/2022/08/01/js-%E6%A0%BC%E5%BC%8F%E5%8C%96%E9%87%91%E9%A2%9D%EF%BC%88%E4%B8%89%E4%BD%8D%E5%8A%A0%E9%80%97%E5%8F%B7%EF%BC%89/","excerpt":"一串数字转金额，每隔三位加逗号，如99999—-&gt;99,999.00 方法一1234567891011function toThousands(num) &#123; var result &#x3D; [ ], counter &#x3D; 0; num &#x3D; (num || 0).toString().split(&#39;&#39;); for (var i &#x3D; num.length - 1; i &gt;&#x3D; 0; i--) &#123; counter++; result.unshift(num[i]); if (!(counter % 3) &amp;&amp; i !&#x3D; 0) &#123; result.unshift(&#39;,&#39;); &#125; &#125; return result.join(&#39;&#39;); &#125;12345678910","text":"一串数字转金额，每隔三位加逗号，如99999—-&gt;99,999.00 方法一1234567891011function toThousands(num) &#123; var result &#x3D; [ ], counter &#x3D; 0; num &#x3D; (num || 0).toString().split(&#39;&#39;); for (var i &#x3D; num.length - 1; i &gt;&#x3D; 0; i--) &#123; counter++; result.unshift(num[i]); if (!(counter % 3) &amp;&amp; i !&#x3D; 0) &#123; result.unshift(&#39;,&#39;); &#125; &#125; return result.join(&#39;&#39;); &#125;12345678910 方法一的执行过程就是把数字转换成字符串后，打散为数组，再从末尾开始，逐个把数组中的元素插入到新数组（result）的开头。每插入一个元素，counter就计一次数（加1），当counter为3的倍数时，就插入一个逗号，但是要注意开头（i为0时）不需要逗号。最后通过调用新数组的join方法得出结果。方法一比较清晰易懂，但它的性能并不好。 方法二（方法一的字符串版）12345678910111213function toThousands(num) &#123; var result &#x3D; &#39;&#39;, counter &#x3D; 0; num &#x3D; (num || 0).toString(); for (var i &#x3D; num.length - 1; i &gt;&#x3D; 0; i--) &#123; counter++; result &#x3D; num.charAt(i) + result; if (!(counter % 3) &amp;&amp; i !&#x3D; 0) &#123; result &#x3D; &#39;,&#39; + result; &#125; &#125; return result; &#125;123456789101112 法二是方法一的改良版，不把字符串打散为数组，始终对字符串操作。 方法三 （循环匹配末尾的三个数字）12345678910111213141516function toThousands(num) &#123; var num &#x3D; (num || 0).toString(), re &#x3D; &#x2F;\\d&#123;3&#125;$&#x2F;, result &#x3D; &#39;&#39;; while ( re.test(num) ) &#123; result &#x3D; RegExp.lastMatch + result; if (num !&#x3D;&#x3D; RegExp.lastMatch) &#123; result &#x3D; &#39;,&#39; + result; num &#x3D; RegExp.leftContext; &#125; else &#123; num &#x3D; &#39;&#39;; break; &#125; &#125; if (num) &#123; result &#x3D; num + result; &#125; return result; &#125;123456789101112131415 方法三是完全不同的算法，通过正则表达式循环匹配末尾的三个数字，每匹配一次，就把逗号和匹配到的内容插入到结果字符串的开头，然后把匹配目标（num）赋值为还没匹配的内容（RegExp.leftContext）。此外，还要注意： 1.如果数字的位数是3的倍数时，最后一次匹配到的内容肯定是三个数字，但是最前面的三个数字前不需要加逗号；2.如果数字的位数不是3的倍数，那num变量最后肯定会剩下1到2个数字，循环过后，要把剩余的数字插入到结果字符串的开头。 虽然方法三减少了循环次数（一次循环处理三个字符），但由于用到了正则表达式，一定程度上增加了消耗。 方法四（方法三的字符串版）12345678910function toThousands(num) &#123; var num &#x3D; (num || 0).toString(), result &#x3D; &#39;&#39;; while (num.length &gt; 3) &#123; result &#x3D; &#39;,&#39; + num.slice(-3) + result; num &#x3D; num.slice(0, num.length - 3); &#125; if (num) &#123; result &#x3D; num + result; &#125; return result; &#125;123456789 事实上，截取末尾三个字符的功能可以通过字符串类型的slice、substr或substring方法做到。这样就可以避免使用正则表达式。 方法五（分组合并法）12345678910111213function toThousands(num) &#123; var num &#x3D; (num || 0).toString(), temp &#x3D; num.length % 3; switch (temp) &#123; case 1: num &#x3D; &#39;00&#39; + num; break; case 2: num &#x3D; &#39;0&#39; + num; break; &#125; return num.match(&#x2F;\\d&#123;3&#125;&#x2F;g).join(&#39;,&#39;).replace(&#x2F;^0+&#x2F;, &#39;&#39;); &#125;123456789101112 先把数字的位数补足为3的倍数，通过正则表达式，将其切割成每三个数字一个分组，再通过join方法添加逗号，最后还要把补的0移除。 方法六（懒人法）1234function toThousands(num) &#123; return (num || 0).toString().replace(&#x2F;(\\d)(?&#x3D;(?:\\d&#123;3&#125;)+$)&#x2F;g, &#39;$1,&#39;); &#125;123 这个格式化是通过一条正则表达式替换做出来的，这估计是代码最短的实现。 方法一和方法二的强烈对比表明，字符串操作的效率比数组操作的效率要高得多；方法六的测试结果告诉我们，代码长短跟性能高低没有关系。方法四的综合性能是最好的（但为何num为100的时候，性能有所降低呢，这个实在不解），主要原因是： 1.对比方法一、二，每次操作3个字符而不是1个字符，减少循环次数；2.对比方法三、五、六，没有使用正则表达式，减少了消耗。 综上所述，方法四作为最终的优化方案。","categories":[{"name":"javascript","slug":"javascript","permalink":"http://wang-z.gitee.io/categories/javascript/"}],"tags":[{"name":"vue","slug":"vue","permalink":"http://wang-z.gitee.io/tags/vue/"},{"name":"javascript","slug":"javascript","permalink":"http://wang-z.gitee.io/tags/javascript/"}],"author":{"name":"Mr.wang","avatar":"https://wang-z.gitee.io/img/author.jpg"}},{"title":"前端hash和history路由以及预渲染","slug":"vue-前端hash和history路由以及预渲染","date":"2022-03-01T03:00:15.000Z","updated":"2022-08-01T07:39:07.702Z","comments":true,"path":"2022/03/01/vue-前端hash和history路由以及预渲染/","link":"","permalink":"http://wang-z.gitee.io/2022/03/01/vue-%E5%89%8D%E7%AB%AFhash%E5%92%8Chistory%E8%B7%AF%E7%94%B1%E4%BB%A5%E5%8F%8A%E9%A2%84%E6%B8%B2%E6%9F%93/","excerpt":"前端hash和history路由以及预渲染使用插件prerender-spa-plugin","text":"前端hash和history路由以及预渲染使用插件prerender-spa-plugin hash模式原理: 在 url 中的 # 之后对应的是 hash 值, 其原理是通过hashChange() 事件监听hash值的变化, 根据路由表对应的hash值来判断加载对应的路由加载对应的组件优点: 只需要前端配置路由表, 不需要后端的参与 兼容性好, 浏览器都能支持 hash值改变不会向后端发送请求, 完全属于前 端路由 缺点: hash值前面需要加#, 不符合url规范,也不美观history模式 原理:history模式基于window.history对象的方法优点: 符合url地址规范, 不需要#, 使用起来比较美观 缺点: 用户手动输入地址或刷新页面时会发起url请求, 后端需要配置index.html页面用户匹配不到静态资源的情况, 否则会出现404错误 兼容性比较差, 是利用了 HTML5 History对象中新增的 pushState() 和 replaceState() 方法,需要特定浏览器的支持. 总结 hash模式较丑，history模式较优雅 pushState设置的新URL可以是与当前URL同源的任意URL；而hash只可修改#后面的部分，故只可设置与当前同文档的URL pushState设置的新URL可以与当前URL一模一样，这样也会把记录添加到栈中；而hash设置的新值必须与原来不一样才会触发记录添加到栈中 pushState通过stateObject可以添加任意类型的数据到记录中；而hash只可添加短字符串 pushState可额外设置title属性供后续使用 hash兼容IE8以上，history兼容IE10以上 history模式需要后端配合将所有访问都指向index.html，否则用户刷新页面，会导致404错误 预渲染 项目安装 prerender-spa-pluginnpm i prerender-spa-plugin 基于puppeteer进行预渲染网站然后生成html 路由模式必须为history模式（想要预渲染就会失去spa单页） 在vue.config.js更改配置 1234567891011121314151617181920212223const PrerenderSPAPlugin = require(&#x27;prerender-spa-plugin&#x27;)const Renderer = PrerenderSPAPlugin.PuppeteerRendererconfigureWebpack: config =&gt; &#123; if (process.env.NODE_ENV === &#x27;production&#x27;) &#123; // 预加载 return &#123; plugins: [ new PrerenderSPAPlugin(&#123; staticDir: path.join(__dirname, &#x27;dist&#x27;), routes: [&#x27;/&#x27;, &#x27;/register&#x27;,&#x27;/login&#x27;], renderer: new Renderer(&#123; renderAfterTime: 5000, inject: &#123; prerendered: false, &#125;, headless: true, renderAfterDocumentEvent: &#x27;render-event&#x27;, &#125;), &#125;), ], &#125; &#125; &#125;, 在main.js配置 12345678new Vue(&#123; i18n, routes, render: h =&gt; h(App), mounted() &#123; document.dispatchEvent(new Event(&#x27;render-event&#x27;)) &#125;,&#125;).$mount(&#x27;#app&#x27;) 报错 1234Unable to prerender all routes!1. 页面过多不能打包完毕 最好在10+内的页面2. headless: true,设置为true3. hash模式可运行但是打包不成功","categories":[{"name":"vue","slug":"vue","permalink":"http://wang-z.gitee.io/categories/vue/"}],"tags":[{"name":"javascript","slug":"javascript","permalink":"http://wang-z.gitee.io/tags/javascript/"},{"name":"vue，route","slug":"vue，route","permalink":"http://wang-z.gitee.io/tags/vue%EF%BC%8Croute/"}],"author":{"name":"Mr.wang","avatar":"https://wang-z.gitee.io/img/author.jpg"}},{"title":"uniapp-搭建APP过程","slug":"uniapp-搭建APP架构","date":"2022-02-24T06:00:00.000Z","updated":"2023-03-03T03:22:51.937Z","comments":true,"path":"2022/02/24/uniapp-搭建APP架构/","link":"","permalink":"http://wang-z.gitee.io/2022/02/24/uniapp-%E6%90%AD%E5%BB%BAAPP%E6%9E%B6%E6%9E%84/","excerpt":"uniapp-搭建APP过程","text":"uniapp-搭建APP过程 uniapp文档 开发者中心 快速上手HBuilderX：官方IDE下载地址 创建uni-app 后续查看官方文档。。。。 打包为原生App 在HBuilderX工具栏，点击发行，选择原生app-云端打包，如下图： 云端打包支持安心打包，保护用户隐私，不会上传代码和证书，通过差量包制作方式实现安心打包。详见：https://ask.dcloud.net.cn/article/37979(opens new window) 云打包也支持cli模式，通过HBuilderX的cli方式（不是uni-app的cli），可以调用命令行打包，方便持续集成。详见：https://hx.dcloud.net.cn/cli/pack(opens new window) 虽然安心打包已经满足需求，但如仍然希望自己使用 xcode 或 Android studio 进行离线打包，则在 HBuilderX 发行菜单里找到本地打包菜单，生成离线打包资源，然后参考离线打包文档操作：https://nativesupport.dcloud.net.cn/AppDocs/README (opens new window)。 App打包时，注意如何涉及三方sdk，需进行申请并在manifest.json里配置，否则相关功能无法使用。 iOS App打包需要向Apple申请证书 离线打包参考文档","categories":[{"name":"uniapp","slug":"uniapp","permalink":"http://wang-z.gitee.io/categories/uniapp/"}],"tags":[{"name":"vue","slug":"vue","permalink":"http://wang-z.gitee.io/tags/vue/"},{"name":"javascript","slug":"javascript","permalink":"http://wang-z.gitee.io/tags/javascript/"},{"name":"uniapp","slug":"uniapp","permalink":"http://wang-z.gitee.io/tags/uniapp/"}],"author":{"name":"Mr.wang","avatar":"https://wang-z.gitee.io/img/author.jpg"}},{"title":"无头浏览器基础使用","slug":"puppeteer-无头浏览器使用","date":"2022-02-24T03:01:01.000Z","updated":"2022-08-01T07:39:07.682Z","comments":true,"path":"2022/02/24/puppeteer-无头浏览器使用/","link":"","permalink":"http://wang-z.gitee.io/2022/02/24/puppeteer-%E6%97%A0%E5%A4%B4%E6%B5%8F%E8%A7%88%E5%99%A8%E4%BD%BF%E7%94%A8/","excerpt":"讲述搭建博客的一切 无头浏览器 文档 你在谷歌浏览器所得到的，在这也能得到 生成页面 PDF 抓取 SPA（单页应用）并生成预渲染内容（即“SSR”（服务器端渲染）） 自动提交表单，进行 UI 测试，键盘输入等。 爬虫","text":"讲述搭建博客的一切 无头浏览器 文档 你在谷歌浏览器所得到的，在这也能得到 生成页面 PDF 抓取 SPA（单页应用）并生成预渲染内容（即“SSR”（服务器端渲染）） 自动提交表单，进行 UI 测试，键盘输入等。 爬虫 安装1234mkdir testnpm init npm install puppeteertouch test.js test.js部分示例执行环境 node执行命令 node test.js 生成页面 PDF12345678910const puppeteer = require(&quot;puppeteer&quot;);(async () =&gt; &#123; const browser = await puppeteer.launch(); const page = await browser.newPage(); await page.goto(&#x27;https://www.baidu.com&#x27;, &#123;waitUntil: &#x27;networkidle2&#x27;&#125;); await page.pdf(&#123;path: &#x27;baidu.pdf&#x27;, format: &#x27;A4&#x27;&#125;); await browser.close();&#125;)(); 截图12345678910const puppeteer = require(&#x27;puppeteer&#x27;);(async () =&gt; &#123; const browser = await puppeteer.launch(); const page = await browser.newPage(); await page.goto(&#x27;https://www.baidu.com&#x27;); await page.screenshot(&#123;path: &#x27;baidu.png&#x27;&#125;); await browser.close();&#125;)(); 自动提交表单123456789101112131415161718192021222324252627282930313233343536373839/** * 在无头浏览器自动填写表单并提交 */const puppeteer = require(&quot;puppeteer&quot;);const autoSubmitForm = async (url, path) =&gt; &#123; // 启动浏览器 const browser = await puppeteer.launch(&#123; // 关闭无头模式，方便我们看到这个无头浏览器执行的过程 headless: false &#125;); // 打开页面 const page = await browser.newPage(); // 设置浏览器视窗 page.setViewport(&#123; width: 1376, height: 768 &#125;); // 地址栏输入网页地址 await page.goto(url); // await page.type(&quot;#kw&quot;, &quot;网抑云&quot;, &#123; // delay: 1000 // 控制 keypress 也就是每个字母输入的间隔 // &#125;); await page.focus(&quot;#kw&quot;); await page.keyboard.type(&quot;网抑云&quot;, &#123; delay: 1000 // 控制 keypress 也就是每个字母输入的间隔 &#125;); await page.keyboard.press(&quot;Enter&quot;); // await page.press(&quot;Enter&quot;); // 不关闭浏览器，看看效果 // await browser.close();&#125;;module.exports = autoSubmitForm;if (require.main === module) &#123; // for test autoSubmitForm(&quot;http://www.baidu.com&quot;);&#125;","categories":[{"name":"puppeteer","slug":"puppeteer","permalink":"http://wang-z.gitee.io/categories/puppeteer/"}],"tags":[{"name":"puppeteer","slug":"puppeteer","permalink":"http://wang-z.gitee.io/tags/puppeteer/"}],"author":{"name":"Mr.wang","avatar":"https://wang-z.gitee.io/img/author.jpg使用"}},{"title":"能用代码解决的千万别复制粘贴","slug":"js-能用代码解决的千万别复制粘贴","date":"2021-09-22T08:45:52.000Z","updated":"2022-08-01T07:39:07.673Z","comments":true,"path":"2021/09/22/js-能用代码解决的千万别复制粘贴/","link":"","permalink":"http://wang-z.gitee.io/2021/09/22/js-%E8%83%BD%E7%94%A8%E4%BB%A3%E7%A0%81%E8%A7%A3%E5%86%B3%E7%9A%84%E5%8D%83%E4%B8%87%E5%88%AB%E5%A4%8D%E5%88%B6%E7%B2%98%E8%B4%B4/","excerpt":"记录开发中的使用 js 减少重复操作的优良代码","text":"记录开发中的使用 js 减少重复操作的优良代码 生成有序数组1234orderedArray=(n)=&gt;[...new Array(n).keys()] orderedArray(10) //[0, 1, 2, 3, 4, 5, 6, 7, 8, 9orderedArray(6).map(i=&gt;i+4) //[4, 5, 6, 7, 8, 9]orderedArray(6).map(i=&gt;(i+1)*4)//[4, 8, 12, 16, 20, 24] 计算对象+=每个值得长度 中英文都计算为一个字符长度 12345678910111213let test = &#123; a: &quot;hhh&quot;, dd: &quot;ddd&quot;, e: &#123; f: &quot;哈哈哈&quot; &#125; &#125;;let length = 0;stringLength = (val) =&gt; &#123; for (const key in val) &#123; if (typeof val[key] == &quot;object&quot;) &#123; stringLength(val[key]); &#125; else &#123; length += val[key].length; &#125; &#125;&#125;;stringLength(test);console.log(length); 对象转为 table 显示的树状带 children 结构（可能带 bug） data 测试数据集合 1234567module.exports = &#123; a: 1, b: &#123; c: 2 &#125;, d: [&#123; e: 5 &#125;]&#125;; index.js 1234567891011121314151617181920212223242526272829303132333435363738const data = require(&quot;./data.js&quot;);let emun = &#123;id:&#x27;&#x27;,describe:&#x27;&#x27;,must:&quot;是&quot;&#125; let keyWord = &#x27;filed&#x27; let strType = &#x27;type&#x27; let typeEmun = &#123; &#x27;number&#x27;:&#x27;NUMBER&#x27;, &#x27;string&#x27;:&#x27;STRING&#x27;, &#x27;boolean&#x27;:&#x27;BOOLEAN&#x27;, &#x27;object&#x27;:&#x27;LIST OBJECT&#x27; &#125; let count = 0 let output = [] function coverData(data,output)&#123; for(let d in data)&#123; if(typeof data[d] !=&#x27;object&#x27;)&#123; output.push(yuansu(d,data[d])) &#125;else&#123; let temp = yuansu(d,data[d]) temp.children=[] let index = output.push(temp) if(data[d] instanceof Array &amp;&amp;data[d].length==1)&#123; coverData(data[d][0],output[index-1][&#x27;children&#x27;]) &#125;else&#123; coverData(data[d],output[index-1][&#x27;children&#x27;]) &#125; &#125; &#125; &#125; function yuansu(d,data)&#123; count++; emun.id = count let temp = JSON.parse(JSON.stringify(emun)) temp[keyWord] = d temp[strType] = typeEmun[typeof data] return temp &#125;coverData(data,output)console.log(JSON.stringify(output)) 输出 12345678910111213141516171819[ &#123; id: 1, describe: &quot;&quot;, must: &quot;是&quot;, filed: &quot;a&quot;, type: &quot;NUMBER&quot; &#125;, &#123; id: 2, describe: &quot;&quot;, must: &quot;是&quot;, filed: &quot;b&quot;, type: &quot;LIST OBJECT&quot;, children: [&#123; id: 3, describe: &quot;&quot;, must: &quot;是&quot;, filed: &quot;c&quot;, type: &quot;NUMBER&quot; &#125;] &#125;, &#123; id: 4, describe: &quot;&quot;, must: &quot;是&quot;, filed: &quot;d&quot;, type: &quot;LIST OBJECT&quot;, children: [&#123; id: 5, describe: &quot;&quot;, must: &quot;是&quot;, filed: &quot;e&quot;, type: &quot;NUMBER&quot; &#125;] &#125;];","categories":[{"name":"javascript","slug":"javascript","permalink":"http://wang-z.gitee.io/categories/javascript/"}],"tags":[{"name":"javascript","slug":"javascript","permalink":"http://wang-z.gitee.io/tags/javascript/"}],"author":{"name":"Mr.wang","avatar":"https://wang-z.gitee.io/img/author.jpg"}},{"title":"如何搭建博客","slug":"hexo-如何搭建自己的博客","date":"2021-04-12T02:01:01.000Z","updated":"2022-08-01T07:39:07.658Z","comments":true,"path":"2021/04/12/hexo-如何搭建自己的博客/","link":"","permalink":"http://wang-z.gitee.io/2021/04/12/hexo-%E5%A6%82%E4%BD%95%E6%90%AD%E5%BB%BA%E8%87%AA%E5%B7%B1%E7%9A%84%E5%8D%9A%E5%AE%A2/","excerpt":"讲述搭建博客的一切 Hexo 是一个快速、简洁且高效的博客框架。 作为一位前端开发者，我了解到的静态博客其实际是一份 html，hexo 使用 Markdown（或其他渲染引擎）解析文章，在几秒内，即可利用靓丽的主题生成静态网页。 前端开发者都知开发会使用到脚手架编译，而 hexo 就是将我们平时写的笔记进行编译为 html，里面使用了主题可以优化编译效果，在此我将使用volantis作为主题","text":"讲述搭建博客的一切 Hexo 是一个快速、简洁且高效的博客框架。 作为一位前端开发者，我了解到的静态博客其实际是一份 html，hexo 使用 Markdown（或其他渲染引擎）解析文章，在几秒内，即可利用靓丽的主题生成静态网页。 前端开发者都知开发会使用到脚手架编译，而 hexo 就是将我们平时写的笔记进行编译为 html，里面使用了主题可以优化编译效果，在此我将使用volantis作为主题 配置环境 想要使用 hexo 那么你将要拥有前端的开发环境 Node Git 安装 Hexo查看版本 hexo -v 1npm install -g hexo-cli 初始化 Hexo 脚手架123hexo init &lt;blog-name&gt;cd &lt;blog-name&gt;npm install 初始化的结构 本地启动为 hexo server 12345678├── _config.yml├── package.json├── node_modules├── scaffolds├── source| ├── _drafts| └── _posts└── themes 到此为止，如果你执行的命令没有报错，那么你的 hexo 已经初具规模，可以说是最初版，后续可以自定义主题的配置 自动部署 使用 hexo 推荐的自动部署的库可以连接 github gitee gitlab 安装hexo-deployer-git 1npm install hexo-deployer-git --save 12345//在个人_config.yml中修改deploy: type: git repository: git@gitee.com:wang-z/wang-z.git branch: master 注入脚本 可以在主题目录下 /scripts 编写 js 脚本在博客会自动注入进 html 网站图标 在 source/文件下加入名 favicon.ico 的图标会自动显示 修改博客文件下_config.yml 每个人想要部署的地方不同，这里提供 gitee 仓库的部署 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103# Hexo Configuration## Docs: https://hexo.io/docs/configuration.html## Source: https://github.com/hexojs/hexo/# Sitetitle: Mr.wang&#x27;blogsubtitle: &quot;Time flies and people come and go&quot;description: &quot;一个人的自述&quot;keywords: gitee blog wang jsauthor: wangzhibiaolanguage: zh-CNtimezone: &quot;&quot;# URL## If your site is put in a subdirectory, set url as &#x27;http://yoursite.com/child&#x27; and root as &#x27;/child/&#x27;url: http://wang-z.gitee.io/root: /permalink: :year/:month/:day/:title/permalink_defaults:pretty_urls: trailing_index: true # Set to false to remove trailing &#x27;index.html&#x27; from permalinks trailing_html: true # Set to false to remove trailing &#x27;.html&#x27; from permalinks# Directorysource_dir: sourcepublic_dir: publictag_dir: tagsarchive_dir: archivescategory_dir: categoriescode_dir: downloads/codei18n_dir: :langskip_render:# Writingnew_post_name: :title.md # File name of new postsdefault_layout: posttitlecase: false # Transform title into titlecaseexternal_link: enable: true # Open external links in new tab field: site # Apply to the whole site exclude: &quot;&quot;filename_case: 0render_drafts: falsepost_asset_folder: falserelative_link: falsefuture: truehighlight: enable: true line_number: true auto_detect: false tab_replace: &quot;&quot; wrap: true hljs: false# Home page setting# path: Root path for your blogs index page. (default = &#x27;&#x27;)# per_page: Posts displayed per page. (0 = disable pagination)# order_by: Posts order. (Order by date descending by default)index_generator: path: &quot;&quot; per_page: 10 order_by: -date# Category &amp; Tagdefault_category: uncategorizedcategory_map:tag_map:# Metadata elements## https://developer.mozilla.org/en-US/docs/Web/HTML/Element/metameta_generator: true# Date / Time format## Hexo uses Moment.js to parse and display date## You can customize the date format as defined in## http://momentjs.com/docs/#/displaying/format/date_format: YYYY-MM-DDtime_format: HH:mm:ss## Use post&#x27;s date for updated date unless set in front-matteruse_date_for_updated: false# Pagination## Set per_page to 0 to disable paginationper_page: 10pagination_dir: page# Include / Exclude file(s)## include:/exclude: options only apply to the &#x27;source/&#x27; folderinclude:exclude:ignore:# Extensions## Plugins: https://hexo.io/plugins/## Themes: https://hexo.io/themes/theme: volantis# Deployment## Docs: https://hexo.io/docs/deployment.htmldeploy: type: git repository: git@gitee.com:wang-z/wang-z.git branch: master 主题 博客的多样化，可以使用别人写好的主题模板进行编译，好看又好用 主题替换 在 blog 中 themes 添加博客文件，并修改个人_config.yml 在 hexo-V5 版本只需要安装主题包 npm i &lt;主题包&gt; 旧版本仍需 git clone URL themes/{主题名} 独立主题 yml 只需要在 blog 文件下创建_config.主题.yml 即可在这文件下配置主题的设置 根据每个主题的不同，请到主题网站内修改主题_config.yml 这里提供volantis 1234# Extensions## Plugins: https://hexo.io/plugins/## Themes: https://hexo.io/themes/theme: volantis 友链不在 index.md 中定义–》在 blog/source/_data/friends.yml 写入友链 1234567891011121314151617- group: 个人博客 # 分组标题 description: # 分组描述 icon: fas fa-user-tie items: - title: wang’blog # 名称 avatar: http://www.gx8899.com/uploads/allimg/2018010408/w0pewqfx4dz.jpg # 头像 url: https://wang-zhibiao.github.io/ # 链接 screenshot: # 截图 keywords: [js, vue] # 关键词 description: 一个人的博客 # 描述 - title: gauhar’blog # 名称 avatar: https://gauhar.gitee.io/css/images/logo.jpg # 头像 url: https://gauhar.gitee.io/ # 链接 screenshot: # 截图 keywords: [js, vue，jQuery] # 关键词 description: 华仔的博客 # 描述 修改博客主题 _config.yml / _config.valantis.yml123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306use_cdn: falsenavbar: logo: # choose [img] or [icon + title] img: #https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/blog/Logo-NavBar@3x.png icon: title: &quot;Mr.wang&quot; menu: - name: 博客 icon: fas fa-rss url: / - name: 分类 icon: fas fa-folder-open url: categories/ - name: 标签 icon: fas fa-tags url: tags/ - name: 归档 icon: fas fa-archive url: archives/ - name: 友链 icon: fas fa-link url: friends/ - name: 关于 icon: fas fa-info-circle url: about/ - name: 暗黑模式 icon: fas fa-moon toggle: darkmode - name: 背景音乐 icon: fas fa-compact-disccover: height_scheme: full # full, half title: &quot;Mr.wang&quot; subtitle: &quot;Time flies and people come and go&quot; display: home: true archive: true others: true background: # https://bing.ioliu.cn/v1/rand?w=1920&amp;h=1200 features: - name: 博客 img: https://cdn.jsdelivr.net/gh/twitter/twemoji@13.0/assets/svg/1f4f0.svg url: / # - name: 文档 # img: https://cdn.jsdelivr.net/gh/twitter/twemoji@13.0/assets/svg/1f516.svg # url: /v5/getting-started/ # target: _self # - name: 示例 # img: https://cdn.jsdelivr.net/gh/twitter/twemoji@13.0/assets/svg/1f4af.svg # url: /examples/ # - name: 帮助 # img: https://cdn.jsdelivr.net/gh/twitter/twemoji@13.0/assets/svg/1f4ac.svg # url: /faqs/ # - name: 鸣谢 # img: https://cdn.jsdelivr.net/gh/twitter/twemoji@13.0/assets/svg/1f497.svg # url: /contributors/ - name: 归档 img: https://cdn.jsdelivr.net/gh/twitter/twemoji@13.0/assets/svg/1f5c3.svg url: /archives/ # - name: 源码 # img: https://cdn.jsdelivr.net/gh/twitter/twemoji@13.0/assets/svg/1f9ec.svg # url: https://github.com/volantis-x/hexo-theme-volantis/ # target: _selfarticle: preview: scheme: landscape # landscape # pin icon for post pin_icon: # https://cdn.jsdelivr.net/gh/twitter/twemoji@13.0/assets/svg/1f4cc.svg # auto generate title if not exist auto_title: false # false, true # auto generate excerpt if not exist auto_excerpt: false # false, true author: true # show readmore button readmore: auto # auto, always body: meta_library: author: avatar: https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/blog/favicon/apple-touch-icon.png name: Volantis Team url: https://github.com/volantis-x/ updated: title: &quot;本页文档最后更新于：&quot;comments: title: &lt;i class=&#x27;fas fa-comments&#x27;&gt;&lt;/i&gt; 评论 subtitle: service: valinepages: # 友链页面配置 friends: layout_scheme: traditionalsidebar: # 主页、分类、归档等独立页面 for_page: [blogger, category, tagcloud, qrcode] # layout: docs/post 这类文章页面 for_post: [toc] # 侧边栏组件库 widget_library: # --------------------------------------- # blogger info widget blogger: class: blogger display: [desktop, mobile] # [desktop, mobile] avatar: https://wang-z.gitee.io/img/author.jpg shape: rectangle # circle, rectangle url: /about/ title: subtitle: jinrishici: true # Poetry Today. You can set a string, and it will be displayed when loading fails. social: true # --------------------------------------- # toc widget (valid only in articles) toc: class: toc display: [desktop, mobile] # [desktop, mobile] header: icon: fas fa-list title: 本文目录 list_number: false min_depth: 2 max_depth: 5 # --------------------------------------- # category widget category: class: category display: [desktop] # [desktop, mobile] header: icon: fas fa-folder-open title: 文章分类 url: /blog/categories/ # --------------------------------------- # tagcloud widget tagcloud: class: tagcloud display: [desktop, mobile] # [desktop, mobile] header: icon: fas fa-tags title: 热门标签 url: /blog/tags/ min_font: 14 max_font: 24 color: true start_color: &quot;#999&quot; end_color: &quot;#555&quot; # --------------------------------------- # qrcode widget donate: class: qrcode display: [desktop, mobile] # [desktop, mobile] height: 64px # Automatic height if not set images: - https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/blog/qrcode/github@volantis.png - https://cdn.jsdelivr.net/gh/volantis-x/cdn-org/blog/qrcode/github@volantis.png # --------------------------------------- # webinfo widget webinfo: class: webinfo display: [desktop] header: icon: fas fa-award title: 站点信息 type: article: enable: true text: &quot;文章数目：&quot; unit: &quot;篇&quot; runtime: enable: true data: &quot;2020/01/01&quot; # 填写建站日期 text: &quot;已运行时间：&quot; unit: &quot;天&quot; wordcount: enable: true text: &quot;本站总字数：&quot; # 需要启用 wordcount unit: &quot;字&quot; siteuv: enable: true text: &quot;本站访客数：&quot; # 需要启用 busuanzi unit: &quot;人&quot; sitepv: enable: true text: &quot;本站总访问量：&quot; # 需要启用 busuanzi unit: &quot;次&quot; lastupd: enable: true friendlyShow: true # 更友好的时间显示 text: &quot;最后活动时间：&quot; unit: &quot;日&quot;site_footer: layout: [aplayer, social, source, analytics, copyright] copyright: &quot;[Copyright © 2017-2021 Volantis Team](https://github.com/volantis-x/)&quot; social: - img: https://cdn.jsdelivr.net/gh/volantis-x/cdn-org@1.1/icon/1322024-social-media/020-rss.svg url: atom.xml - img: https://cdn.jsdelivr.net/gh/volantis-x/cdn-org@1.1/icon/1322024-social-media/029-github.svg url: https://github.com/volantis-x/ - img: https://cdn.jsdelivr.net/gh/volantis-x/cdn-org@1.1/icon/1322024-social-media/010-facebook.svg url: / - img: https://cdn.jsdelivr.net/gh/volantis-x/cdn-org@1.1/icon/1322024-social-media/018-twitter.svg url: / - img: https://cdn.jsdelivr.net/gh/volantis-x/cdn-org@1.1/icon/1322024-social-media/045-telegram.svg url: / - img: https://cdn.jsdelivr.net/gh/volantis-x/cdn-org@1.1/icon/1322024-social-media/006-youtube.svg url: /tag_plugins: # &#123;% note text %&#125; note: # style for default note: iconfont: &quot;Font Awesome 5 Pro&quot;plugins: clipboard: enable: true fontawesome: https://cdn.jsdelivr.net/gh/volantis-x/cdn-fontawesome-pro@master/css/all.min.css highlightjs: enable: true # Please set hexo.config.highlight.enable = false !!! js: https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10/build/highlight.min.js css: https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10/build/styles/solarized-light.min.css lazyload: enable: true js: https://cdn.jsdelivr.net/npm/vanilla-lazyload@17.1.0/dist/lazyload.min.js onlypost: false loadingImg: # https://cdn.jsdelivr.net/gh/volantis-x/cdn-volantis@3/img/placeholder/c617bfd2497fcea598e621413e315c368f8d8e.svg blurIn: true # 模糊加载效果 （loadingImg为空时有效） backstretch: enable: true # position: cover # cover: sticky on the cover. fixed: Fixed as background for the site. duration: 20000 # Duration (ms) fade: 1500 # fade duration (ms) (Not more than 1500) images: # For personal use only. At your own risk if used for commercial purposes !!! - https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/001.jpg - https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/002.jpg - https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/003.jpg - https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/004.jpg - https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/005.jpg - https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/006.jpg - https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/012.jpg - https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/016.jpg - https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/019.jpg - https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/025.jpg - https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/033.jpg - https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/034.jpg - https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/035.jpg - https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/038.jpg - https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/039.jpg - https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/042.jpg - https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/046.jpg - https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/051.jpg - https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/052.jpg - https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/054.jpg - https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/056.jpg parallax: enable: true images: - https://cdn.jsdelivr.net/gh/volantis-x/cdn-wallpaper-minimalist/2020/042.jpg aplayer: enable: true autoplay: false volume: 0.4 order: random # id: 4917530132 # vol red # id: 4917524698 # vol blue # id: 76244489 # vol white # id: 5135845906 # for Volantis 3.0 id: 5062959861 # TOP 30 darkmodejs: enable: trueanalytics: busuanzi: #https://cdn.jsdelivr.net/gh/volantis-x/cdn-busuanzi@2.3/js/busuanzi.pure.mini.js leancloud: app_id: GCYDRKI6XRkyC7EuEhJv90ia-MdYXbMMI app_key: 4xKBXGBj6BgecU62vff5rJHs custom_api_server: # 一般不需要写，除非自定义了 API Servercustom_css: font_smoothing: true sidebar: effect: [shadow] # [shadow, floatable, blur] body: effect: [shadow] # [shadow, floatable, blur] fontfamily: logofont: fontfamily: &#x27;Dosis, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, Helvetica, Arial&#x27; name: &quot;Dosis&quot; url: https://cdn.jsdelivr.net/gh/volantis-x/cdn-fonts@20.5.30/Dosis/Dosis-Medium.ttf weight: normal style: normal bodyfont: fontfamily: &#x27;Dosis, &quot;PingFang SC&quot;, &quot;Microsoft YaHei&quot;, Helvetica, Arial&#x27; name: &quot;Dosis&quot; url: https://cdn.jsdelivr.net/gh/volantis-x/cdn-fonts@20.5.30/Dosis/Dosis-Medium.ttf weight: normal style: normal# # 自定义右键菜单# rightmenu:# enable: true# # hr: 分割线, music: 音乐控制器# layout: [home, hr, dark_mode, hr, music] 增加看板娘live2d插件(在主题yml修改) 使用第三方的库配置一个好看的右下角看板娘功能 需要下载一个基础live2d以及不同的看板娘 1npm i hexo-helper-live2d 我使用的看板娘 1npm i live2d-widget-model-koharu 网上的看板娘1234567891011121314151617181920212223242526272829303132# Live2D## https://github.com/EYHN/hexo-helper-live2d## https://l2dwidget.js.org/docs/class/src/index.js~L2Dwidget.html#instance-method-initlive2d: enable: true #enable: false scriptFrom: local # 默认 pluginRootPath: live2dw/ # 插件在站点上的根目录(相对路径) pluginJsPath: lib/ # 脚本文件相对与插件根目录路径 pluginModelPath: assets/ # 模型文件相对与插件根目录路径 # scriptFrom: jsdelivr # jsdelivr CDN # scriptFrom: unpkg # unpkg CDN # scriptFrom: https://cdn.jsdelivr.net/npm/live2d-widget@3.x/lib/L2Dwidget.min.js # 你的自定义 url tagMode: false # 标签模式, 是否仅替换 live2d tag标签而非插入到所有页面中 debug: true # 调试, 是否在控制台输出日志 model: use: live2d-widget-model-koharu # use: live2d-widget-model-wanko # npm-module package name # use: wanko # 博客根目录/live2d_models/ 下的目录名 # use: ./wives/wanko # 相对于博客根目录的路径 # use: https://cdn.jsdelivr.net/npm/live2d-widget-model-wanko@1.0.5/assets/wanko.model.json # 你的自定义 url display: position: right width: 145 height: 315 mobile: show: false # 是否在移动设备上显示 scale: 0.5 # 移动设备上的缩放 react: opacityDefault: 0.7 opacityOnHover: 0.8 记录当前主题的一些页面常用参数 front-matterfront-matter 是文件最上方以 --- 分隔的区域，用于指定个别文件的变量。更多请见 Hexo 官方文档：#front-matter 字段 含义 值类型 默认值 layout 布局模版 String - title 页面标题 String - seo_title 网页标题 String page.title short_title 页面标题（在 group 列表中显示） String page.title date 创建时间 Date 文件创建时间 updated 更新日期 Date 文件修改时间 link 外部文章网址 String - music 内部音乐控件 [Object] - robots robots String - keywords 页面关键词 String - description 页面描述、摘要 String - cover 是否显示封面 Bool true top_meta 是否显示文章或页面顶部的 meta 信息 Bool true bottom_meta 是否显示文章或页面底部的 meta 信息 Bool true sidebar 页面侧边栏 Bool, Array theme.layout.*.sidebar body 页面主体元素 Array theme.layout.on_page.body mathjax 是否渲染公式 Bool, String false thumbnail 缩略图 String false icons 图标 Array [] pin 是否置顶 Bool false headimg 文章头图 url - layout:post 时特有的字段： 字段 含义 值类型 默认值 author 文章作者 [Object] config.author categories 分类 String, Array - tags 标签 String, Array - toc 是否生成目录 Bool true 文章摘要在文章中插入 &lt;!-- more --&gt;，前面的部分即为摘要。","categories":[{"name":"hexo","slug":"hexo","permalink":"http://wang-z.gitee.io/categories/hexo/"}],"tags":[{"name":"hexo","slug":"hexo","permalink":"http://wang-z.gitee.io/tags/hexo/"}],"author":{"name":"Mr.wang","avatar":"https://wang-z.gitee.io/img/author.jpg"}},{"title":"vue-脚手架配置","slug":"vue-脚手架配置","date":"2021-04-01T08:00:15.000Z","updated":"2022-08-01T07:39:07.706Z","comments":true,"path":"2021/04/01/vue-脚手架配置/","link":"","permalink":"http://wang-z.gitee.io/2021/04/01/vue-%E8%84%9A%E6%89%8B%E6%9E%B6%E9%85%8D%E7%BD%AE/","excerpt":"vue-cli 的配置，由于脚手架的 vue-cli 版本不一致可能导致不适，请注意版本问题","text":"vue-cli 的配置，由于脚手架的 vue-cli 版本不一致可能导致不适，请注意版本问题 SVG 的显示配置 需要 npm i svg-sprite-loader 在 vue.config 中新加 babel 1234567891011121314chainWebpack: (config) =&gt; &#123; config.module.rule(&quot;svg&quot;).exclude.add(resolve(&quot;src/icons&quot;)).end(); config.module .rule(&quot;icons&quot;) .test(/\\.svg$/) .include.add(resolve(&quot;src/icons&quot;)) .end() .use(&quot;svg-sprite-loader&quot;) .loader(&quot;svg-sprite-loader&quot;) .options(&#123; symbolId: &quot;icon-[name]&quot;, &#125;) .end();&#125;; resolve 是引入 svg 的一个函数 但是在各种配置中可能不一定相同 有可能使用 vue-cli 已有的 resolve ,最简单的就是自己写一个函数,本质是使用 path 的方法 123function resolve(dir) &#123; return path.join(__dirname, &quot;./&quot;, dir);&#125; vue 配置页面预渲染（将页面静态化，便于 seo 读取） 在项目中安装 prerender-spa-plugin 1npm i --save prerender-spa-plugin 在 vue.config.js 中引入并配置 1234567891011121314151617181920212223242526272829const PrerenderSPAPlugin = require(&quot;prerender-spa-plugin&quot;);const Renderer = PrerenderSPAPlugin.PuppeteerRenderer;configureWebpack: &#123; plugins: [ new PrerenderSPAPlugin(&#123; // 生成文件的路径，也可以与webpakc打包的一致。 // 下面这句话非常重要！！！ // 这个目录只能有一级，如果目录层次大于一级，在生成的时候不会有任何错误提示，在预渲染的时候只会卡着不动。 staticDir: path.join(__dirname, &quot;dist&quot;), // 对应自己的路由文件，比如a有参数，就需要写成 /a/param1。 routes: [&quot;/&quot;, &quot;/team&quot;, &quot;/analyst&quot;, &quot;/voter&quot;, &quot;/sponsor&quot;], // 这个很重要，如果没有配置这段，也不会进行预编译 renderer: new Renderer(&#123; inject: &#123; foo: &quot;bar&quot;, &#125;, headless: false, // 在 main.js 中 document.dispatchEvent(new Event(&#x27;render-event&#x27;))，两者的事件名称要对应上。 renderAfterDocumentEvent: &quot;render-event&quot;, renderAfterTime: 10000, //超时时间 timeout: 0, maxConcurrentRoutes: 20, //打包页面的最大数 navigationParams: &#123; timeout: 0, &#125;, &#125;), &#125;), ];&#125;","categories":[{"name":"vue","slug":"vue","permalink":"http://wang-z.gitee.io/categories/vue/"}],"tags":[{"name":"javascript","slug":"javascript","permalink":"http://wang-z.gitee.io/tags/javascript/"},{"name":"vue，vue-cli","slug":"vue，vue-cli","permalink":"http://wang-z.gitee.io/tags/vue%EF%BC%8Cvue-cli/"}],"author":{"name":"Mr.wang","avatar":"https://wang-z.gitee.io/img/author.jpg"}},{"title":"终端常用命令","slug":"cmd-常用终端命令","date":"2021-02-24T07:16:24.000Z","updated":"2022-08-01T07:39:07.655Z","comments":true,"path":"2021/02/24/cmd-常用终端命令/","link":"","permalink":"http://wang-z.gitee.io/2021/02/24/cmd-%E5%B8%B8%E7%94%A8%E7%BB%88%E7%AB%AF%E5%91%BD%E4%BB%A4/","excerpt":"终端常用命令","text":"终端常用命令 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384touch——创建一个文件——mkdir dirname.jsmkdir——创建一个目录——mkdir dirnamermdir——删除一个目录——rmdir dirnamemvdir——移动或重命名一个目录——mvdir dir1 dir2cd——改变当前目录——cd dirnamepwd——显示当前目录的路径名——pwdls——显示当前目录的内容——ls -ladircmp——比较两个目录的内容——dircmp dir1 dir2cat——显示或连接文件————cat filenamepg分页格式化显示文件内容——pg filenamemore——分屏显示文件内容——more filenameod——显示非文本文件的内容——od -c filenamecp——复制文件或目录——cp file1 file2rm——删除文件或目录——rm filenamemv——改变文件名或所在目录——mv file1 file2ln——联接文件——ln -s file1 file2find——使用匹配表达式查找文件——find . -name “*.c” -printfile——显示文件类型——file filenameopen——使用默认的程序打开文件——open filename（open . 打开当前目录）head——显示文件的最初几行——head -20 filenametail——显示文件的最后几行——tail -15 filenamecut——显示文件每行中的某些域——cut -f1,7 -d: /etc/passwdcolrm——从标准输入中删除若干列——colrm 8 20 file2paste——横向连接文件——paste file1 file2diff——比较并显示两个文件的差异——diff file1 file2sed————非交互方式流编辑器——sed “s/red/green/g” filenamegrep——在文件中按模式查找——grep “^[a-zA-Z]” filenameawk——在文件中查找并处理模式——awk ‘&#123;print 111&#125;’ filenamesort——排序或归并文件——sort -d -f -u file1uniq——去掉文件中的重复行——uniq file1 file2comm——显示两有序文件的公共和非公共行——comm file1 file2wc——统计文件的字符数、词数和行数——wc filenamenl——给文件加上行号——nl file1 &gt;file2passwd——修改用户密码——passwdchmod——改变文件或目录的权限——chmod ug+x filenameumask————定义创建文件的权限掩码——umask 027chown——改变文件或目录的属主——chown newowner filenamechgrp——改变文件或目录的所属组——chgrp staff filenamexlock——给终端上锁——xlock -remotemake——维护可执行程序的最新版本——maketouch——更新文件的访问和修改时间——touch -m 05202400 filenamedbx——命令行界面调试工具——dbx a.outxde——图形用户界面调试工具——xde a.outps——显示进程当前状态——ps ukill——终止进程——kill -9 30142nice——改变待执行命令的优先级——nice cc -c *.crenice——改变已运行进程的优先级——renice +20 32768date——显示系统的当前日期和时间——datecal——显示日历——cal 8 1996time——统计程序的执行时间——time a.outtelnet——远程登录——telnet hpc.sp.net.edu.cnrlogin——远程登录——rlogin hostname -l usernamersh——在远程主机执行指定命令——rsh f01n03 dateftp——在本地主机与远程主机之间传输文件——ftp ftp.sp.net.edu.cnrcp——在本地主机与远程主机 之间复制文件——rcp file1 host1:file2ping——给一个网络主机发送 回应请求——ping hpc.sp.net.edu.cnmail——阅读和发送电子邮件——mailwrite——给另一用户发送报文——write username pts/1mesg——允许或拒绝接收报文——mesg nhistory——列出最近执行过的 几条命令及编号——historyr——重复执行最近执行过的 某条命令——r -2alias——给某个命令定义别名——alias del=rm -iunalias——取消对某个别名的定义——unalias deluname——显示操作系统的有关信息——uname -aclear——清除屏幕或窗口内容——clearenv——显示当前所有设置过的环境变量——envwho——列出当前登录的所有用户——whowhoami——显示当前正进行操作的用户名——whoamitty——显示终端或伪终端的名称——ttystty——显示或重置控制键定义——stty -adu——查询磁盘使用情况——du -k subdirdf——显示文件系统的总空间和可用空间——df /tmpw——显示当前系统活动的总信息——w 一些常用技巧 所以你可以使用▲（上箭头）或▼（下箭头）来上下移动， 使用 空格键 来翻页，输入/和关键字来按照关键字搜索 按Q来退出使用指南页面 tab按键自动补全唯一路径 中止一个错误的或者发疯的命令，可以使用组合键control + C。 你可以在执行前编辑命令，只需要使用箭头和键盘上的其他字母。 没有输入任何命令时，你可以用▲和▼来浏览历史命令。同样可以编辑和再次执行。 你也可以使用history命令查看历史记录。 你可以使用组合键control + L清屏。","categories":[{"name":"cmd","slug":"cmd","permalink":"http://wang-z.gitee.io/categories/cmd/"}],"tags":[{"name":"cmd","slug":"cmd","permalink":"http://wang-z.gitee.io/tags/cmd/"}],"author":{"name":"Mr.wang","avatar":"https://wang-z.gitee.io/img/author.jpg"}},{"title":"sql学习笔记","slug":"sql-学习笔记","date":"2021-01-07T07:16:24.000Z","updated":"2022-08-01T07:39:07.682Z","comments":true,"path":"2021/01/07/sql-学习笔记/","link":"","permalink":"http://wang-z.gitee.io/2021/01/07/sql-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/","excerpt":"记录sql学习笔记","text":"记录sql学习笔记 Mysql命名规范数据库名 不可使用数据库关键字作为数据库对象 命名应该按实际开发需要建立 12w_user(用户数据库) - user_account(账户表) 临时表命名 临时表以tmp为前缀并以日期为后缀 备份表以bak为前缀并以日期为后缀 所有存储相同索引的表 需要保证列名列类型必须一致 UTF8中的汉字占三个字节 ASCII码占1个字节 建表需要添加表和列的备注 数据库限制 单表数据量大小限制为 500万以内 性能更佳 单表数据量最大行数无限制 取决存储设置和文件系统 限制最多存储4096列(占用内存，IO占用) 每一行数据不能超过6556字节 冷热数据分离 禁止在表中建立预留字段语义不明，类型不清 修改时，会对表进行锁定 禁止在数据库存储图片，文件等二进制数据 存储链接 禁止在线上做数据库压力测试 禁止开发环境，测试环境直连生产环境 Mysql索引设计规范 每个表必须有一个主键 不使用更新频繁和多列的列 不使用UUID,MD5,HASH,字符串作为主键 建议使用自增ID值 限制每个表索引数量，单表索引不超5个 禁止给表的每一列都建立单独索引 索引列的顺序 区分度最高的列反正联合索引的最左侧 尽量把字段长度小的放在联合索引最左侧 最频繁的列放在联合索引左侧 避免建立冗余和重复的索引 尽量避免使用外键 Mysql数据库字段设计规范 优先存储需要的最小数据类型 123将字符串转化为数字类型存储INET_ATON(&quot;255.255.255.255&quot;) = 4294967295INET_NTOA(4294967295) = &quot;255.255.255.255&quot; varchar(n)中的n代表是字符数，不是字节数 避免使用TEXT BLOB数据类型 建议将这些类型分离到单独的扩展表中 避免使用ENUM数据类型 修改时，需要使用ALTER语句 ORDER BY操作效率低 需要而外操作 禁止使用数值作为枚举值 尽可能把列定义为NOT NULL(非空) 金额相关的字段使用 decimal类型 使用datetime或timestamp类型存储时间 开发规范 预编译语句进行操作 避免数据类型隐式转化 禁止使用select *查询 及没有子段列表的insert操作 优先利用表上已经存在的索引 操作行为规范 超100万行的批量操作写，要分批多次进行操作","categories":[{"name":"mysql","slug":"mysql","permalink":"http://wang-z.gitee.io/categories/mysql/"}],"tags":[{"name":"mysql","slug":"mysql","permalink":"http://wang-z.gitee.io/tags/mysql/"}],"author":{"name":"Mr.wang","avatar":"https://wang-z.gitee.io/img/author.jpg"}},{"title":"ts学习笔记","slug":"ts-ts学习笔记","date":"2020-12-29T07:01:01.000Z","updated":"2022-08-01T07:39:07.694Z","comments":true,"path":"2020/12/29/ts-ts学习笔记/","link":"","permalink":"http://wang-z.gitee.io/2020/12/29/ts-ts%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/","excerpt":"ts学习笔记","text":"ts学习笔记 安装typescript编译12345npm i -g typescipt//当前版本tsc -v//编译为jstsc &lt;ts文件&gt; 报错123function join(word: string) &#123; return &quot;hello &quot; + word&#125; 参数类型错误 error Argument of type ‘number[]’ is not assignable to parameter of type ‘string’ 12let word &#x3D; [0, 1];console.log(join(word)); 多个参数错误 error Type ‘null’ is not assignable to type ‘number’. 12let word &#x3D; [0, 1];console.log(join(word, 1)); 严格模式检查null error Argument of type ‘number[]’ is not assignable to parameter of type ‘string’ 12let n: number &#x3D; 4n &#x3D; null 元组报错 未定义的元组下标不能赋值，索引不能超过定义的长度 error Type ‘“wang”‘ is not assignable to type ‘undefined’ Tuple type ‘[string, number]’ of length ‘2’ has no element at index ‘3’ 12let tuple: [string, number]tuple[3] &#x3D; &quot;wang&quot; ts接口定义参数类型1234567interface Word &#123; firstName: string, lastName: string,&#125;function join(word: Word) &#123; return &quot;hello &quot; + word&#125; ts基础类型123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990let isDone:boolean &#x3D; true&#x2F;falselet num: number &#x3D; 20let str: string &#x3D; &quot;wang&quot;let str: string &#x3D; &#96;wang$&#123;num&#125;&#96;let arr: number[] &#x3D; [0, 1, 2]let arr:Array&lt;number&gt; &#x3D; [0,1,2]let arr: string[] &#x3D; [&quot;w&quot;, &quot;a&quot;, &quot;n&quot;,&quot;g&quot;]&#x2F;&#x2F;元祖let x:[string,number]x &#x3D; [&quot;wang&quot;,10]&#x2F;&#x2F;truex &#x3D; [10,&quot;wang&quot;]&#x2F;&#x2F;falsex[0].sub(1)&#x2F;&#x2F;true(字符串上的方法)x[1].sub(1)&#x2F;&#x2F;false(数字没有方法)x[1&#x2F;0].toString()&#x2F;&#x2F;true(都有的内置方法)x[0] &#x3D; &quot;hello&quot;&#x2F;&#x2F;truex[1] &#x3D; 20&#x2F;&#x2F;truex[1] &#x3D; true &#x2F;&#x2F;false(只能是定义的元祖类型)&#x2F;&#x2F;枚举enum Color&#123; Red, Green, Blue&#125;let c:Color &#x3D; Color.Green&#x2F;&#x2F;枚举有顺序 enum Color &#123; Red, Green, Blue&#125;let colorName: string &#x3D; Color[0]console.log(colorName);&#x2F;&#x2F;Red&#x2F;&#x2F;编译结果var Color;(function (Color) &#123; Color[Color[&quot;Red&quot;] &#x3D; 0] &#x3D; &quot;Red&quot;; Color[Color[&quot;Green&quot;] &#x3D; 1] &#x3D; &quot;Green&quot;; Color[Color[&quot;Blue&quot;] &#x3D; 2] &#x3D; &quot;Blue&quot;;&#125;)(Color || (Color &#x3D; &#123;&#125;));var colorName &#x3D; Color[0];console.log(colorName);&#x2F;&#x2F;可自定义枚举下标，下面的都按顺序递增enum Color &#123; Red&#x3D;1, Green, Blue&#125;let colorName: string &#x3D; Color[2]console.log(colorName);&#x2F;&#x2F;Green&#x2F;&#x2F;any类型let notSure:any &#x3D; 4&#x2F;&quot;wang&quot;&#x2F;truelet list:any[] &#x3D; [1,true,&quot;wang&quot;]&#x2F;&#x2F;voidfunction wang():void &#123; console.log(&quot;this is void&quot;)&#125;let wang:void &#x3D; nulllet wang:void &#x3D; undefinedlet wang:undefined &#x3D; undefinedlet wang:null &#x3D; nulllet wang:null &#x3D; undefined&#x2F;&#x2F;联合类型let num:number | null &#x3D; 4&#x2F;null&#x2F;&#x2F;neverfunction error(message:string):never&#123; throw new Error(message)&#125;function fail()&#123; return error(&quot;error&quot;)&#125;function inifiniteloop():never&#123; while(true)&#123; &#125;&#125;&#x2F;&#x2F;objectdeclare function create(o:objext|null):voidcreate(o:&#123;props:0&#125;)create(o:null)create(o:&quot;wang&quot;)create(o:20)create(o:false)create(o:undefined)&#x2F;&#x2F;类型断言&#x2F;&#x2F;强制转化为一种类型let someValue:any &#x3D; &quot;wang&quot;let strlength:number &#x3D; (someValue as string).length ts接口 必须的接口 1234567interface Person &#123; firstName: string, lastName: string,&#125;function join(person: Person) &#123; return &quot;hello &quot; + person.firstName + &quot; &quot; + person.lastName&#125; 可选属性 1234567891011interface Person &#123; firstName: string, lastName: string,&#125;interface PersonConfig &#123; firstName?: string, lastName?: string,&#125;function join(person: PersonConfig):Person &#123; return &quot;hello &quot; + person.firstName + &quot; &quot; + person.lastName&#125; 只读属性 12345interface Point &#123; readonly x: number, readonly y: number,&#125;let p:Point &#x3D; &#123;x:10,y:20&#125; 额外属性 123456interface Point &#123; x: number, y: number, [propName:number]:any&#125;let p:Point &#x3D; &#123;x:10,z:20&#125; 函数类型检查 12345678interface PointFunc &#123; (x: number,y: number):boolean&#125;let p:PointFuncp &#x3D; function(x: number,y: number):boolean&#123; let result &#x3D; x.search(y) return result&gt;-1&#125;","categories":[{"name":"typescript","slug":"typescript","permalink":"http://wang-z.gitee.io/categories/typescript/"}],"tags":[{"name":"typescript","slug":"typescript","permalink":"http://wang-z.gitee.io/tags/typescript/"}],"author":{"name":"Mr.wang","avatar":"https://wang-z.gitee.io/img/author.jpg"}},{"title":"js库的使用","slug":"js-js库的使用","date":"2020-12-08T09:34:56.000Z","updated":"2022-08-01T07:39:07.660Z","comments":true,"path":"2020/12/08/js-js库的使用/","link":"","permalink":"http://wang-z.gitee.io/2020/12/08/js-js%E5%BA%93%E7%9A%84%E4%BD%BF%E7%94%A8/","excerpt":"主要是关于一些vue第三方js库的使用","text":"主要是关于一些vue第三方js库的使用 js库在vue的使用driver.js–github 效果 明：使用js获取dom元素后，创建一个遮罩及指南div(可选是否添加动画),事件(关闭，上一步，下一步) docsify快速创建api文档 快速生成文档，编写markdown自动在运行时转化为html 创建index.html引入docsify 123456789101112131415161718&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;head&gt; &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge,chrome=1&quot;&gt; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,initial-scale=1&quot;&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;//cdn.jsdelivr.net/npm/docsify/themes/vue.css&quot;&gt;&lt;/head&gt;&lt;body&gt; &lt;div id=&quot;app&quot;&gt;&lt;/div&gt; &lt;script&gt; window.$docsify = &#123; //... &#125; &lt;/script&gt; &lt;script src=&quot;//cdn.jsdelivr.net/npm/docsify/lib/docsify.min.js&quot;&gt;&lt;/script&gt;&lt;/body&gt;&lt;/html&gt; 配置window.$docsify1234567891011121314151617181920window.$docsify = &#123; name: &#x27;&#x27;, repo: &#x27;&#x27;, search: &#123; depth: 6, paths: &#x27;auto&#x27;, placeholder: &#123; &#x27;/&#x27;: &#x27;搜索&#x27;, &#x27;/en/&#x27;: &#x27;Type to search&#x27; &#125;, noData: &#123; &#x27;/&#x27;: &#x27;找不到结果&#x27;, &#x27;/en/&#x27;: &#x27;No Results&#x27; &#125;, &#125;, // coverpage: true,//封面 loadSidebar: true,//左侧菜单 subMaxLevel: 3,//设置生成目录的最大层级 loadNavbar: true,//导航栏 &#125; 编写markdown（自动配置路由）12345678-doc -en(英文文档) -imgs(自定义图片文件夹) _coverpage.md(封面) _navbar.md(导航栏对应路由****每个文件夹下都可以配置导航菜单 对应当前文档的导航) _slidebar.md(左侧菜单-当开启subMaxLevel会自动将README.md的标题作为菜单) README.md(文档页面) other.md(可选，多页配置 https://docsify.js.org/#/zh-cn/more-pages) 插件 全文搜索 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354&lt;script&gt; window.$docsify = &#123; search: &#x27;auto&#x27;, // 默认值 search : [ &#x27;/&#x27;, // =&gt; /README.md &#x27;/guide&#x27;, // =&gt; /guide.md &#x27;/get-started&#x27;, // =&gt; /get-started.md &#x27;/zh-cn/&#x27;, // =&gt; /zh-cn/README.md ], // 完整配置参数 search: &#123; maxAge: 86400000, // 过期时间，单位毫秒，默认一天 paths: [], // or &#x27;auto&#x27; placeholder: &#x27;Type to search&#x27;, // 支持本地化 placeholder: &#123; &#x27;/zh-cn/&#x27;: &#x27;搜索&#x27;, &#x27;/&#x27;: &#x27;Type to search&#x27; &#125;, noData: &#x27;No Results!&#x27;, // 支持本地化 noData: &#123; &#x27;/zh-cn/&#x27;: &#x27;找不到结果&#x27;, &#x27;/&#x27;: &#x27;No Results&#x27; &#125;, // 搜索标题的最大层级, 1 - 6 depth: 2, hideOtherSidebarContent: false, // 是否隐藏其他侧边栏内容 // 避免搜索索引冲突 // 同一域下的多个网站之间 namespace: &#x27;website-1&#x27;, // 使用不同的索引作为路径前缀（namespaces） // 注意：仅适用于 paths: &#x27;auto&#x27; 模式 // // 初始化索引时，我们从侧边栏查找第一个路径 // 如果它与列表中的前缀匹配，我们将切换到相应的索引 pathNamespaces: [&#x27;/zh-cn&#x27;, &#x27;/ru-ru&#x27;, &#x27;/ru-ru/v1&#x27;], // 您可以提供一个正则表达式来匹配前缀。在这种情况下， // 匹配到的字符串将被用来识别索引 pathNamespaces: /^(\\/(zh-cn|ru-ru))?(\\/(v1|v2))?/ &#125; &#125;&lt;/script&gt;&lt;script src=&quot;//polyfill.io/v3/polyfill.min.js?features=String.prototype.normalize&quot;&gt;&lt;/script&gt; 复制到剪贴板 1&lt;script src=&quot;//cdn.jsdelivr.net/npm/docsify-copy-code/dist/docsify-copy-code.min.js&quot;&gt;&lt;/script&gt; 使用第三方库 docsifyV4.xx兼容vue，直接在index内注入vuejs即可使用vue 在使用基于vue的elementUI时，有一个问题就是：注入vue但是未在index使用vue，将导致elementUI不可用 index.html必须使用了关于vue的配置才可以使vue生效 举例：vueGlobalOptions 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869&lt;!DOCTYPE html&gt;&lt;html lang=&quot;en&quot;&gt;&lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;title&gt;Document&lt;/title&gt; &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge,chrome=1&quot; /&gt; &lt;meta name=&quot;description&quot; content=&quot;Description&quot;&gt; &lt;meta http-equiv=&quot;Expires&quot; content=&quot;0&quot;&gt; &lt;meta http-equiv=&quot;Pragma&quot; content=&quot;no-cache&quot;&gt; &lt;meta http-equiv=&quot;Cache-control&quot; content=&quot;no-cache&quot;&gt; &lt;meta http-equiv=&quot;Cache&quot; content=&quot;no-cache&quot;&gt; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0, minimum-scale=1.0&quot;&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;./css/docsify.css&quot;&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;./css/element.css&quot;&gt; &lt;style&gt; table&#123; margin: 0!important; &#125; &lt;/style&gt;&lt;/head&gt;&lt;body&gt; &lt;nav&gt; &lt;a href=&quot;#/en/&quot;&gt;EN&lt;/a&gt; &lt;a href=&quot;#/&quot;&gt;中文&lt;/a&gt; &lt;/nav&gt; &lt;div id=&quot;app&quot;&gt;&lt;/div&gt; &lt;script src=&quot;./table/test.js&quot;&gt;&lt;/script&gt; &lt;script&gt; window.$docsify = &#123; vueGlobalOptions: &#123; data() &#123; return &#123; count: 0, Table &#125;; &#125;, &#125;, name: &#x27;&#x27;, repo: &#x27;&#x27;, search: &#123; depth: 6, paths: &#x27;auto&#x27;, placeholder: &#123; &#x27;/&#x27;: &#x27;搜索&#x27;, &#x27;/en/&#x27;: &#x27;Type to search&#x27; &#125;, noData: &#123; &#x27;/&#x27;: &#x27;找不到结果&#x27;, &#x27;/en/&#x27;: &#x27;No Results&#x27; &#125;, &#125;, // coverpage: &#x27;./docsifyConfig/_coverpage.md&#x27;,//封面 loadSidebar: &#x27;./docsifyConfig/_sidebar.md&#x27;, subMaxLevel: 3, loadNavbar: &#x27;./docsifyConfig/_navbar.md&#x27;, &#125; &lt;/script&gt; &lt;!-- Docsify v4 --&gt; &lt;script src=&quot;./js/vue.min.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;./js/element.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;./js/docsify.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;./js/search.min.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;./js/docsify-copy-code.min.js&quot;&gt;&lt;/script&gt;&lt;/body&gt;&lt;/html&gt; 在markdown中使用script 直接在README.md编写使用，只会执行一个script 123&lt;script&gt; console.log(&#x27;执行脚本&#x27;)&lt;/script&gt; Node.js图片处理库sharp安装 npm install sharp tips:在window下安装的sharp正常运行 但是在linux系统下需要安装二进制的sharp 使用1234567const Sharp = require(&#x27;sharp&#x27;)sharp(&#x27;input.jpg&#x27;) .rotate() .resize(200) .toBuffer() .then( data =&gt; &#123;...&#125; ) .catch( err =&gt; &#123;...&#125; );","categories":[{"name":"javascript","slug":"javascript","permalink":"http://wang-z.gitee.io/categories/javascript/"}],"tags":[{"name":"javascript","slug":"javascript","permalink":"http://wang-z.gitee.io/tags/javascript/"}],"author":{"name":"Mr.wang","avatar":"https://wang-z.gitee.io/img/author.jpg"}},{"title":"window上的搜索软件Everything","slug":"app-window上的搜索软件Everything","date":"2020-12-03T03:11:52.000Z","updated":"2022-08-01T07:39:07.652Z","comments":true,"path":"2020/12/03/app-window上的搜索软件Everything/","link":"","permalink":"http://wang-z.gitee.io/2020/12/03/app-window%E4%B8%8A%E7%9A%84%E6%90%9C%E7%B4%A2%E8%BD%AF%E4%BB%B6Everything/","excerpt":"一款在windows上好用的搜索文件软件","text":"一款在windows上好用的搜索文件软件 Everything的安装及使用安装地址https://www.voidtools.com/zh-cn/downloads/ 搜索方法基本 符号 解释 例子 解释 空格 逻辑与 app a 文件(夹)名中既含app又含a 逻辑或 1.txt | 2.txt 文件名含1或2的txt文件 ! 逻辑非 *.txt !b 文件名不含b的txt文件 &lt; &gt; 提高优先级,类似于数学的() file:&lt;1 | 2 &gt; 文件名含1或2的文件(夹)(参见file:) “” 特殊字符串 “foo bar” 如果没有””会认为是逻辑与 修饰符： case: 匹配大小写 file:只匹配文件 folder:只匹配文件夹 path:匹配路径和文件名 regex:正则表达式 ww: wholeword:全字匹配 函数： attrib:&lt;属性&gt; 搜索特定属性的目标 *.txt attrib:a所有存档属性的txt文件 attributes:&lt;属性&gt; 同上 datecreated: 搜索特定创建日期的目标 *.txt datecreated:lastyear 去年创建的txt文件 *.txt datecreated:2010-2012 datemodified: 搜索特定修改日期的目标 dc: 搜索特定创建日期的目标 dm:搜索特定修改日期的目标 dupe: 搜索重复目标 empty: 搜索空文件夹 ext: 搜索指定后缀的目标 用分号分隔 file:ext:bmp;txt bmp和txt文件 len: 筛选出特定长度的目标名 *.txt len:5-10 文件名长5至10的txt文件 parents: Search for files and folders with the specified number of parent folders. size: 搜索特定大小的文件 *.txt size:large 1MB-16 MB的txt文件 *.txt size:7mb-8mb 函数语法： function:value 等于value function:&lt;=value 小于等于value function:&lt;value 小于value function:=value 等于value function:&gt;value 大于value function:&gt;=value 大于或等于value function:start..end 范围start到end function:start-end 范围start到end 大小语法： size[kb|mb|gb] 大小常数： empty 0KB tiny 0-10 KB small 10-100 KB medium 100KB-1 MB large 1MB-16 MB gigantic 16MB-128 MB 日期常数： Today yesterday &lt;last|past|prev|current|this &gt;&lt;week|month|year&gt; 属性常数： R 只读文件 H 隐藏文件 S 系统文件 D 文件夹 A 存档文件 N 普通文件 三．正则表达式 regular expression正则表达式：(觉得难的跳过，高级话题，这里简单介绍) 开启正则表达式：Everything选项卡-&gt;常规-&gt;Home Match regex:选择Enabled，新开窗口就可以使用正则表达式了。 一般匹配搜索有三种方式： 常规搜索：你输入什么搜索什么 通配符：使用* ?等符号 正则表达式：最复杂也最万能的搜索匹配法 注意，正则表达式内部不能出现多余空格 四. 搜索实例 目标 语法 找到所有c:\\windows目录及其下任意子目录的txt文件 c:\\windows*.txt 找出所有bmp和jpg文件 *.bmp | *.jpg 找出所有名为download文件夹下的所有avi文件 download\\ .avi 找出所有名字中含.tx的文件夹 folder:.tx 搜索空txt文件 *.txt file:size:0 搜索所有大于1MB的常见图像文件 &lt;*.bmp|*.jpg|*.png|*.tga&gt; size:&gt;1mb 找到所有c:\\windows目录下的txt文件 regex:c:\\windows[^]*.txt 列出所有c:\\windows的N级子目录 regex:c:\\windows[]([]){N}$ 列出所有c:\\windows的N级子目录下的txt文件 regex:c:\\windows[]([]){N}.txt$ 查找所有全字匹配1.txt的文件 ww:1.txt 查找wi开头的h文件和cpp文件 file:&lt;wi*.h|wi*.cpp&gt; or wi* ext:h|cpp XXX第N集.rmvb”，XXX是电视剧名，N是数字 regex:.*第[0-9]+集 连续的RAR压缩包 XXXX.partN.rar，XXXX是压缩包名，N是数字 regex:.*part[0-9]+.rar 连续的ZIP压缩包 XXXX.zN regex:.*.z[0-9]+ 搜索所有纯中文目标 regex:[0-9a-z]*$ 搜索带中文字符的目标 regex:.[!-~]+.$","categories":[{"name":"app","slug":"app","permalink":"http://wang-z.gitee.io/categories/app/"}],"tags":[{"name":"app","slug":"app","permalink":"http://wang-z.gitee.io/tags/app/"},{"name":"window","slug":"window","permalink":"http://wang-z.gitee.io/tags/window/"},{"name":"pc","slug":"pc","permalink":"http://wang-z.gitee.io/tags/pc/"},{"name":"web","slug":"web","permalink":"http://wang-z.gitee.io/tags/web/"}],"author":{"name":"Mr.wang","avatar":"https://wang-z.gitee.io/img/author.jpg"}},{"title":"web移动端手机型号","slug":"base-web移动端手机型号","date":"2020-11-11T03:11:52.000Z","updated":"2022-08-01T07:39:07.652Z","comments":true,"path":"2020/11/11/base-web移动端手机型号/","link":"","permalink":"http://wang-z.gitee.io/2020/11/11/base-web%E7%A7%BB%E5%8A%A8%E7%AB%AF%E6%89%8B%E6%9C%BA%E5%9E%8B%E5%8F%B7/","excerpt":"web移动开发中的一部分手机型号，UA，基本信息","text":"web移动开发中的一部分手机型号，UA，基本信息 移动端型号 手机名称 像素分辨率（px） 倍率 逻辑分辨率(pt) 物理尺寸(英寸) 屏幕密度(ppi) DPI i6 plus 1242*2208 @3x 414*736 5.5 401 154 I6 750*1334 @2x 375*667 4.7 330 163 I5s 640*1136 @2x 320*568 4 330 163 I5 640*1136 @2x 320*568 4 330 163 I4 640*960 @2x 320*480 3.5 330 163 I3GS 320*480 @1x 320*480 3.5 163 android 240*320 @0.75 320*420 120 android 320*480 @1x 320*480 160 android 480*800 @1.5x 360*500 240 android 640*960 @2x 320*480 320 android 540*960 @1.5x 360*640 360 android 720*1280 @2x 360*640 360 android 1080*1920 @3x 360*640 360 字体大小展示： px 6 7 8 9 10 11 12 13 14 15 16 em 0.375 0.438 0.5 0.563 0.625 0.688 0.75 0.813 0.875 0.938 1 % 37.50 43.80 50 56.30 62.50 68.80 75 81.30 87.50 93.80 100 pt 5 5.5 6 7 8 8 9 10 11 11 12 px 17 18 19 20 21 22 23 24 em 1.063e 1.125 1.188 1.25 1.313 1.375 1.438 1.5 % 106.30 112.50 118.80 125 131.30 137.50 143.80 150 pt 13 14 14 15 16 17 17 18 （附公式：px = pt * DPI / 72) User-Agent 设备 系统 浏览器 User-Agent 红米Note 5 Android MIUI浏览器 Mozilla/5.0 (Linux; U; Android 9; zh-cn; Redmi Note 5 Build/PKQ1.180904.001) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/71.0.3578.141 Mobile Safari/537.36 XiaoMi/MiuiBrowser/11.10.8 小米6 Android 手机百度 Mozilla/5.0 (Linux; Android 9; MI 6 Build/PKQ1.190118.001; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/76.0.3809.89 Mobile Safari/537.36 T7/11.20 SP-engine/2.16.0 baiduboxapp/11.20.2.3 (Baidu; P1 9) 华为Mate 20 X Android 手机百度 Mozilla/5.0 (Linux; Android 10; EVR-AL00 Build/HUAWEIEVR-AL00; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/74.0.3729.186 Mobile Safari/537.36 baiduboxapp/11.0.5.12 (Baidu; P1 10) 华为畅享9 Plus全网通高配版 Android 微信 Mozilla/5.0 (Linux; Android 9; JKM-AL00b Build/HUAWEIJKM-AL00b; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/66.0.3359.126 MQQBrowser/6.2 TBS/045130 Mobile Safari/537.36 MMWEBID/8951 MicroMessenger/7.0.12.1620(0x27000C36) Process/tools NetType/4G Language/zh_CN ABI/arm64 COR-TL10 Android 手机百度 Mozilla/5.0 (Linux; Android 9; COR-TL10 Build/HUAWEICOR-TL10; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/76.0.3809.89 Mobile Safari/537.36 T7/11.20 SP-engine/2.16.0 baiduboxapp/11.20.0.14 (Baidu; P1 9) 华为nova4 Android 手机百度 Mozilla/5.0 (Linux; Android 10; VCE-AL00 Build/HUAWEIVCE-AL00; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/74.0.3729.186 Mobile Safari/537.36 baiduboxapp/11.0.5.12 (Baidu; P1 10) 华为P20 Pro Android 手机百度 Mozilla/5.0 (Linux; Android 10; CLT-AL00 Build/HUAWEICLT-AL00; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/76.0.3809.89 Mobile Safari/537.36 T7/11.20 SP-engine/2.16.0 baiduboxapp/11.20.0.14 (Baidu; P1 10) NABar/1.0 华为Mate20 Android 微信 Mozilla/5.0 (Linux; Android 10; HMA-AL00 Build/HUAWEIHMA-AL00; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/66.0.3359.126 MQQBrowser/6.2 TBS/045130 Mobile Safari/537.36 MMWEBID/6002 MicroMessenger/7.0.12.1620(0x27000C36) Process/tools NetType/WIFI Language/zh_CN ABI/arm64 华为nova 2s Android 微信 Mozilla/5.0 (Linux; Android 9; HWI-AL00 Build/HUAWEIHWI-AL00; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/66.0.3359.126 MQQBrowser/6.2 TBS/045129 Mobile Safari/537.36 MMWEBID/6735 MicroMessenger/7.0.12.1620(0x27000C37) Process/tools NetType/4G Language/zh_CN ABI/arm64 黑鲨2游戏手机 Android 手机百度 Mozilla/5.0 (Linux; Android 10; SKW-A0 Build/SKYW2001202CN00MQ0; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/76.0.3809.89 Mobile Safari/537.36 T7/11.20 SP-engine/2.16.0 baiduboxapp/11.20.0.14 (Baidu; P1 10) OPPO A5 Android 手机百度 Mozilla/5.0 (Linux; Android 8.1.0; PBAM00 Build/OPM1.171019.026; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/76.0.3809.89 Mobile Safari/537.36 T7/11.20 SP-engine/2.16.0 baiduboxapp/11.20.0.14 (Baidu; P1 8.1.0) NABar/2.0 华为nova 2s Android 微信 Mozilla/5.0 (Linux; Android 9; HWI-AL00 Build/HUAWEIHWI-AL00; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/66.0.3359.126 MQQBrowser/6.2 TBS/045129 Mobile Safari/537.36 MMWEBID/6735 MicroMessenger/7.0.12.1620(0x27000C37) Process/tools NetType/WIFI Language/zh_CN ABI/arm64 华为Mate30 Pro Android 微信 Mozilla/5.0 (Linux; Android 10; LIO-AN00 Build/HUAWEILIO-AN00; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/67.0.3396.87 XWEB/1170 MMWEBSDK/200201 Mobile Safari/537.36 MMWEBID/3371 MicroMessenger/7.0.12.1620(0x27000C36) Process/toolsmp NetType/4G Language/zh_CN ABI/arm64 红米Note 5 Android 手机百度 Mozilla/5.0 (Linux; Android 8.1.0; Redmi Note 5 Build/OPM1.171019.011; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/76.0.3809.89 Mobile Safari/537.36 T7/11.20 SP-engine/2.16.0 baiduboxapp/11.20.0.14 (Baidu; P1 8.1.0) NABar/2.0 华为P30 Android 微信 Mozilla/5.0 (Linux; Android 9; ELE-AL00 Build/HUAWEIELE-AL0001; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/67.0.3396.87 XWEB/1170 MMWEBSDK/191201 Mobile Safari/537.36 MMWEBID/873 MicroMessenger/7.0.10.1580(0x27000AFE) Process/tools NetType/4G Language/zh_CN ABI/arm64 华为Mate20 Android 微信 Mozilla/5.0 (Linux; Android 10; HMA-AL00 Build/HUAWEIHMA-AL00; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/66.0.3359.126 MQQBrowser/6.2 TBS/045130 Mobile Safari/537.36 MMWEBID/2679 MicroMessenger/7.0.10.1580(0x27000A59) Process/tools NetType/4G Language/zh_CN ABI/arm64 DUB-TL00 Android 手机百度 Mozilla/5.0 (Linux; Android 8.1.0; DUB-TL00 Build/HUAWEIDUB-TL00; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/76.0.3809.89 Mobile Safari/537.36 T7/11.20 SP-engine/2.16.0 baiduboxapp/11.20.0.14 (Baidu; P1 8.1.0) NABar/2.0 魅族V8 Android 微信 Mozilla/5.0 (Linux; Android 8.1.0; M1813 Build/O11019; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/66.0.3359.126 MQQBrowser/6.2 TBS/045129 Mobile Safari/537.36 MMWEBID/1221 MicroMessenger/7.0.12.1620(0x27000C37) Process/tools NetType/4G Language/zh_CN ABI/arm64 华为P20 Pro Android 微信 Mozilla/5.0 (Linux; Android 10; CLT-AL00 Build/HUAWEICLT-AL00; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/66.0.3359.126 MQQBrowser/6.2 TBS/045130 Mobile Safari/537.36 MMWEBID/2644 MicroMessenger/7.0.12.1620(0x27000C36) Process/tools NetType/WIFI Language/zh_CN ABI/arm64 华为nova 2s Android QQ浏览器 Mozilla/5.0 (Linux; U; Android 9; zh-cn; HWI-AL00 Build/HUAWEIHWI-AL00) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/66.0.3359.126 MQQBrowser/10.1 Mobile Safari/537.36 华为P20 Pro Android 手机百度 Mozilla/5.0 (Linux; Android 9; CLT-AL01 Build/HUAWEICLT-AL01; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/76.0.3809.89 Mobile Safari/537.36 T7/11.20 SP-engine/2.16.0 baiduboxapp/11.20.0.14 (Baidu; P1 9) 华为P30 Pro Android 微信 Mozilla/5.0 (Linux; Android 10; VOG-AL00 Build/HUAWEIVOG-AL00; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/66.0.3359.126 MQQBrowser/6.2 TBS/45016 Mobile Safari/537.36 MMWEBID/3894 MicroMessenger/7.0.12.1620(0x27000C36) Process/tools NetType/4G Language/zh_CN ABI/arm64 小米4c Android 微信 Mozilla/5.0 (Linux; Android 7.0; Mi-4c Build/NRD91M; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/67.0.3396.87 XWEB/1169 MMWEBSDK/191201 Mobile Safari/537.36 MMWEBID/2208 MicroMessenger/7.0.10.1580(0x27010AFF) Process/tools NetType/4G Language/zh_CN ABI/arm64 iPhone IOS QQ浏览器 Mozilla/5.0 (iPhone; CPU iPhone OS 13_0 like Mac OS X) AppleWebKit/604.3.5 (KHTML, like Gecko) Version/13.0 MQQBrowser/10.1.1 Mobile/15B87 Safari/604.1 QBWebViewUA/2 QBWebViewType/1 WKType/1 荣耀10 Android 微信 Mozilla/5.0 (Linux; Android 9; COL-AL10 Build/HUAWEICOL-AL10; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/66.0.3359.126 MQQBrowser/6.2 TBS/045130 Mobile Safari/537.36 MMWEBID/9048 MicroMessenger/7.0.10.1580(0x27000AFE) Process/tools NetType/4G Language/zh_CN ABI/arm64 iPhone IOS 微信 Mozilla/5.0 (iPhone; CPU iPhone OS 12_4_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15E148 MicroMessenger/7.0.11(0x17000b21) NetType/4G Language/zh_CN Redmi Note 7 Android MIUI浏览器 Mozilla/5.0 (Linux; U; Android 9; zh-cn; Redmi Note 7 Build/PKQ1.180904.001) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/71.0.3578.141 Mobile Safari/537.36 XiaoMi/MiuiBrowser/11.8.14 华为nova4 Android 手机百度 Mozilla/5.0 (Linux; Android 10; VCE-AL00 Build/HUAWEIVCE-AL00; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/76.0.3809.89 Mobile Safari/537.36 T7/11.20 SP-engine/2.16.0 baiduboxapp/11.20.0.14 (Baidu; P1 10) NABar/1.0 HLK-AL10 Android 手机百度 Mozilla/5.0 (Linux; Android 9; HLK-AL10 Build/HONORHLK-AL10; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/76.0.3809.89 Mobile Safari/537.36 T7/11.20 SP-engine/2.16.0 baiduboxapp/11.20.0.14 (Baidu; P1 9) 华为nova5 Pro Android 手机百度 Mozilla/5.0 (Linux; Android 10; SEA-AL10 Build/HUAWEISEA-AL10; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/76.0.3809.89 Mobile Safari/537.36 T7/11.20 SP-engine/2.16.0 baiduboxapp/11.20.0.14 (Baidu; P1 10) NABar/1.0 16s Pro Android QQ浏览器 Mozilla/5.0 (Linux; U; Android 9; zh-cn; 16s Pro Build/PKQ1.190616.001) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/57.0.2987.132 MQQBrowser/9.1 Mobile Safari/537.36 vivo Z3 Android 手机百度 Mozilla/5.0 (Linux; Android 9; V1813BT Build/PKQ1.181030.001; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/63.0.3239.83 Mobile Safari/537.36 T7/11.16 lite baiduboxapp/4.11.0.10 (Baidu; P1 9) OPPO A79k Android 手机百度 Mozilla/5.0 (Linux; Android 7.1.1; OPPO A79k Build/N6F26Q; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/63.0.3239.83 Mobile Safari/537.36 T7/11.15 baiduboxapp/11.15.0.12 (Baidu; P1 7.1.1) vivo X9s L Android 手机百度 Mozilla/5.0 (Linux; Android 8.1.0; vivo X9s L Build/OPM1.171019.019; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/76.0.3809.89 Mobile Safari/537.36 T7/11.20 SP-engine/2.16.0 baiduboxapp/11.20.0.14 (Baidu; P1 8.1.0) RNE-AL00 Android 手机百度 Mozilla/5.0 (Linux; Android 8.0.0; RNE-AL00 Build/HUAWEIRNE-AL00; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/76.0.3809.89 Mobile Safari/537.36 T7/11.20 SP-engine/2.16.0 baiduboxapp/11.20.0.14 (Baidu; P1 8.0.0) M2 E Android 手机百度 Mozilla/5.0 (Linux; Android 6.0.1; M2 E Build/MMB29U; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/76.0.3809.89 Mobile Safari/537.36 T7/11.20 SP-engine/2.16.0 baiduboxapp/11.20.2.2 (Baidu; P1 6.0.1) MI PLAY Android 手机百度 Mozilla/5.0 (Linux; Android 8.1.0; MI PLAY Build/O11019; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/76.0.3809.89 Mobile Safari/537.36 T7/11.20 SP-engine/2.16.0 baiduboxapp/11.20.0.14 (Baidu; P1 8.1.0) NX606J Android 手机百度 Mozilla/5.0 (Linux; Android 8.1.0; NX606J Build/OPM1.171019.026; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/76.0.3809.89 Mobile Safari/537.36 T7/11.20 SP-engine/2.16.0 baiduboxapp/11.20.0.14 (Baidu; P1 8.1.0) OPPO A57 Android QQ浏览器 Mozilla/5.0 (Linux; U; Android 6.0.1; zh-cn; OPPO A57 Build/MMB29M) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/57.0.2987.132 MQQBrowser/9.1 Mobile Safari/537.36 华为畅享9 Plus Android 手机百度 Mozilla/5.0 (Linux; Android 9; JKM-AL00a Build/HUAWEIJKM-AL00a; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/76.0.3809.89 Mobile Safari/537.36 T7/11.20 SP-engine/2.16.0 baiduboxapp/11.20.0.14 (Baidu; P1 9) JNY-AL10 Android 手机百度 Mozilla/5.0 (Linux; Android 10; JNY-AL10 Build/HUAWEIJNY-AL10; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/76.0.3809.89 Mobile Safari/537.36 T7/11.20 SP-engine/2.16.0 baiduboxapp/11.20.0.14 (Baidu; P1 10) NABar/2.0 vivo X21 Android 手机百度 Mozilla/5.0 (Linux; Android 9; vivo X21 Build/PKQ1.180819.001; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/76.0.3809.89 Mobile Safari/537.36 T7/11.20 SP-engine/2.16.0 baiduboxapp/11.20.0.14 (Baidu; P1 9) NABar/1.0 小米9 Android 微信 Mozilla/5.0 (Linux; Android 10; MI 9 Build/QKQ1.190825.002; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/67.0.3396.87 XWEB/1171 MMWEBSDK/200201 Mobile Safari/537.36 MMWEBID/2568 MicroMessenger/7.0.12.1620(0x27000C37) Process/tools NetType/4G Language/zh_CN ABI/arm64 iPhone IOS 微信 Mozilla/5.0 (iPhone; CPU iPhone OS 11_4_1 like Mac OS X) AppleWebKit/601.3.9 (KHTML, like Gecko) Version/10.0 Mobile/15E148 MicroMessenger/7.0.0(0x27871294) NetType/WIFI Language/zh_CN 华为Mate20 Pro Android 微信 Mozilla/5.0 (Linux; Android 10; LYA-AL10 Build/HUAWEILYA-AL10; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/66.0.3359.126 MQQBrowser/6.2 TBS/045130 Mobile Safari/537.36 MMWEBID/7947 MicroMessenger/7.0.12.1620(0x27000C36) Process/tools NetType/4G Language/zh_CN ABI/arm64 荣耀9X Android 微信 Mozilla/5.0 (Linux; Android 9; HLK-AL00 Build/HONORHLK-AL00; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/66.0.3359.126 MQQBrowser/6.2 TBS/045130 Mobile Safari/537.36 MMWEBID/4465 MicroMessenger/7.0.12.1620(0x27000C36) Process/tools NetType/WIFI Language/zh_CN ABI/arm64 MI 9 SE Android 微信 Mozilla/5.0 (Linux; Android 9; MI 9 SE Build/PKQ1.181121.001; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/66.0.3359.126 MQQBrowser/6.2 TBS/045129 Mobile Safari/537.36 MMWEBID/1500 MicroMessenger/7.0.12.1620(0x27000C37) Process/tools NetType/4G Language/zh_CN ABI/arm64 华为Mate 20 X Android 微信 Mozilla/5.0 (Linux; Android 10; EVR-AL00 Build/HUAWEIEVR-AL00; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/67.0.3396.87 XWEB/1170 MMWEBSDK/200201 Mobile Safari/537.36 MMWEBID/5192 MicroMessenger/7.0.12.1620(0x27000C36) Process/toolsmp NetType/4G Language/zh_CN ABI/arm64 华为Mate 20 X Android 手机百度 Mozilla/5.0 (Linux; Android 10; EVR-AL00 Build/HUAWEIEVR-AL00; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/76.0.3809.89 Mobile Safari/537.36 T7/11.20 SP-engine/2.16.0 baiduboxapp/11.20.0.14 (Baidu; P1 10) NABar/1.0 华为Mate 9 Pro Android UC浏览器 Mozilla/5.0 (Linux; U; Android 9; zh-CN; LON-AL00 Build/HUAWEILON-AL00) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/57.0.2987.108 UCBrowser/12.9.0.1070 Mobile Safari/537.36 荣耀20 Android 手机百度 Mozilla/5.0 (Linux; Android 10; YAL-AL00 Build/HUAWEIYAL-AL00; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/76.0.3809.89 Mobile Safari/537.36 T7/11.20 SP-engine/2.16.0 baiduboxapp/11.20.0.14 (Baidu; P1 10) NABar/2.0 V1913A Android 手机百度 Mozilla/5.0 (Linux; Android 9; V1913A Build/P00610; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/76.0.3809.89 Mobile Safari/537.36 T7/11.20 SP-engine/2.16.0 baiduboxapp/11.20.0.14 (Baidu; P1 9) CLT-TL01 Android 手机百度 Mozilla/5.0 (Linux; Android 10; CLT-TL01 Build/HUAWEICLT-TL01; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/76.0.3809.89 Mobile Safari/537.36 T7/11.20 SP-engine/2.16.0 baiduboxapp/11.20.0.14 (Baidu; P1 10) 三星Galaxy S10+ Android 手机百度 Mozilla/5.0 (Linux; Android 10; SM-G9750 Build/QP1A.190711.020; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/76.0.3809.89 Mobile Safari/537.36 T7/11.19 SP-engine/2.15.0 baiduboxapp/11.19.5.10 (Baidu; P1 10) 华为Mate30Pro Android 微信 Mozilla/5.0 (Linux; Android 10; LIO-AL00 Build/HUAWEILIO-AL00; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/66.0.3359.126 MQQBrowser/6.2 TBS/045130 Mobile Safari/537.36 MMWEBID/6203 MicroMessenger/7.0.10.1580(0x27000AFC) Process/tools NetType/WIFI Language/zh_CN ABI/arm64 红米5 Plus Android QQ浏览器 Mozilla/5.0 (Linux; U; Android 7.1.2; zh-cn; Redmi 5 Plus Build/N2G47H) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/57.0.2987.132 MQQBrowser/9.2 Mobile Safari/537.36 iPhone IOS QQ浏览器 Mozilla/5.0 (iPhone; CPU iPhone OS 11_2_6 like Mac OS X) AppleWebKit/604.3.5 (KHTML, like Gecko) Version/11.0 MQQBrowser/10.1.0 Mobile/15B87 Safari/604.1 QBWebViewUA/2 QBWebViewType/1 WKType/1 一加6 Android 手机百度 Mozilla/5.0 (Linux; Android 9; ONEPLUS A6000 Build/PKQ1.180716.001; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/76.0.3809.89 Mobile Safari/537.36 T7/11.20 SP-engine/2.16.0 baiduboxapp/11.20.0.14 (Baidu; P1 9) NABar/2.0 OPPO_A59S Android QQ浏览器 Mozilla/5.0 (Linux; U; Android 4.4.2; zh-cn; OPPO_A59S Build/KOT49H) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/57.0.2987.132 MQQBrowser/8.9 Mobile Safari/537.36 华为Mate10移动定制全网通版 Android 手机百度 Mozilla/5.0 (Linux; Android 9; ALP-TL00 Build/HUAWEIALP-TL00; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/76.0.3809.89 Mobile Safari/537.36 T7/11.20 SP-engine/2.16.0 baiduboxapp/11.20.0.14 (Baidu; P1 9) 华为P30 Android 微信 Mozilla/5.0 (Linux; Android 9; ELE-AL00 Build/HUAWEIELE-AL00; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/66.0.3359.126 MQQBrowser/6.2 TBS/045130 Mobile Safari/537.36 MMWEBID/8968 MicroMessenger/7.0.12.1620(0x27000C36) Process/tools NetType/WIFI Language/zh_CN ABI/arm64 OPPO R15 Android QQ浏览器 Mozilla/5.0 (Linux; U; Android 9; zh-cn; PACT00 Build/PPR1.180610.011) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/66.0.3359.126 MQQBrowser/10.1 Mobile Safari/537.36 Redmi K20 Pro Android MIUI浏览器 Mozilla/5.0 (Linux; U; Android 10; zh-cn; Redmi K20 Pro Build/QKQ1.190825.002) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/71.0.3578.141 Mobile Safari/537.36 XiaoMi/MiuiBrowser/11.8.14 华为Mate 8 Android QQ浏览器 Mozilla/5.0 (Linux; U; Android 7.0; zh-cn; HUAWEI NXT-AL10 Build/HUAWEINXT-AL10) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/57.0.2987.132 MQQBrowser/9.0 Mobile Safari/537.36 华为畅享10 Plus Android 手机百度 Mozilla/5.0 (Linux; Android 9; STK-AL00 Build/HUAWEISTK-AL00; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/76.0.3809.89 Mobile Safari/537.36 T7/11.20 SP-engine/2.16.0 baiduboxapp/11.20.0.14 (Baidu; P1 9) NABar/1.0 红米6 Pro Android 手机百度 Mozilla/5.0 (Linux; Android 9; Redmi 6 Pro Build/PKQ1.180917.001; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/76.0.3809.89 Mobile Safari/537.36 T7/11.20 SP-engine/2.16.0 baiduboxapp/11.20.0.14 (Baidu; P1 9) 红米4X Android 手机百度 Mozilla/5.0 (Linux; Android 7.1.2; Redmi 4X Build/N2G47H; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/63.0.3239.83 Mobile Safari/537.36 T7/11.12 baiduboxapp/11.12.3.2 (Baidu; P1 7.1.2) M1822 Android 手机百度 Mozilla/5.0 (Linux; Android 8.1.0; M1822 Build/OPM1.171019.026; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/76.0.3809.89 Mobile Safari/537.36 T7/11.20 SP-engine/2.16.0 baiduboxapp/11.20.0.14 (Baidu; P1 8.1.0) iQOO Pro 5G Android UC浏览器 Mozilla/5.0 (Linux; U; Android 9; zh-CN; V1916A Build/PKQ1.190714.001) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/57.0.2987.108 UCBrowser/12.8.2.1062 Mobile Safari/537.36 PBDM00 Android 手机百度 Mozilla/5.0 (Linux; Android 9; PBDM00 Build/PKQ1.190519.001; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/76.0.3809.89 Mobile Safari/537.36 T7/11.19 SP-engine/2.15.0 baiduboxapp/11.19.5.10 (Baidu; P1 9) 小米8 Android 手机百度 Mozilla/5.0 (Linux; Android 9; MI 8 Build/PKQ1.180729.001; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/76.0.3809.89 Mobile Safari/537.36 T7/11.20 SP-engine/2.16.0 baiduboxapp/11.20.0.14 (Baidu; P1 9) NABar/2.0 V1836A Android 手机百度 Mozilla/5.0 (Linux; Android 9; V1836A Build/PKQ1.181030.001; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/76.0.3809.89 Mobile Safari/537.36 T7/11.20 SP-engine/2.16.0 baiduboxapp/11.20.0.14 (Baidu; P1 9) 华为nova 2s Android 手机百度 Mozilla/5.0 (Linux; Android 9; HWI-AL00 Build/HUAWEIHWI-AL00; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/76.0.3809.89 Mobile Safari/537.36 T7/11.20 SP-engine/2.16.0 baiduboxapp/11.20.0.14 (Baidu; P1 9) NABar/1.0 荣耀8X Android 手机百度 Mozilla/5.0 (Linux; Android 9; JSN-AL00a Build/HONORJSN-AL00a; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/76.0.3809.89 Mobile Safari/537.36 T7/11.20 SP-engine/2.16.0 baiduboxapp/11.20.0.14 (Baidu; P1 9) NABar/1.0 vivo X9s Android 手机百度 Mozilla/5.0 (Linux; Android 8.1.0; vivo X9s Build/OPM1.171019.019; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/76.0.3809.89 Mobile Safari/537.36 T7/11.20 SP-engine/2.16.0 baiduboxapp/11.20.0.14 (Baidu; P1 8.1.0) vivo Y85A Android 手机百度 Mozilla/5.0 (Linux; Android 8.1.0; vivo Y85A Build/OPM1.171019.011; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/63.0.3239.83 Mobile Safari/537.36 T7/11.1 baiduboxapp/11.1.0.10 (Baidu; P1 8.1.0) 华为Mate20 Android 手机百度 Mozilla/5.0 (Linux; Android 10; HMA-AL00 Build/HUAWEIHMA-AL00; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/76.0.3809.89 Mobile Safari/537.36 T7/11.20 SP-engine/2.16.0 baiduboxapp/11.20.0.14 (Baidu; P1 10) NABar/2.0 1809-A01 Android 手机百度 Mozilla/5.0 (Linux; Android 8.1.0; 1809-A01 Build/OPM1; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/76.0.3809.89 Mobile Safari/537.36 T7/11.19 SP-engine/2.15.0 baiduboxapp/11.19.5.10 (Baidu; P1 8.1.0) SM-A7050 Android 手机百度 Mozilla/5.0 (Linux; Android 9; SM-A7050 Build/PPR1.180610.011; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/76.0.3809.89 Mobile Safari/537.36 T7/11.20 SP-engine/2.16.0 baiduboxapp/11.20.0.14 (Baidu; P1 9) 小米5X Android UC浏览器 Mozilla/5.0 (Linux; U; Android 8.1.0; zh-CN; MI 5X Build/OPM1.171019.019) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/57.0.2987.108 UCBrowser/12.1.2.992 Mobile Safari/537.36 华为Mate20 Android 手机百度 Mozilla/5.0 (Linux; Android 10; HMA-AL00 Build/HUAWEIHMA-AL00; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/76.0.3809.89 Mobile Safari/537.36 T7/11.20 SP-engine/2.16.0 baiduboxapp/11.20.2.2 (Baidu; P1 10) 小米8 SE Android 手机百度 Mozilla/5.0 (Linux; Android 10; MI 8 SE Build/QKQ1.190828.002; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/76.0.3809.89 Mobile Safari/537.36 T7/11.17 SP-engine/2.13.0 baiduboxapp/11.17.0.13 (Baidu; P1 10) Redmi 7 Android MIUI浏览器 Mozilla/5.0 (Linux; U; Android 9; zh-cn; Redmi 7 Build/PKQ1.181021.001) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/71.0.3578.141 Mobile Safari/537.36 XiaoMi/MiuiBrowser/11.8.14 V1816A Android QQ浏览器 Mozilla/5.0 (Linux; U; Android 9; zh-cn; V1816A Build/PKQ1.180819.001) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/66.0.3359.126 MQQBrowser/10.1 Mobile Safari/537.36 华为nova 2 Android 微信 Mozilla/5.0 (Linux; Android 8.0.0; PIC-AL00 Build/HUAWEIPIC-AL00; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/66.0.3359.126 MQQBrowser/6.2 TBS/045129 Mobile Safari/537.36 MMWEBID/9451 MicroMessenger/7.0.12.1620(0x27000C37) Process/tools NetType/WIFI Language/zh_CN ABI/arm64 SM-C7010 Android 手机百度 Mozilla/5.0 (Linux; Android 8.0.0; SM-C7010 Build/R16NW; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/76.0.3809.89 Mobile Safari/537.36 T7/11.20 SP-engine/2.16.0 baiduboxapp/11.20.0.14 (Baidu; P1 8.0.0) Redmi Note 8 Pro Android MIUI浏览器 Mozilla/5.0 (Linux; U; Android 10; zh-cn; Redmi Note 8 Pro Build/QP1A.190711.020) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/71.0.3578.141 Mobile Safari/537.36 XiaoMi/MiuiBrowser/11.8.14 V1732A Android 手机百度 Mozilla/5.0 (Linux; Android 8.1.0; V1732A Build/O11019; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/76.0.3809.89 Mobile Safari/537.36 T7/11.20 SP-engine/2.16.0 baiduboxapp/11.20.0.14 (Baidu; P1 8.1.0) 华为Mate 10 Android 手机百度 Mozilla/5.0 (Linux; Android 10; ALP-AL00 Build/HUAWEIALP-AL00; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/76.0.3809.89 Mobile Safari/537.36 T7/11.20 SP-engine/2.16.0 baiduboxapp/11.20.0.14 (Baidu; P1 10) NABar/2.0 荣耀8青春版 Android 手机百度 Mozilla/5.0 (Linux; Android 8.0.0; PRA-TL10 Build/HONORPRA-TL10; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/76.0.3809.89 Mobile Safari/537.36 T7/11.20 SP-engine/2.16.0 baiduboxapp/11.20.0.14 (Baidu; P1 8.0.0) 华为Mate20 Android 微信 Mozilla/5.0 (Linux; Android 9; HMA-AL00 Build/HUAWEIHMA-AL00; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/72.0.3626.121 Mobile Safari/537.36 MMWEBID/1247 MicroMessenger/7.0.10.1561(0x27000A41) Process/tools NetType/4G Language/zh_CN ABI/arm64 GPVersion/1 华为nova3i Android QQ浏览器 Mozilla/5.0 (Linux; U; Android 9; zh-cn; INE-AL00 Build/HUAWEIINE-AL00) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/66.0.3359.126 MQQBrowser/10.1 Mobile Safari/537.36 华为Mate 9 Pro Android 手机百度 Mozilla/5.0 (Linux; Android 9; LON-AL00 Build/HUAWEILON-AL00; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/76.0.3809.89 Mobile Safari/537.36 T7/11.20 SP-engine/2.16.0 baiduboxapp/11.20.0.14 (Baidu; P1 9) 华为Mate10 Pro Android 手机百度 Mozilla/5.0 (Linux; Android 10; BLA-TL00 Build/HUAWEIBLA-TL00; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/76.0.3809.89 Mobile Safari/537.36 T7/11.20 SP-engine/2.16.0 baiduboxapp/11.20.0.14 (Baidu; P1 10) OPPO R11 Android 手机百度 Mozilla/5.0 (Linux; Android 7.1.1; OPPO R11 Build/NMF26X; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/76.0.3809.89 Mobile Safari/537.36 T7/11.20 SP-engine/2.16.0 baiduboxapp/11.20.0.14 (Baidu; P1 7.1.1) 华为P30 Android 微信 Mozilla/5.0 (Linux; Android 9; ELE-AL00 Build/HUAWEIELE-AL00; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/66.0.3359.126 MQQBrowser/6.2 TBS/045130 Mobile Safari/537.36 MMWEBID/8968 MicroMessenger/7.0.12.1620(0x27000C36) Process/tools NetType/4G Language/zh_CN ABI/arm64 小米2S Android MIUI浏览器 Mozilla/5.0 (Linux; U; Android 10; zh-cn; MIX 2S Build/QKQ1.190828.002) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/71.0.3578.141 Mobile Safari/537.36 XiaoMi/MiuiBrowser/11.8.14 vivo Y71A Android 手机百度 Mozilla/5.0 (Linux; Android 8.1.0; vivo Y71A Build/OPM1.171019.011; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/76.0.3809.89 Mobile Safari/537.36 T7/11.20 SP-engine/2.16.0 baiduboxapp/11.20.0.14 (Baidu; P1 8.1.0) 荣耀畅玩6X Android QQ浏览器 Mozilla/5.0 (Linux; Android 7.0; BLN-AL40 Build/HONORBLN-AL40; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/66.0.3359.126 MQQBrowser/6.2 TBS/045130 Mobile Safari/537.36 V1_AND_SQ_8.2.7_1334_YYB_D QQ/8.2.7.4410 NetType/4G WebP/0.3.0 Pixel/1080 StatusBarHeight/72 SimpleUISwitch/0 华为 nova 3e Android 手机百度 Mozilla/5.0 (Linux; Android 9; ANE-AL00 Build/HUAWEIANE-AL00; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/76.0.3809.89 Mobile Safari/537.36 T7/11.20 SP-engine/2.16.0 baiduboxapp/11.20.0.14 (Baidu; P1 9)","categories":[{"name":"base","slug":"base","permalink":"http://wang-z.gitee.io/categories/base/"}],"tags":[{"name":"Google","slug":"Google","permalink":"http://wang-z.gitee.io/tags/Google/"},{"name":"Typora","slug":"Typora","permalink":"http://wang-z.gitee.io/tags/Typora/"},{"name":"moblie","slug":"moblie","permalink":"http://wang-z.gitee.io/tags/moblie/"},{"name":"UA","slug":"UA","permalink":"http://wang-z.gitee.io/tags/UA/"}],"author":{"name":"Mr.wang","avatar":"https://wang-z.gitee.io/img/author.jpg"}},{"title":"vue3-实践出真知","slug":"vue-实践出真知","date":"2020-09-27T03:00:15.000Z","updated":"2023-04-28T03:32:45.444Z","comments":true,"path":"2020/09/27/vue-实践出真知/","link":"","permalink":"http://wang-z.gitee.io/2020/09/27/vue-%E5%AE%9E%E8%B7%B5%E5%87%BA%E7%9C%9F%E7%9F%A5/","excerpt":"vue3.0的实践记录","text":"vue3.0的实践记录 vue3.0正式版发布(2020-09-18)diff算法改变 在需要动态绑定的dom元素上绑定静态标记，渲染层只会比较绑定了静态标记点dom节点 1234567891011&lt;div id=&quot;app&quot;&gt;&#123;&#123; msg &#125;&#125;&lt;/div&gt;===========================function render() &#123; with(this) &#123; return _c(&#x27;div&#x27;, &#123; attrs: &#123; &quot;id&quot;: &quot;app&quot; &#125; &#125;, [_v(_s(msg))]) &#125;&#125; 12345678910111213&lt;div&gt;Hello World!&lt;/div&gt;&lt;div&gt;&#123;&#123;msg&#125;&#125;&lt;/div&gt;===============================import &#123; createVNode as _createVNode, toDisplayString as _toDisplayString, Fragment as _Fragment, openBlock as _openBlock, createBlock as _createBlock &#125; from &quot;vue&quot;export function render(_ctx, _cache, $props, $setup, $data, $options) &#123; return (_openBlock(), _createBlock(_Fragment, null, [ _createVNode(&quot;div&quot;, null, &quot;Hello World!&quot;), _createVNode(&quot;div&quot;, null, _toDisplayString(_ctx.msg), 1 /* TEXT */) ], 64 /* STABLE_FRAGMENT */))&#125;// Check the console for the AST flag标记值 12345678910111213141516171819202122232425262728293031323334353637383940const enum PatchFlags &#123; // 插值生成的动态文本节点 TEXT = 1, // 动态class绑定 CLASS = 1 &lt;&lt; 1, // 动态绑定style，需要注意一点，如果绑定的是静态object，即object不会动态变化 // 将同样被当作静态属性来处理，静态属性声明会被提升到render函数体的最前端 // 减少不必要的属性创建开销 // e.g. style=&quot;color: red&quot; and :style=&quot;&#123; color: &#x27;red&#x27; &#125;&quot; both get hoisted as // const style = &#123; color: &#x27;red&#x27; &#125; // render() &#123; return e(&#x27;div&#x27;, &#123; style &#125;) &#125; STYLE = 1 &lt;&lt; 2, // dom元素包含除class、style之外的动态属性，或者组件包含动态属性（可以是class、style） // 动态属性在编译阶段被收集到dynamicProps中，运行时做diff操作时会只对比动态属性的变化 // 省略对其他无关属性的diff（删除的属性无需关心） PROPS = 1 &lt;&lt; 3, // 包含动态变化的keys，需要对属性做全量diff，该标志位和 // CLASS、STYLE、PROPS是互斥的，不会同时存在，有FULL_PROPS // 上面提到的三个标志位会失效 FULL_PROPS = 1 &lt;&lt; 4, // 服务端渲染相关 HYDRATE_EVENTS = 1 &lt;&lt; 5, // 稳定的fragment类型，其children不会变化，元素次序固定， // 如`&lt;div v-for=&quot;item in 10&quot;&gt;&#123;&#123; item &#125;&#125;&lt;/div&gt;`生成的fragment STABLE_FRAGMENT = 1 &lt;&lt; 6, // fragment的children全部或部分节点标记key KEYED_FRAGMENT = 1 &lt;&lt; 7, // fragment的children节点均未标记key UNKEYED_FRAGMENT = 1 &lt;&lt; 8, // 不需要做props的patch，比如节点包含ref或者指令 ( onVnodeXXX hooks ) ， // 但是节点会被当作动态节点收集到对应block的dynamicChildren中 NEED_PATCH = 1 &lt;&lt; 9, // 插槽相关 DYNAMIC_SLOTS = 1 &lt;&lt; 10, // 静态节点，由于被提升到render函数体最顶部，因此节点一旦声明就会维持在内存里 // re-render时就不需要再重复创建节点了，同时diff时会跳过静态节点，因为内容不发生任何变化 HOISTED = -1, // 特殊处理，具体作用可看源码注释 BAIL = -2&#125;","categories":[{"name":"vue","slug":"vue","permalink":"http://wang-z.gitee.io/categories/vue/"}],"tags":[{"name":"vue","slug":"vue","permalink":"http://wang-z.gitee.io/tags/vue/"},{"name":"javascript","slug":"javascript","permalink":"http://wang-z.gitee.io/tags/javascript/"}],"author":{"name":"Mr.wang","avatar":"https://wang-z.gitee.io/img/author.jpg"}},{"title":"vue3学习笔记","slug":"vue-vue3学习笔记","date":"2020-09-20T07:15:15.000Z","updated":"2023-03-03T03:22:51.937Z","comments":true,"path":"2020/09/20/vue-vue3学习笔记/","link":"","permalink":"http://wang-z.gitee.io/2020/09/20/vue-vue3%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/","excerpt":"vue3.0来了，他改变了什么？","text":"vue3.0来了，他改变了什么？ vue3.0正式版发布(2020-09-18)修改了什么？ v-is 函数像一个动态的 2.x :is 绑定——因此，要按注册名称渲染组件，其值应为 JavaScript 字符串文本： 来自组件的 data() 及其 mixin 或 extends 基类被合并时，现在将浅层次执行合并：(浅拷贝对象) Attributes(2.x 和 3.x 行为的比较) Attributes v-bind value 2.x v-bind value 3.x HTML 输出 2.x “枚举attribute” i.e. contenteditable, draggable and spellcheck. undefined, false undefined, null removed true, &#39;true&#39;, &#39;&#39;, 1, &#39;foo&#39; true, &#39;true&#39; &quot;true&quot; null, &#39;false&#39; false, &#39;false&#39; &quot;false&quot; 其他非布尔attribute eg. aria-checked, tabindex, alt, etc. undefined, null, false undefined, null removed &#39;false&#39; false, &#39;false&#39; &quot;false&quot; 模板上的组件将支持多根组件(片段) 由于2.X在template只能有一个根节点（Dom元素），在3.X将会支持多个组件 12345678910111213&lt;template&gt; &lt;div&gt; &lt;header&gt;...&lt;&#x2F;header&gt; &lt;main&gt;...&lt;&#x2F;main&gt; &lt;footer&gt;...&lt;&#x2F;footer&gt; &lt;&#x2F;div&gt;&lt;&#x2F;template&gt;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&lt;template&gt; &lt;header&gt;...&lt;&#x2F;header&gt; &lt;main v-bind&#x3D;&quot;$attrs&quot;&gt;...&lt;&#x2F;main&gt; &lt;footer&gt;...&lt;&#x2F;footer&gt;&lt;&#x2F;template&gt; 12将不会再有filters包括(全局/局部) 可使用计算属性或者方法代替 &#123;&#123; 数据 |filter方法 &#125;&#125;=&gt;&#123;&#123; 计算方法 &#125;&#125; 非兼容变更：functional attribute 在单文件组件 (SFC) ` 已被移除 非兼容变更：&#123; functional: true &#125; 选项在通过函数创建组件已被移除 template设置key 123456789&lt;template v-for&#x3D;&quot;item in list&quot;&gt; &lt;div :key&#x3D;&quot;item.id&quot;&gt;...&lt;&#x2F;div&gt; &lt;span :key&#x3D;&quot;item.id&quot;&gt;...&lt;&#x2F;span&gt;&lt;&#x2F;template&gt;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&lt;template v-for&#x3D;&quot;item in list&quot; :key&#x3D;&quot;item.id&quot;&gt; &lt;div&gt;...&lt;&#x2F;div&gt; &lt;span&gt;...&lt;&#x2F;span&gt;&lt;&#x2F;template&gt; 不再支持使用数字 (即键码) 作为 v-on 修饰符 kebab-cased (短横线) 命名 123456&lt;!-- 键码版本 --&gt;&lt;input v-on:keyup.13&#x3D;&quot;submit&quot; &#x2F;&gt;&lt;!-- 别名版本 --&gt;&lt;input v-on:keyup.enter&#x3D;&quot;submit&quot; &#x2F;&gt;&lt;!-- Vue 3 在 v-on 上使用 按键修饰符 --&gt;&lt;input v-on:keyup.delete&#x3D;&quot;confirmDelete&quot; &#x2F;&gt; 过渡类名 v-enter 修改为 v-enter-from、过渡类名 v-leave 修改为 v-leave-from(过渡动画) 由于v-model 和 value 之间的这种硬编码关系的原因，产生了如何处理原生元素和自定义元素的问题。 Vue 3 中，双向数据绑定的 API 已经标准化，减少了开发者在使用 v-model 指令时的混淆并且在使用 v-model 指令时可以更加灵活。 1234//在 2.x 中，在组件上使用 v-model 相当于绑定 value prop 和 input 事件：//v-model既v-bind和v-on两者结合的语法糖&lt;ChildComponent v-model=&quot;pageTitle&quot; /&gt;&lt;ChildComponent :value=&quot;pageTitle&quot; @input=&quot;pageTitle = $event&quot; /&gt; 在 3.x 中，自定义组件上的 v-model 相当于传递了 modelValue prop 并接收抛出的 update:modelValue 事件： 1234567//此项为默认绑定的值modelValue，注意子组件定义时不要写错&lt;ChildComponent v-model=&quot;pageTitle&quot; /&gt;&lt;!-- 简写: --&gt;&lt;ChildComponent :modelValue=&quot;pageTitle&quot; @update:modelValue=&quot;pageTitle = $event&quot;/&gt; v-model参数可自定义 123&lt;ChildComponent v-model:title=&quot;pageTitle&quot; /&gt;&lt;!-- 简写: --&gt;&lt;ChildComponent :title=&quot;pageTitle&quot; @update:title=&quot;pageTitle = $event&quot; /&gt; 多个v-model 12345678&lt;ChildComponent v-model:title=&quot;pageTitle&quot; v-model:content=&quot;pageContent&quot; /&gt;&lt;!-- 简写： --&gt;&lt;ChildComponent :title=&quot;pageTitle&quot; @update:title=&quot;pageTitle = $event&quot; :content=&quot;pageContent&quot; @update:content=&quot;pageContent = $event&quot;/&gt; 两者作用于同一个元素上时，v-if 会拥有比 v-for 更高的优先级 v-bind 的绑定顺序会影响渲染结果 1234&lt;!-- template --&gt;&lt;div id=&quot;red&quot; v-bind=&quot;&#123; id: &#x27;blue&#x27; &#125;&quot;&gt;&lt;/div&gt;&lt;!-- result --&gt;&lt;div id=&quot;red&quot;&gt;&lt;/div&gt; 自定义指令 API重命名 bind → beforeMount inserted → mounted beforeUpdate:新的！这是在元素本身更新之前调用的，很像组件生命周期钩子 update → 移除！有太多的相似之处要更新，所以这是多余的，请改用 updated componentUpdated → updated **beforeUnmount ** 新的！与组件生命周期钩子类似，它将在卸载元素之前调用。 unbind -&gt; unmounted vue3.0中的不同12345678910111213141516const num = ref(0);//普通类型的定义const data = reactive(&#123;id:1&#125;);//复杂类型的定义ref(18) = reactive(&#123;value:18&#125;)/* *reactive内的参数必须为对象 *ref于reactive都使用递归监听，每当深度调用时，可以监听到数据的变化 *利用开放的api可以只操作引用地址的数据，而不触发watcher，即Dom更新 *toRaw *shalloeRef(非递归监听)，可以改变监听的变量的value键触发 *主动触发Dom更新triggerRef *ref-&gt;复制 修改响应数据不会影响旧的数据，相反toRef是引用 *ref数据与界面一起改变 toRef不会 *markRaw可指定某个对象不被追踪(监听) *toRefs可以指定对象的多个键生成Ref对象(键名一致) *customRef-&gt;参数(track,trigger)=(追踪，触发更新)*/ setup()是同步执行的，不可以使用异步","categories":[{"name":"vue","slug":"vue","permalink":"http://wang-z.gitee.io/categories/vue/"}],"tags":[{"name":"vue","slug":"vue","permalink":"http://wang-z.gitee.io/tags/vue/"},{"name":"javascript","slug":"javascript","permalink":"http://wang-z.gitee.io/tags/javascript/"}],"author":{"name":"Mr.wang","avatar":"https://wang-z.gitee.io/img/author.jpg"}},{"title":"vue自定义指令","slug":"vue-自定义指令","date":"2020-09-17T03:00:14.000Z","updated":"2022-08-01T07:39:07.706Z","comments":true,"path":"2020/09/17/vue-自定义指令/","link":"","permalink":"http://wang-z.gitee.io/2020/09/17/vue-%E8%87%AA%E5%AE%9A%E4%B9%89%E6%8C%87%E4%BB%A4/","excerpt":"好用的 vue 自定义指令，封装对于 Dom 操作的指令（相当于 v-model 语法糖）","text":"好用的 vue 自定义指令，封装对于 Dom 操作的指令（相当于 v-model 语法糖） vue 自定义指令自定义指令的钩子函数（1）bind:指令第一次绑定要元素时调用，这个自定义指令只能用一次（日抛型） （2）unbind：指令与元素解绑时，只使用一次 （3）inserted:被绑定的元素，插入到父节点的dom上的时候调用 （4）update:组件更新时调用 （5）componentUpdated：组件和子组件更新时调用。 注意点: （1）el指的是绑定这个指令的DOM元素，el的参数是js对象 （2）除了el,其他的都是可读的 （3）除了update和componentUpdated之外，其他的钩子函数都有el,binding,vnode这三个参数 （4）binding里有很多属性：name,value,oldValue,expression、arg、modifiers （5）oldVnode只在update和componentUpdated这两个钩子函数中生效（Vnode是虚拟节点的意思） 如何使用？ 全局注册 12345678// 注册一个全局自定义指令 `v-focus`Vue.directive(&quot;focus&quot;, &#123; // 当被绑定的元素插入到 DOM 中时…… inserted: function (el) &#123; // 聚焦元素 el.focus(); &#125;,&#125;); 局部组件注册 12345678directives: &#123; focus: &#123; // 指令的定义 inserted: function (el) &#123; el.focus() &#125; &#125;&#125; 在标签中使用 1&lt;input v-focus&gt; vue-cli 批量注册全局指令 新建directives/index.js 123456789101112131415const modulesFiles = require.context(&quot;./modules&quot;, true, /\\.js$/); //匹配此文件夹内的js文件const directives = modulesFiles.keys().reduce((modules, modulePath) =&gt; &#123; const moduleName = modulePath.replace(/^\\.\\/(.*)\\.\\w+$/, &quot;$1&quot;); const value = modulesFiles(modulePath); modules[moduleName] = value.default; return modules;&#125;, &#123;&#125;);export default &#123; install(Vue) &#123; Object.keys(directives).forEach((key) =&gt; &#123; Vue.directive(key, directives[key]); &#125;); &#125;,&#125;; 在 main.js 引入并调用 123import Vue from &quot;vue&quot;;import Directives from &quot;@/directives&quot;;Vue.use(Directives); limit 限制数字和浮点数12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849const trigger = (el, type) =&gt; &#123; const e = document.createEvent(&quot;HTMLEvents&quot;); e.initEvent(type, true, true); el.dispatchEvent(e);&#125;;export default &#123; bind: function (el, binding, vNode) &#123; let &#123; arg = &quot;&quot;, value: decimal = &quot;2&quot;, modifiers: &#123; int, float, minus &#125;, &#125; = binding; const handler = (e) =&gt; &#123; let result = el.value; let symbol = &quot;&quot;; if (minus &amp;&amp; result.charAt(0) == &quot;-&quot;) &#123; result = el.value.slice(1); symbol = &quot;-&quot;; &#125; else &#123; symbol = &quot;&quot;; &#125; if (float) &#123; result = result.match( new RegExp(&quot;^\\\\d*(\\\\.?\\\\d&#123;0,&quot; + decimal + &quot;&#125;)&quot;, &quot;g&quot;) )[0]; if ( (result.length &gt; 1 &amp;&amp; result.charAt(0) == 0 &amp;&amp; result.charAt(1) != &quot;.&quot;) || result.charAt(0) == &quot;.&quot; ) &#123; result = result.slice(1); &#125; trigger(el, &quot;input&quot;); &#125; else if (int | true) &#123; result = result.replace(/[^\\d]/g, &quot;&quot;); result = result != &quot;0&quot; ? result.replace(/^0*/g, &quot;&quot;) : 0; trigger(el, &quot;input&quot;); &#125; el.value = symbol + result; &#125;; el.addEventListener(&quot;keyup&quot;, handler); el.addEventListener(&quot;blur&quot;, handler); &#125;, unbind(el) &#123; el.removeEventListener(&quot;keyup&quot;, el.handler); el.removeEventListener(&quot;blur&quot;, el.handler); &#125;,&#125;; 使用 v-limit 后可带多个 modifiers 123456789&lt;input type&#x3D;&quot;text&quot; v-limit &#x2F;&gt;&#x2F;&#x2F;默认大于0的正整数&lt;input type&#x3D;&quot;text&quot; v-limit.int &#x2F;&gt;&#x2F;&#x2F;默认大于0的正整数&lt;input type&#x3D;&quot;text&quot; v-limit.minus &#x2F;&gt;&#x2F;&#x2F;整数(带负号-)&lt;input type&#x3D;&quot;text&quot; v-limit.minus.int &#x2F;&gt;&#x2F;&#x2F;整数(带负号-)&lt;input type&#x3D;&quot;text&quot; v-limit.float &#x2F;&gt;&#x2F;&#x2F;0以上浮点数,默认小数点为2位&lt;input type&#x3D;&quot;text&quot; v-limit.float&#x3D;&quot;3&quot; &#x2F;&gt;&#x2F;&#x2F;0以上浮点数,小数点为3位&lt;input type&#x3D;&quot;text&quot; v-limit.minus.float &#x2F;&gt;&#x2F;&#x2F;浮点数(可带负号-),默认小数点为2位&lt;input type&#x3D;&quot;text&quot; v-limit.minus.float&#x3D;&quot;4&quot; &#x2F;&gt;&#x2F;&#x2F;浮点数(可带负号-),小数点为4位 color1234567891011121314151617181920212223242526272829303132333435363738export default &#123; inserted: function (el, binding) &#123; const interval = binding.arg ? binding.arg : 1000; if (Array.isArray(binding.value)) &#123; let i = 0; el.style.color = binding.value[i]; el.dataset.time = setInterval(() =&gt; &#123; if (i &gt; binding.value.length - 1) &#123; i = 0; &#125; el.style.color = binding.value[i]; i++; &#125;, interval); &#125; else &#123; el.style.color = binding.value; &#125; &#125;, componentUpdated: function (el, binding) &#123; clearInterval(el.dataset.time); const interval = binding.arg ? binding.arg : 1000; if (Array.isArray(binding.value)) &#123; let i = 0; el.style.color = binding.value[i]; el.dataset.time = setInterval(() =&gt; &#123; if (i &gt; binding.value.length - 1) &#123; i = 0; &#125; el.style.color = binding.value[i]; i++; &#125;, interval); &#125; else &#123; el.style.color = binding.value; &#125; &#125;, unbind: function (el, binding) &#123; clearInterval(el.dataset.time); &#125;,&#125;; Sticky 吸顶1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586const vueSticky = &#123;&#125;;let listenAction;export default &#123; inserted(el, binding) &#123; const params = binding.value || &#123;&#125;; const stickyTop = params.stickyTop || 0; const zIndex = params.zIndex || 1000; const elStyle = el.style; elStyle.position = &quot;-webkit-sticky&quot;; elStyle.position = &quot;sticky&quot;; // if the browser support css sticky（Currently Safari, Firefox and Chrome Canary） // if (~elStyle.position.indexOf(&#x27;sticky&#x27;)) &#123; // elStyle.top = `$&#123;stickyTop&#125;px`; // elStyle.zIndex = zIndex; // return // &#125; const elHeight = el.getBoundingClientRect().height; const elWidth = el.getBoundingClientRect().width; elStyle.cssText = `top: $&#123;stickyTop&#125;px; z-index: $&#123;zIndex&#125;`; const parentElm = el.parentNode || document.documentElement; const placeholder = document.createElement(&quot;div&quot;); placeholder.style.display = &quot;none&quot;; placeholder.style.width = `$&#123;elWidth&#125;px`; placeholder.style.height = `$&#123;elHeight&#125;px`; parentElm.insertBefore(placeholder, el); let active = false; const getScroll = (target, top) =&gt; &#123; const prop = top ? &quot;pageYOffset&quot; : &quot;pageXOffset&quot;; const method = top ? &quot;scrollTop&quot; : &quot;scrollLeft&quot;; let ret = target[prop]; if (typeof ret !== &quot;number&quot;) &#123; ret = window.document.documentElement[method]; &#125; return ret; &#125;; const sticky = () =&gt; &#123; if (active) &#123; return; &#125; if (!elStyle.height) &#123; elStyle.height = `$&#123;el.offsetHeight&#125;px`; &#125; elStyle.position = &quot;fixed&quot;; elStyle.width = `$&#123;elWidth&#125;px`; placeholder.style.display = &quot;inline-block&quot;; active = true; &#125;; const reset = () =&gt; &#123; if (!active) &#123; return; &#125; elStyle.position = &quot;&quot;; placeholder.style.display = &quot;none&quot;; active = false; &#125;; const check = () =&gt; &#123; const scrollTop = getScroll(window, true); const offsetTop = el.getBoundingClientRect().top; if (offsetTop &lt; stickyTop) &#123; sticky(); &#125; else &#123; if (scrollTop &lt; elHeight + stickyTop) &#123; reset(); &#125; &#125; &#125;; listenAction = () =&gt; &#123; check(); &#125;; window.addEventListener(&quot;scroll&quot;, listenAction); &#125;, unbind() &#123; window.removeEventListener(&quot;scroll&quot;, listenAction); &#125;,&#125;; 使用 1&lt;div v-Sticky&gt;我在顶部&lt;&#x2F;div&gt; copy 复制123456789101112131415161718192021222324252627282930313233343536373839export default &#123; bind(el, &#123; value &#125;) &#123; el.$value = value; el.handler = () =&gt; &#123; if (!el.$value) &#123; // 值为空的时候，给出提示。可根据项目UI仔细设计 console.log(&quot;无复制内容&quot;); return; &#125; // 动态创建 textarea 标签 const textarea = document.createElement(&quot;textarea&quot;); // 将该 textarea 设为 readonly 防止 iOS 下自动唤起键盘，同时将 textarea 移出可视区域 textarea.readOnly = &quot;readonly&quot;; textarea.style.position = &quot;absolute&quot;; textarea.style.left = &quot;-9999px&quot;; // 将要 copy 的值赋给 textarea 标签的 value 属性 textarea.value = el.$value; // 将 textarea 插入到 body 中 document.body.appendChild(textarea); // 选中值并复制 textarea.select(); const result = document.execCommand(&quot;Copy&quot;); if (result) &#123; console.log(&quot;复制成功&quot;); // 可根据项目UI仔细设计 &#125; document.body.removeChild(textarea); &#125;; // 绑定点击事件，就是所谓的一键 copy 啦 el.addEventListener(&quot;click&quot;, el.handler); &#125;, // 当传进来的值更新的时候触发 componentUpdated(el, &#123; value &#125;) &#123; el.$value = value; &#125;, // 指令与元素解绑的时候，移除事件绑定 unbind(el) &#123; el.removeEventListener(&quot;click&quot;, el.handler); &#125;,&#125;; 使用 12345678910111213&lt;template&gt; &lt;button v-copy&#x3D;&quot;copyText&quot;&gt;复制&lt;&#x2F;button&gt;&lt;&#x2F;template&gt;&lt;script&gt;export default &#123; data() &#123; return &#123; copyText: &quot;a copy directives&quot;, &#125;; &#125;,&#125;;&lt;&#x2F;script&gt; longpress 长按事件123456789101112131415161718192021222324252627282930313233343536373839404142434445464748export default &#123; bind: function (el, binding, vNode) &#123; let &#123; arg: delay = 2000 &#125; = binding; if (typeof binding.value !== &quot;function&quot;) &#123; throw &quot;callback must be a function&quot;; &#125; // 定义变量 let pressTimer = null; // 创建计时器（ 2秒后执行函数 ） let start = (e) =&gt; &#123; if (e.type === &quot;click&quot; &amp;&amp; e.button !== 0) &#123; return; &#125; if (pressTimer === null) &#123; pressTimer = setTimeout(() =&gt; &#123; handler(); &#125;, delay); &#125; &#125;; // 取消计时器 let cancel = (e) =&gt; &#123; if (pressTimer !== null) &#123; clearTimeout(pressTimer); pressTimer = null; &#125; &#125;; // 运行函数 const handler = (e) =&gt; &#123; binding.value(e); &#125;; // 添加事件监听器 el.addEventListener(&quot;mousedown&quot;, start); el.addEventListener(&quot;touchstart&quot;, start); // 取消计时器 el.addEventListener(&quot;click&quot;, cancel); el.addEventListener(&quot;mouseout&quot;, cancel); el.addEventListener(&quot;touchend&quot;, cancel); el.addEventListener(&quot;touchcancel&quot;, cancel); &#125;, // 当传进来的值更新的时候触发 componentUpdated(el, &#123; value &#125;) &#123; el.$value = value; &#125;, // 指令与元素解绑的时候，移除事件绑定 unbind(el) &#123; el.removeEventListener(&quot;click&quot;, el.handler); &#125;,&#125;; 使用 1234567891011121314&lt;template&gt; &lt;button v-longpress&#x3D;&quot;longpress&quot;&gt;长按&lt;&#x2F;button&gt;&#x2F;&#x2F;默认两秒 &lt;button v-longpress:4000&#x3D;&quot;longpress&quot;&gt;长按&lt;&#x2F;button&gt;&#x2F;&#x2F;可设置4000毫秒&lt;&#x2F;template&gt;&lt;script&gt;export default &#123; methods: &#123; longpress() &#123; alert(&quot;长按指令生效&quot;); &#125;, &#125;,&#125;;&lt;&#x2F;script&gt; debounce 按钮防抖123456789101112131415161718export default &#123; bind: function (el, binding) &#123; let &#123; arg: delay = 1000 &#125; = binding; let timer; const handler = () =&gt; &#123; if (timer) &#123; clearTimeout(timer); &#125; timer = setTimeout(() =&gt; &#123; binding.value(); &#125;, delay); &#125;; el.addEventListener(&quot;click&quot;, handler); &#125;, unbind(el) &#123; el.removeEventListener(&quot;click&quot;, el.handler); &#125;,&#125;; 使用 1234567891011121314&lt;template&gt; &lt;button v-debounce&#x3D;&quot;debounceClick&quot;&gt;防抖&lt;&#x2F;button&gt;&#x2F;&#x2F;默认1000毫秒内只执行一次 &lt;button v-debounce:400&#x3D;&quot;debounce&quot;&gt;防抖&lt;&#x2F;button&gt;&#x2F;&#x2F;400毫秒内只执行一次&lt;&#x2F;template&gt;&lt;script&gt;export default &#123; methods: &#123; debounceClick() &#123; console.log(&quot;只触发一次&quot;); &#125;, &#125;,&#125;;&lt;&#x2F;script&gt; LazyLoad 图片懒加载12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970//图片默认srclet defaultSrc = &quot;&quot;;// 加载真实图片const load = (el) =&gt; &#123; let windowHeight = document.documentElement.clientHeight; let elTop = el.getBoundingClientRect().top; let elBtm = el.getBoundingClientRect().bottom; let realSrc = el.dataset.src; if (elTop - windowHeight &lt; 0 &amp;&amp; elBtm &gt; 0) &#123; if (realSrc) &#123; el.src = realSrc; el.removeAttribute(&quot;data-src&quot;); &#125; &#125;&#125;;// 节流const throttle = (fn, delay) =&gt; &#123; let timer; let prevTime; return function (...args) &#123; let currTime = Date.now(); let context = this; if (!prevTime) prevTime = currTime; clearTimeout(timer); if (currTime - prevTime &gt; delay) &#123; prevTime = currTime; fn.apply(context, args); clearTimeout(timer); return; &#125; timer = setTimeout(function () &#123; prevTime = Date.now(); timer = null; fn.apply(context, args); &#125;, delay); &#125;;&#125;;export default &#123; bind(el, binding) &#123; // data-src 储存真实src el.setAttribute(&quot;data-src&quot;, binding.value); // 设置src为loading图 el.setAttribute(&quot;src&quot;, defaultSrc); &#125;, inserted(el) &#123; // 兼容处理 if (IntersectionObserver) &#123; // 利用IntersectionObserver监听el var io = new IntersectionObserver((entries) =&gt; &#123; let realSrc = el.dataset.src; if (entries[0].isIntersecting) &#123; if (realSrc) &#123; el.src = realSrc; el.removeAttribute(&quot;data-src&quot;); &#125; &#125; &#125;); io.observe(el); &#125; else &#123; // 监听scroll事件 let handler = throttle(load, 1000); load(el); window.addEventListener(&quot;scroll&quot;, () =&gt; &#123; handler(el); &#125;); &#125; &#125;,&#125;; 使用 1&lt;img v-lazyLoad=&quot;&#x27;https://wang-z.gitee.io/img/author.jpg&#x27;&quot; /&gt; draggable 拖拽指令123456789101112131415161718192021222324252627282930313233343536export default &#123; inserted: function (el) &#123; el.style.cursor = &quot;move&quot;; el.onmousedown = function (e) &#123; let disx = e.pageX - el.offsetLeft; let disy = e.pageY - el.offsetTop; document.onmousemove = function (e) &#123; let x = e.pageX - disx; let y = e.pageY - disy; let maxX = document.body.clientWidth - parseInt(window.getComputedStyle(el).width); let maxY = document.body.clientHeight - parseInt(window.getComputedStyle(el).height); if (x &lt; 0) &#123; x = 0; &#125; else if (x &gt; maxX) &#123; x = maxX; &#125; if (y &lt; 0) &#123; y = 0; &#125; else if (y &gt; maxY) &#123; y = maxY; &#125; el.style.left = x + &quot;px&quot;; el.style.top = y + &quot;px&quot;; &#125;; document.onmouseup = function () &#123; document.onmousemove = document.onmouseup = null; &#125;; &#125;; &#125;,&#125;; 使用 需要设置需要拖拽的元素为相对定位，其父元素为绝对定位 123&lt;template&gt; &lt;div class&#x3D;&quot;el-dialog&quot; v-draggable&gt;&lt;&#x2F;div&gt;&lt;&#x2F;template&gt; waterMarker添加背景水印12345678910111213141516171819202122232425function addWaterMarker(str, parentNode, font, textColor) &#123; // 水印文字，父元素，字体，文字颜色 var can = document.createElement(&#x27;canvas&#x27;) parentNode.appendChild(can) can.width = 200 can.height = 150 can.style.display = &#x27;none&#x27; var cans = can.getContext(&#x27;2d&#x27;) cans.rotate((-20 * Math.PI) / 180) cans.font = font || &#x27;16px Microsoft JhengHei&#x27; cans.fillStyle = textColor || &#x27;rgba(180, 180, 180, 0.3)&#x27; cans.textAlign = &#x27;left&#x27; cans.textBaseline = &#x27;Middle&#x27; cans.fillText(str, can.width / 10, can.height / 2) parentNode.style.backgroundImage = &#x27;url(&#x27; + can.toDataURL(&#x27;image/png&#x27;) + &#x27;)&#x27;&#125; const waterMarker = &#123; bind: function (el, binding) &#123; addWaterMarker(binding.value.text, el, binding.value.font, binding.value.textColor) &#125;,&#125; export default waterMarker 使用设置水印文案，颜色，字体大小即可 1234&lt;template&gt; &lt;div v-waterMarker=&quot;&#123;text:&#x27;版权所有&#x27;,textColor:&#x27;rgba(180, 180, 180, 0.4)&#x27;&#125;&quot;&gt;&lt;/div&gt;&lt;/template&gt;","categories":[{"name":"vue","slug":"vue","permalink":"http://wang-z.gitee.io/categories/vue/"}],"tags":[{"name":"vue","slug":"vue","permalink":"http://wang-z.gitee.io/tags/vue/"},{"name":"javascript","slug":"javascript","permalink":"http://wang-z.gitee.io/tags/javascript/"}],"author":{"name":"Mr.wang","avatar":"https://wang-z.gitee.io/img/author.jpg"}},{"title":"reg-常用正则","slug":"reg-常用正则","date":"2020-09-16T10:00:52.000Z","updated":"2022-08-01T07:39:07.682Z","comments":true,"path":"2020/09/16/reg-常用正则/","link":"","permalink":"http://wang-z.gitee.io/2020/09/16/reg-%E5%B8%B8%E7%94%A8%E6%AD%A3%E5%88%99/","excerpt":"记录常用正则","text":"记录常用正则 常用正则1/^\\d*(\\.?\\d&#123;0,1&#125;)/g; //匹配小数点为一位 是否为外部链接123export function isExternal(path) &#123; return /^(https?:|mailto:|tel:)/.test(path);&#125; 不能为空且不包含(/)1/^\\S((?!\\/).)*$/","categories":[{"name":"Regexp","slug":"Regexp","permalink":"http://wang-z.gitee.io/categories/Regexp/"}],"tags":[{"name":"javascript","slug":"javascript","permalink":"http://wang-z.gitee.io/tags/javascript/"}],"author":{"name":"Mr.wang","avatar":"https://wang-z.gitee.io/img/author.jpg"}},{"title":"js学习笔记","slug":"js-学习笔记","date":"2020-09-03T06:40:52.000Z","updated":"2023-02-27T02:46:53.476Z","comments":true,"path":"2020/09/03/js-学习笔记/","link":"","permalink":"http://wang-z.gitee.io/2020/09/03/js-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/","excerpt":"复杂函数的学习，generator，斐波那契数列，Observer（订阅模式）","text":"复杂函数的学习，generator，斐波那契数列，Observer（订阅模式） 简单递归求n! 即，1×2×3×4×5×······×n1function n(i)&#123;return i&lt;2?1:i*n(i-1);&#125; 求1+2+···+n1function p(i)&#123;return i&lt;2?1:i+p(i-1);&#125; 求和1234function sum(n) &#123; if (n == 1) return 1 return sum(n - 1) + n&#125; 深拷贝1234567891011function clone(o) &#123; var temp = &#123;&#125; for (var key in o) &#123; if (typeof o[key] == &#x27;object&#x27;) &#123; temp[key] = clone(o[key]) &#125; else &#123; temp[key] = o[key] &#125; &#125; return temp&#125; 求n个整数的平均值123456function getEverage(n)&#123; if(n==1)&#123; return 1; &#125; return (getEverage(n-1)*(n-1)+n)/n&#125; generator利用for...of循环，可以写出遍历任意对象（object）的方法。原生的 JavaScript 对象没有遍历接口，无法使用for...of循环，通过 Generator 函数为它加上这个接口，就可以用了。 123456789101112131415function* objectEntries(obj) &#123; let propKeys = Reflect.ownKeys(obj); for (let propKey of propKeys) &#123; yield [propKey, obj[propKey]]; &#125;&#125;let jane = &#123; first: &#x27;Jane&#x27;, last: &#x27;Doe&#x27; &#125;;for (let [key, value] of objectEntries(jane)) &#123; console.log(`$&#123;key&#125;: $&#123;value&#125;`);&#125;// first: Jane// last: Doe 将 Generator 函数加到对象的Symbol.iterator属性上面。 1234567891011121314151617function* objectEntries() &#123; let propKeys = Object.keys(this); for (let propKey of propKeys) &#123; yield [propKey, this[propKey]]; &#125;&#125;let jane = &#123; first: &#x27;Jane&#x27;, last: &#x27;Doe&#x27; &#125;;jane[Symbol.iterator] = objectEntries;for (let [key, value] of jane) &#123; console.log(`$&#123;key&#125;: $&#123;value&#125;`);&#125;// first: Jane// last: Doe 斐波那契数列123456789101112function* fibonacci() &#123; let [prev, curr] = [0, 1]; for (;;) &#123; yield curr; [prev, curr] = [curr, prev + curr]; &#125;&#125;for (let n of fibonacci()) &#123; if (n &gt; 1000) break; console.log(n);&#125; Observer（订阅-发布者）123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119&quot;use strict&quot;;var publisher = &#123; //订阅者数组上每个事件（type）有着序列化的订阅事件 subscribers: &#123; any: [] // event type: subscribers &#125;, //签订订阅服务-订阅那个类型的报纸，报纸出版自动触发订阅者的fn subscribe: function (fn, type) &#123; type = type || &#x27;any&#x27;; if (typeof this.subscribers[type] === &quot;undefined&quot;) &#123; this.subscribers[type] = []; &#125; this.subscribers[type].push(fn); // console.log(&quot;subscribe&quot;, this.subscribers); &#125;, unsubscribe: function (fn, type) &#123; this.visitSubscribers(&#x27;unsubscribe&#x27;, fn, type); &#125;, //发布报纸 publish: function (publication, type) &#123; this.visitSubscribers(&#x27;publish&#x27;, publication, type); &#125;, visitSubscribers: function (action, arg, type) &#123; //判断是哪个事件类型（pubtype） //subscribers是哪个订阅者数组subscribers（对象）—&gt;[pubtype]订阅者 //事件类型的所有事件length（max） var pubtype = type || &#x27;any&#x27;, subscribers = this.subscribers[pubtype], i, max = subscribers.length; for (i = 0; i &lt; max; i += 1) &#123; if (action === &#x27;publish&#x27;) &#123; //事件调用 subscribers[i](arg); &#125; else &#123; if (subscribers[i] === arg) &#123; //删除事件 subscribers.splice(i, 1); &#125; &#125; &#125; &#125;&#125;;/*var s1 = &#123;log: console.log&#125;, s2 = &#123;err: console.error&#125;, s3 = &#123;warn: console.warn&#125;;publisher.subscribe(s1.log);publisher.subscribe(s2.err);publisher.subscribe(s3.warn);publisher.publish(&#123;hello: &quot;World&quot;&#125;);publisher.unsubscribe(s2.err);publisher.publish(&quot;hello&quot;);publisher.subscribe(s1.log, &quot;log&quot;);publisher.publish(&#123;obj: &quot;log this object&quot;&#125;, &quot;log&quot;);*///浅拷贝一个发布者 继承publisher所有事件且subscribers定义为&#123;any: []&#125;//function makePublisher(o) &#123; var i; for (i in publisher) &#123; if (publisher.hasOwnProperty(i) &amp;&amp; typeof publisher[i] === &quot;function&quot;) &#123; o[i] = publisher[i]; &#125; &#125; o.subscribers = &#123;any: []&#125;;&#125;var paper = &#123; daily: function () &#123; this.publish(&quot;big news today&quot;); &#125;, monthly: function () &#123; this.publish(&quot;interesting analysis&quot;, &quot;monthly&quot;); &#125;&#125;;makePublisher(paper);//订阅者var joe = &#123; drinkCoffee: function (paper) &#123; console.log(&#x27;Just read &#x27; + paper); &#125;, sundayPreNap: function (monthly) &#123; console.log(&#x27;About to fall asleep reading this &#x27; + monthly); &#125;&#125;;//订阅日报和月报paper.subscribe(joe.drinkCoffee);paper.subscribe(joe.sundayPreNap, &#x27;monthly&#x27;);//paper出版报纸-&gt;将通知订阅者paper.daily();paper.daily();paper.daily();paper.monthly();//每个订阅者可自行发布makePublisher(joe);//一个发布的publish函数joe.tweet = function (msg) &#123; this.publish(msg);&#125;;//报纸读取这个推特paper.readTweets = function (tweet) &#123; console.log(&#x27;Call big meeting! Someone &#x27; + tweet);&#125;;joe.subscribe(paper.readTweets);joe.tweet(&quot;hated the paper today&quot;); 按键游戏123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134var publisher = &#123; subscribers: &#123; any: [] &#125;, on: function (type, fn, context) &#123; type = type || &#x27;any&#x27;; fn = typeof fn === &quot;function&quot; ? fn : context[fn]; if (typeof this.subscribers[type] === &quot;undefined&quot;) &#123; this.subscribers[type] = []; &#125; this.subscribers[type].push(&#123;fn: fn, context: context || this&#125;); &#125;, remove: function (type, fn, context) &#123; this.visitSubscribers(&#x27;unsubscribe&#x27;, type, fn, context); &#125;, fire: function (type, publication) &#123; this.visitSubscribers(&#x27;publish&#x27;, type, publication); &#125;, visitSubscribers: function (action, type, arg, context) &#123; var pubtype = type || &#x27;any&#x27;, subscribers = this.subscribers[pubtype], i, max = subscribers ? subscribers.length : 0; for (i = 0; i &lt; max; i += 1) &#123; if (action === &#x27;publish&#x27;) &#123; subscribers[i].fn.call(subscribers[i].context, arg); &#125; else &#123; if (subscribers[i].fn === arg &amp;&amp; subscribers[i].context === context) &#123; subscribers.splice(i, 1); &#125; &#125; &#125; &#125;&#125;;function makePublisher(o) &#123; var i; for (i in publisher) &#123; if (publisher.hasOwnProperty(i) &amp;&amp; typeof publisher[i] === &quot;function&quot;) &#123; o[i] = publisher[i]; &#125; &#125; o.subscribers = &#123;any: []&#125;;&#125;var game = &#123; keys: &#123;&#125;, addPlayer: function (player) &#123; var key = player.key.toString().charCodeAt(0); this.keys[key] = player; &#125;, handleKeypress: function (e) &#123; e = e || window.event; // IE if (game.keys[e.which]) &#123; game.keys[e.which].play(); &#125; &#125;, handlePlay: function (player) &#123; var i, players = this.keys, score = &#123;&#125;; for (i in players) &#123; if (players.hasOwnProperty(i)) &#123; score[players[i].name] = players[i].points; &#125; &#125; this.fire(&#x27;scorechange&#x27;, score); &#125;&#125;;function Player(name, key) &#123; this.points = 0; this.name = name; this.key = key; this.fire(&#x27;newplayer&#x27;, this);&#125;Player.prototype.play = function () &#123; this.points += 1; this.fire(&#x27;play&#x27;, this);&#125;;var scoreboard = &#123; element: document.getElementById(&#x27;results&#x27;), update: function (score) &#123; var i, msg = &#x27;&#x27;; for (i in score) &#123; if (score.hasOwnProperty(i)) &#123; msg += &#x27;&lt;p&gt;&lt;strong&gt;&#x27; + i + &#x27;&lt;\\/strong&gt;: &#x27;; msg += score[i]; msg += &#x27;&lt;\\/p&gt;&#x27;; &#125; &#125; this.element.innerHTML = msg; &#125;&#125;;makePublisher(Player.prototype);makePublisher(game);Player.prototype.on(&quot;newplayer&quot;, &quot;addPlayer&quot;, game);Player.prototype.on(&quot;play&quot;, &quot;handlePlay&quot;, game);game.on(&quot;scorechange&quot;, scoreboard.update, scoreboard);window.onkeypress = game.handleKeypress;var playername, key;while (1) &#123; playername = prompt(&quot;Add player (name)&quot;); if (!playername) &#123; break; &#125; while (1) &#123; key = prompt(&quot;Key for &quot; + playername + &quot;?&quot;); if (key) &#123; break; &#125; &#125; new Player(playername, key); &#125;","categories":[{"name":"javascript","slug":"javascript","permalink":"http://wang-z.gitee.io/categories/javascript/"}],"tags":[{"name":"javascript","slug":"javascript","permalink":"http://wang-z.gitee.io/tags/javascript/"}],"author":{"name":"Mr.wang","avatar":"https://wang-z.gitee.io/img/author.jpg"}},{"title":"常用快捷键","slug":"base-常用快捷键","date":"2020-09-03T06:30:52.000Z","updated":"2022-08-01T07:39:07.654Z","comments":true,"path":"2020/09/03/base-常用快捷键/","link":"","permalink":"http://wang-z.gitee.io/2020/09/03/base-%E5%B8%B8%E7%94%A8%E5%BF%AB%E6%8D%B7%E9%94%AE/","excerpt":"谷歌，Typora（markdown编辑器）的快捷键整理","text":"谷歌，Typora（markdown编辑器）的快捷键整理 谷歌常用快捷键 ctrl + n 打开新窗口 ctrl + shift + n 打开无痕浏览窗口 ctrl + t 打开一个新的选项卡 ctrl + shift + t 重新打开最后关闭的选项卡 ctrl + 1-8 跳转到特定的选项卡 ctrl + 9 跳转到最后一个选项卡 ctrl + tab 跳转到下一个选项卡 ctrl + shift + tab 跳转到上一个选项卡 alt + home 当前位置打开主页 alt + left 在当前位置打开上一页 alt + right 在当前位置打开下一页 ctrl + w 关闭当前标签页 ctrl + shift + w 关闭当前窗口 alt + d 跳转到地址栏 ctrl + s 保存当前网页 ctrl + r 刷新 ctrl + shift + r 重新加载页面 esc 停止加载 tab 浏览可前进可点击项目 shift + tab 浏览可向后移动可点击项目 ctrl + u 显示网页源代码 ctrl + d 保存为书签 ctrl + shift + d 为所有标签页添加书签 ctrl + +/-/0 屏幕变大/变小/恢复 space/pgon 向下翻页 shift + space/pgup 向上翻页 home/end 回到行首/行尾 ctrl + click 后台打开 shift +click 新窗口打开 alt + click 下载网页 拖动标签/书签，可在新窗口打开,按esc，将标签返回原位置 shift + 鼠标滚轮 水平移动 alt + space + n/x 最大化/最小化窗口 alt + f / alt + e 打开菜单 ctrl + shift + o/b 打开/关闭书签 也常能打开输入法表情 ctrl + h 新窗口打开历史记录 f6 将光标在工具栏，标题栏，书签栏，内容之间来回切换 ctrl + f 打开搜索 ctrl + g 跳到下一个 ctrl + shift + g 跳到上一个 ctrl + shift + del 打开清理浏览器 Typora快捷键一：菜单栏 文件：alt+F 编辑：alt+E 段落：alt+P 格式：alt+O 视图：alt+V 主题：alt+T 帮助：alt+H 二：文件 新建：Ctrl+N 新建窗口：Ctrl+Shift+N 打开：Ctrl+O 快速打开：Ctrl+P 保存：Ctrl+S 另存为：Ctrl+Shift+S 偏好：Ctrl+, 关闭：Ctrl+W 三：编辑 撤销：Ctrl+Z 重做：Ctrl+Y 剪切：Ctrl+X 复制：Ctrl+C 粘贴：Ctrl+V 复制为MarkDown：Ctrl+Shift+C 粘贴为纯文本：Ctrl+Shift+V 全选：Ctrl+A 选中当前行/句：Ctrl+L 选中当前格式文本：Ctrl+E 选中当前词：Ctrl+D 跳转到文首：Ctrl+Home 跳转到所选内容：Ctrl+J 跳转到文末：Ctrl+End 查找：Ctrl+F 查找下一个：F3 查找上一个：Shift+F3 替换：Ctrl+H 四：段落 标题：Ctrl+1/2/3/4/5 段落：Ctrl+0 增大标题级别：Ctrl+= 减少标题级别：Ctrl+- 表格：Ctrl+T 代码块：Ctrl+Alt+z（需要设置） 公式块：Ctrl+Shift+M 引用：Ctrl+Shift+Q 有序列表：Ctrl+Shift+[ 无序列表：Ctrl+Shift+] 增加缩进：Ctrl+] 减少缩进：Ctrl+[ 五：格式 加粗：Ctrl+B 斜体：Ctrl+I 下划线：Ctrl+U 代码：Ctrl+Shift+` 删除线：Alt+Shift+5 超链接：Ctrl+K 图像：Ctrl+Shift+I 清除样式：Ctrl+ 六：视图 显示隐藏侧边栏：Ctrl+Shift+L 大纲视图：Ctrl+Shift+1 文档列表视图：Ctrl+Shift+2 文件树视图：Ctrl+Shift+3 源代码模式：Ctrl+/ 专注模式：F8 打字机模式：F9 切换全屏：F11 实际大小：Ctrl+Shift+0 放大：Ctrl+Shift+= 缩小：Ctrl+Shift+- 应用内窗口切换：Ctrl+Tab 打开DevTools：Shift+F12","categories":[{"name":"base","slug":"base","permalink":"http://wang-z.gitee.io/categories/base/"}],"tags":[{"name":"Google","slug":"Google","permalink":"http://wang-z.gitee.io/tags/Google/"},{"name":"Typora","slug":"Typora","permalink":"http://wang-z.gitee.io/tags/Typora/"}],"author":{"name":"Mr.wang","avatar":"https://wang-z.gitee.io/img/author.jpg"}},{"title":"webpack-学习笔记","slug":"webpack-学习笔记","date":"2020-09-03T04:10:56.000Z","updated":"2022-08-01T07:39:07.710Z","comments":true,"path":"2020/09/03/webpack-学习笔记/","link":"","permalink":"http://wang-z.gitee.io/2020/09/03/webpack-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/","excerpt":"webpack是如何打包的，怎么配置？loader的使用","text":"webpack是如何打包的，怎么配置？loader的使用 webpack的安装全局安装1npm i webpack webpack-cli -g 项目安装1npm i webpack webpack-cli -D 项目初始化1npm init -y 项目中的webpack执行打包(npx)1npx webpack es6 导入导出规范12let wang = require(&#x27;./wang.js&#x27;)export default &#123;&#125; commonJS（cmd）导入导出规范12import wang from &#x27;./wang.js&#x27;module.exports = &#123;&#125; // 暴露对象 四个核心概念： 入口(entry)：程序的入口 就是你想要打包的目录 输出(output)：打包后的文件位置 loader：对于你想要打包的文件进行转换的配置 插件(plugins)：解决loader无法实现的事情 新建文件webpack.config.js 12345678910const path = require(&#x27;path&#x27;);module.exports = &#123; entry: &#x27;./src/index.js&#x27;, //打包的入口 output: &#123; path: path.resolve(__dirname, &#x27;dist&#x27;), //输出路径 filename: &#x27;bundle.js&#x27; //打包的文件 &#125; mode: &#x27;production&#x27; // 打包模式为生产 或者development开发模式&#125;; __dirname 当前路径path.resolve(__dirname, ‘dist’) 解析当前路径的绝对路径 path.join(__dirname, ‘dist’) 拼接当前路径的绝对路径 指定使用哪个文件进行打包 一个开发模式 一个生产模式 1npx webpack --config webpack.custom.config.js // 执行mode为development开发模式 快捷命令输出 12345 &quot;scripts&quot;: &#123; &quot;test&quot;: &quot;echo \\&quot;Error: no test specified\\&quot; &amp;&amp; exit 1&quot;, &quot;build&quot;:&quot;webpack --config webpack.custom.config.js&quot; &#125;//执行时就快捷输入 npm run build 使用webpack-dev-server(推荐)会开启服务器 安装 123npm i webpack-dev-server -D//package.json &quot;dev&quot;: &quot;webpack-dev-server&quot; 自动编译完成时的地址是127.0.0.1：8080/ 打包后的文件在内存中 配置dev12345678910const path = require(&#x27;path&#x27;);module.exports = &#123; devServer: &#123; open: true, //自动打开 port: 3000, //端口号 // compress: true, //是否压缩 // contentBase: &#x27;./src&#x27;, //指定路径 hot: true, // 开启热更替，便于代码更新，快速补充，不需要再次打包生成 &#125;&#125;; html-webpack-plugin插件(把html打包—服务器使用)1npm i html-webpack-plugin -D html-webpack-plugin插件使用12345678910const path = require(&#x27;path&#x27;);const HtmlWebpackPlugin = require(&#x27;html-webpack-plugin&#x27;)module.exports = &#123; plugins: [ new HtmlWebpackPlugin(&#123; filename: &quot;index.html&quot;, template: &quot;./src/index.html&quot; &#125;) ]&#125;; 会自动引入js文件 loader使用处理css文件123456789101112131415//安装npm i css-loader style-loader -D//配置module.exports = &#123; //模块 module: &#123; rules: [ &#123; // webpack解析文件是从右到左 test: /\\.css$/i,//正则匹配.css文件 use: [&#x27;style-loader&#x27;, &#x27;css-loader&#x27;], // csss-loader 解析css文件 style-loader 将解析的文件放入html文件中 &#125;, ], &#125;,&#125;; 处理less和sass12345//安装npm i less less-loader sass-loader node-sass -D//配置 &#123; test: /\\.less$/, use: [&#x27;style-loader&#x27;,&#x27;css-loader&#x27;, &#x27;less-loader&#x27;,], &#125;, &#123;test: /\\.s[ac]ss$/i,use: [&#x27;style-loader&#x27;,&#x27;css-loader&#x27;, &#x27;sass-loader&#x27;,],&#125;, 处理img（图片）和 字体图标1234//安装npm i file-loader -D//配置&#123;test: /\\.(png|jpeg|gif|bmp|jpg)$/,use: &quot;file-loader&quot;&#125;, 处理字体图标1&#123;test: /\\.(woff|woff2|eot|svg|ttf)$/,use: &quot;file-loader&quot;&#125;, 处理图片的其他高级功能（url-loader）12345678//基于file-loader安装npm i url-loader -D//配置&#123;test: /\\.(png|jpeg|gif|bmp|jpg)$/,use: &#123;loader:&#x27;url-loader&#x27;,options:&#123; limit:5*1024, //如果图片小于5kb大小就转换为base64格式 outputPath:&#x27;images&#x27;, //打包的路径 name:&#x27;[name]-[hash:8].[ext]&#x27;, //原图片的名字.尾缀名 [hash:数字]=&gt;哈希名字 ：后保留几位&#125;&#125;&#125;, 处理babel（兼容js）123456789101112131415//安装 @babel/core核心 @babel/preset-env 预设语法包npm install babel-loader @babel/core @babel/preset-env webpack -D//配置&#123; test: /\\.js$/, // exclude: /(node_modules|bower_components)/, use: &#123; loader: &#x27;babel-loader&#x27;, options: &#123; presets: [&#x27;@babel/preset-env&#x27;], //语法预设 plugins: [&#x27;@babel/plugin-proposal-class-properties&#x27;] //语法的插件，想要哪个就下载哪个 &#125; exclude: /node_modules/ //匹配正则忽略这个文件 &#125;&#125; 处理generator函数1234npm install --save-dev @babel/plugin-transform-runtimenpm install --save @babel/runtime//配置&#123;&quot;plugins&quot;: [&quot;@babel/plugin-transform-async-to-generator&quot;]&#125;, babelrc分配好具体的配置在哪","categories":[{"name":"webpack","slug":"webpack","permalink":"http://wang-z.gitee.io/categories/webpack/"}],"tags":[{"name":"javascript","slug":"javascript","permalink":"http://wang-z.gitee.io/tags/javascript/"},{"name":"node","slug":"node","permalink":"http://wang-z.gitee.io/tags/node/"},{"name":"webpack","slug":"webpack","permalink":"http://wang-z.gitee.io/tags/webpack/"}],"author":{"name":"Mr.wang","avatar":"https://wang-z.gitee.io/img/author.jpg"}},{"title":"sql常用指令","slug":"sql-常用指令","date":"2020-09-01T07:16:24.000Z","updated":"2022-08-01T07:39:07.683Z","comments":true,"path":"2020/09/01/sql-常用指令/","link":"","permalink":"http://wang-z.gitee.io/2020/09/01/sql-%E5%B8%B8%E7%94%A8%E6%8C%87%E4%BB%A4/","excerpt":"sql记录常用的sql查询语句","text":"sql记录常用的sql查询语句 常用sql命令建表1 查12345678910111213141516-- 需要连接这个数据库表SELECT * FROM &#x27;数据表名&#x27;; --查询整个表SELECT * FROM &#x27;book&#x27; WHERE book.id = 1; --查询book表且根据id查找-- INNER JOIN是全连接SELECT * FROM book INNER JOIN other; --book表和other表关联在一起（重复N*N）SELECT * FROM book INNER JOIN other ON book.id = other.id; --ON id相等关联在一起-- 模糊查询select * from book where name like; &#x27;%王%&#x27;-- LEFT JOIN是左连接SELECT * FROM book LEFT JOIN other ON book.id = other.id; --左表的保留，匹配右表数据-- RIGHT JOIN是左连接SELECT * FROM book RIGHT JOIN other ON book.id = other.id; --右表的保留，匹配左表数据 增1 删1 改1","categories":[{"name":"mysql","slug":"mysql","permalink":"http://wang-z.gitee.io/categories/mysql/"}],"tags":[{"name":"mysql","slug":"mysql","permalink":"http://wang-z.gitee.io/tags/mysql/"}],"author":{"name":"Mr.wang","avatar":"https://wang-z.gitee.io/img/author.jpg"}},{"title":"npm常用指令","slug":"npm-常用指令","date":"2020-07-20T08:04:14.000Z","updated":"2022-08-01T07:39:07.677Z","comments":true,"path":"2020/07/20/npm-常用指令/","link":"","permalink":"http://wang-z.gitee.io/2020/07/20/npm-%E5%B8%B8%E7%94%A8%E6%8C%87%E4%BB%A4/","excerpt":"常用npm命令，淘宝镜像地址","text":"常用npm命令，淘宝镜像地址 常用npm命令修改版本123比如我想来个1.0.1版本，注意，是最后一位修改了增1，那么命令：npm version patch 回车就可以了；比如我想来个1.1.0版本，注意，是第二位修改了增1，那么命令： npm version minor 回车就可以了；比如我想来个2.0.0版本，注意，是第一位修改了增1，那么命令： npm version major 回车就可以了； 淘宝镜像1--registry=https://registry.npm.taobao.org","categories":[{"name":"npm","slug":"npm","permalink":"http://wang-z.gitee.io/categories/npm/"}],"tags":[{"name":"javascript","slug":"javascript","permalink":"http://wang-z.gitee.io/tags/javascript/"},{"name":"npm","slug":"npm","permalink":"http://wang-z.gitee.io/tags/npm/"}],"author":{"name":"Mr.wang","avatar":"https://wang-z.gitee.io/img/author.jpg"}},{"title":"npm踩坑日记","slug":"npm-踩坑日记","date":"2020-07-20T08:04:14.000Z","updated":"2022-08-01T07:39:07.681Z","comments":true,"path":"2020/07/20/npm-踩坑日记/","link":"","permalink":"http://wang-z.gitee.io/2020/07/20/npm-%E8%B8%A9%E5%9D%91%E6%97%A5%E8%AE%B0/","excerpt":"npm安装速度太慢了？怎么办？","text":"npm安装速度太慢了？怎么办？ 注意npm还是cnpmnpm注册源的更换 修改源地址为淘宝 NPM 镜像 1npm config set registry http://registry.npm.taobao.org/ 修改源地址为官方源 1npm config set registry https://registry.npmjs.org/","categories":[{"name":"npm","slug":"npm","permalink":"http://wang-z.gitee.io/categories/npm/"}],"tags":[{"name":"javascript","slug":"javascript","permalink":"http://wang-z.gitee.io/tags/javascript/"},{"name":"npm","slug":"npm","permalink":"http://wang-z.gitee.io/tags/npm/"}],"author":{"name":"Mr.wang","avatar":"https://wang-z.gitee.io/img/author.jpg"}},{"title":"node-api学习笔记","slug":"node-api学习","date":"2020-06-11T10:48:56.000Z","updated":"2022-08-01T07:39:07.674Z","comments":true,"path":"2020/06/11/node-api学习/","link":"","permalink":"http://wang-z.gitee.io/2020/06/11/node-api%E5%AD%A6%E4%B9%A0/","excerpt":"记录node的API使用","text":"记录node的API使用 fs-文件系统 打开文件 1fs.open(path, flags[, mode], callback) flags 参数可以是以下值： Flag 描述 r 以读取模式打开文件。如果文件不存在抛出异常。 r+ 以读写模式打开文件。如果文件不存在抛出异常。 rs 以同步的方式读取文件。 rs+ 以同步的方式读取和写入文件。 w 以写入模式打开文件，如果文件不存在则创建。 wx 类似 ‘w’，但是如果文件路径存在，则文件写入失败。 w+ 以读写模式打开文件，如果文件不存在则创建。 wx+ 类似 ‘w+’， 但是如果文件路径存在，则文件读写失败。 a 以追加模式打开文件，如果文件不存在则创建。 ax 类似 ‘a’， 但是如果文件路径存在，则文件追加失败。 a+ 以读取追加模式打开文件，如果文件不存在则创建。 ax+ 类似 ‘a+’， 但是如果文件路径存在，则文件读取追加失败。 fs.stat 获取文件信息 12345678fs.stat(&#39;routers&#39;, (err, stats) &#x3D;&gt; &#123; if(err) &#123; console.log(err); return false &#125; console.log(stats.isFile()); console.log(stats.isDirectory());&#125;) stats类中的方法有： 方法 描述 stats.isFile() 如果是文件返回 true，否则返回 false。 stats.isDirectory() 如果是目录返回 true，否则返回 false。 stats.isBlockDevice() 如果是块设备返回 true，否则返回 false。 stats.isCharacterDevice() 如果是字符设备返回 true，否则返回 false。 stats.isSymbolicLink() 如果是软链接返回 true，否则返回 false。 stats.isFIFO() 如果是FIFO，返回true，否则返回 false。FIFO是UNIX中的一种特殊类型的命令管道。 stats.isSocket() 如果是 Socket 返回 true，否则返回 false。 fs.mkdir 创建目录 1234fs.mkdir(&#39;css&#39;, (err)&#x3D;&gt; &#123; if (err) throw err; console.log(&#39;创建成功11&#39;);&#125;) fs.writeFile 创建写入文件 12345678fs.writeFile(&#39;t.txt&#39;, &#39;hell world&#39;, (err) &#x3D;&gt; &#123; if (err) &#123; console.log(err); return false; &#125; console.log(&#39;写入成功&#39;)&#125;) fs.appendFile 追加文件 123fs.appendFile(&#39;.&#x2F;1.txt&#39;,Date.now()+&#39;\\n&#39;,function()&#123; console.log(&#39;ok&#39;);&#125;) fs.readFile 读取文件 123456789101112131415var fs &#x3D; require(&quot;fs&quot;);&#x2F;&#x2F; 异步读取fs.readFile(&#39;input.txt&#39;, function (err, data) &#123; if (err) &#123; return console.error(err); &#125; console.log(&quot;异步读取: &quot; + data.toString());&#125;);&#x2F;&#x2F; 同步读取var data &#x3D; fs.readFileSync(&#39;input.txt&#39;);console.log(&quot;同步读取: &quot; + data.toString());console.log(&quot;程序执行完毕。&quot;); fs.readdir 读取目录 1fs.readdir(path[, options], callback) fs.rename 重命名 1234fs.rename(&#39;html&#x2F;style.css&#39;, &#39;html.css&#x2F;base.css&#39;, (err)&#x3D;&gt;&#123; if(err) throww err; console.log(&#39;移动成功&#39;)&#125; fs.rmdir 删除目录 1 fs.unlink 删除文件 1fs.unlink(path, callback)","categories":[{"name":"node","slug":"node","permalink":"http://wang-z.gitee.io/categories/node/"}],"tags":[{"name":"javascript","slug":"javascript","permalink":"http://wang-z.gitee.io/tags/javascript/"},{"name":"node","slug":"node","permalink":"http://wang-z.gitee.io/tags/node/"},{"name":"http","slug":"http","permalink":"http://wang-z.gitee.io/tags/http/"}],"author":{"name":"Mr.wang","avatar":"https://wang-z.gitee.io/img/author.jpg"}},{"title":"请注意前方有坑","slug":"all-请注意前方有坑","date":"2020-06-01T06:30:52.000Z","updated":"2023-02-27T02:55:40.628Z","comments":true,"path":"2020/06/01/all-请注意前方有坑/","link":"","permalink":"http://wang-z.gitee.io/2020/06/01/all-%E8%AF%B7%E6%B3%A8%E6%84%8F%E5%89%8D%E6%96%B9%E6%9C%89%E5%9D%91/","excerpt":"js逻辑上小概率会出现反人类的逻辑","text":"js逻辑上小概率会出现反人类的逻辑 火狐浏览器对于某些时间格式在new Date时会Invalid Date123new Date(&#x27;2021/11/08 00:00:00&#x27;) //正常new Date(&#x27;2021-11-08 00:00:00&#x27;) //正常new Date(&#x27;2021/11/08 00:00:00.0&#x27;) //Invalid Date IE浏览器出现1new Date(&#x27;2021-11-08 00:00:00&#x27;) //Invalid Date 自己手动配置方法转换1234567891011121314/* JSON Date 转日期 */ jsonDate(jsonDate) &#123; jsonDate = jsonDate.slice(0,19).replace(/-/g, &#x27;/&#x27;); if (jsonDate.indexOf(&#x27;T&#x27;) &gt; 0) &#123; var strDate = jsonDate .replace(/T/g, &#x27; &#x27;) .replace(/-/g, &#x27;/&#x27;) .replace(/\\.[\\w+]*/, &#x27;&#x27;); return new Date(strDate); &#125; else &#123; var date = new Date(jsonDate); return date; &#125; &#125; axios请求总是跨域怎么办？ contentType: ‘application/json’ 是变成了非简单请求， 跨域配置已做，但还是报403 ，是因为网关拦截了浏览器的options请求 这个是复杂请求，后端没有对这个header做跨域配置，就会被浏览器认为是跨域。 **withCredentials:**默认情况下，跨源请求不提供凭据(cookie、HTTP认证及客户端SSL证明等)。通过将withCredentials属性设置为true，可以指定某个请求应该发送凭据。 默认值为false。 true：在跨域请求时，会携带用户凭证 false：在跨域请求时，不会携带用户凭证；返回的 response 里也会忽略 cookie 当配置了 withCredentials = true时，必须在后端增加 response 头信息Access-Control-Allow-Origin，且必须指定域名，而不能指定为*！！！ 这是最近遇到的问题，后端需要带cookie过去，而前端没有设置为true，所以导致cookie没有传过去，后来发现是没有设置为true 123456789101112131415//使用axios库时// 是否允许跨域(此参数会导致get请求跨域) axios.defaults.withCredentials = true;//post请求请注意请求头的Content-Type//使用axios跨域发送请求，同时post发送的数据格式是json格式,返回的信息提示是跨域的问题,但后台已说明已解除跨域//解决办法//第一种//设置config.headers[&#x27;Content-Type&#x27;] = &#x27;text/plain&#x27;axios.defaults.headers.post[&#x27;Content-Type&#x27;] = &#x27;text/plain&#x27;data:JSON.stringify(data)//第二种import qs from &#x27;qs&#x27;;axios.post(url,&#123; method: &#x27;post&#x27;,data: qs.stringify(data)&#125;) 队友不配合存储不一致localStorage 存储localStorage时，应该保证每次存储的值都是JSON.stringify过的值，每次取出都应该JSON.parse 可设置单独的utils函数专门保存存取方法的统一 1234localStorage.setItem(&quot;token&quot;,&quot;wang&quot;)localStorage.getItem(&quot;token&quot;) //=》&quot;wang&quot;JSON.parse(localStorage.getItem(&quot;token&quot;))//error Uncaught SyntaxError: Unexpected token w in JSON at position 0 Math.round（四舍五入）（负数）1234567Math.round(1.2) //-&gt;1Math.round(1.8) //-&gt;2Math.round(0) //-&gt;0Math.round(-1.2) //-&gt;-1Math.round(-1.5) //-&gt;-1(奇怪)Math.round(-1.8) //-&gt;-2Math.round(x)等同于：Math.floor(x + 0.5) floor向下取整 负数越大越小 别忽略parseInt的第二个参数123[&#x27;1&#x27;,&#x27;2&#x27;,&#x27;3&#x27;].map(parseInt); //-&gt;[1, NaN, NaN][&#x27;1&#x27;,&#x27;2&#x27;,&#x27;3&#x27;].map(v=&gt;parseInt(v)); //-&gt;[1, 2, 3][&#x27;1&#x27;,&#x27;2&#x27;,&#x27;3&#x27;].map((v,i)=&gt;parseInt(v,i)); //-&gt;[1, NaN, NaN] 不要相信浏览器的打印 某天，后台返回一个数据id：576460752305053383 当我在控制台console.log(id)看这个数据的时候，打印出576460752305053300,结果却不是我想要的。。。 由于后端long数据类型转化为js的数字类型时，超出17位事，会自动将超出部分转化为0 解决方法：数字类型转化为字符串 骚操作-如何一句话让你页面可编辑1document.body.contentEditable=true windows和mac换行符不一样的原因导致很多警告git的问题，默认情况下，Windows上pull的时候会自动把LF转换成CRLF，然后push 的时候CRLF会转会LF，所以要么关闭git的这个自动转换，要么prettier改一下换行符的配置 执行了git config –global core.autocrlf false命令，重新clone项目 fetch请求本地json 请求本地json 需要进行res.json 会返回一个promise 在then后返回就是数据 12345fetch(&quot;./bar.json&quot;) .then((res) =&gt; res.json()) .then((data) =&gt; &#123; console.log(data); &#125;); 谷歌浏览器保留页面跳转前的请求开发中往往会遇到这样的情况，调试一个请求，但是请求中有报错的跳转，结果一刷新页面就自动跳转了，也看不到请求报错，这个时候只要勾选上preserver log即可 new Date（time） 当你想获取当前时间的时候 世界时间UTC 12345new Date(&#x27;2021-03-05&#x27;) //Fri Mar 05 2021 08:00:00 GMT+0800 (中国标准时间)new Date(&#x27;2021-03-05&#x27;).getTime() //1614902400000 //UTC+8:00new Date(&#x27;2021-3-05&#x27;).getTime() //1614873600000 //UTCnew Date(&#x27;2021/03/05&#x27;).getTime() //1614873600000 //UTCnew Date(&#x27;2021/3/5&#x27;).getTime() //1614873600000 //UTC Axios请求库封装问题 当我们使用axios.create创建的axios实例在使用普通的get、post、put时没问题，但是如果你使用all、spread、Cancel、CancelToken、isCancel方法，将会告诉你，方法不存在。 如果要使用all，spread，请直接引入axios进行使用","categories":[{"name":"vue","slug":"vue","permalink":"http://wang-z.gitee.io/categories/vue/"}],"tags":[{"name":"vue","slug":"vue","permalink":"http://wang-z.gitee.io/tags/vue/"},{"name":"javascript","slug":"javascript","permalink":"http://wang-z.gitee.io/tags/javascript/"}],"author":{"name":"Mr.wang","avatar":"https://wang-z.gitee.io/img/author.jpg"}},{"title":"js实用方法-字符串与日期","slug":"js-实用方法-基本类型与日期","date":"2020-05-20T05:14:52.000Z","updated":"2022-08-01T07:39:07.666Z","comments":true,"path":"2020/05/20/js-实用方法-基本类型与日期/","link":"","permalink":"http://wang-z.gitee.io/2020/05/20/js-%E5%AE%9E%E7%94%A8%E6%96%B9%E6%B3%95-%E5%9F%BA%E6%9C%AC%E7%B1%BB%E5%9E%8B%E4%B8%8E%E6%97%A5%E6%9C%9F/","excerpt":"记录开发中的字符串与日期处理的方法","text":"记录开发中的字符串与日期处理的方法 技巧及有趣的方法操作Date检查日期是否有效12const isDateValid = (...val) =&gt; !Number.isNaN(new Date(...val).valueOf());isDateValid(&quot;December 17, 1995 03:24:00&quot;); // true 计算两个日期之间的间隔12const dayDif = (date1, date2) =&gt; Math.ceil(Math.abs(date1.getTime() - date2.getTime()) / 86400000) dayDif(new Date(&quot;2021-11-3&quot;), new Date(&quot;2022-2-1&quot;)) // 90 距离过年还有90天~ 查找日期位于一年中的第几天12const dayOfYear = (date) =&gt; Math.floor((date - new Date(date.getFullYear(), 0, 0)) / 1000 / 60 / 60 / 24);dayOfYear(new Date()); // 307 2021年已经过去300多天了~ 时间格式化时间转化为hour:minutes:seconds的格式1234const timeFromDate = date =&gt; date.toTimeString().slice(0, 8); timeFromDate(new Date(2021, 11, 2, 12, 30, 0)); // 12:30:00timeFromDate(new Date()); // 返回当前时间 09:00:00 js判断 instanceof运算符用来判断一个构造函数的prototype属性所指向的对象是否存在另外一个要检测对象的原型链上 12const Router = require(&#x27;Koa-router&#x27;)if(router instanceof Router) //判断router是否基于Router(在Router原型链上) 提供 function 给外部调用123456789window.init = function init(configs) &#123; Vue.prototype.configs = configs; new Vue(&#123; render: (h) =&gt; h(App), &#125;).$mount(&quot;#app&quot;);&#125;;init();//调用这个html即可在window上获取这个函数且可以调用//可用于原生安卓传递参数给Vue页面或控制Vue页面的渲染 调试骚技巧1234567//vue文件中，将this绑定在window对象上，浏览器控制台即可直接打印vue为当前this的实例，在哪个组件上定义就在哪个组件上的this实例，在main.js中则是初始实例new Vue()mounted() &#123; window.vue = this &#125;//在html文件中则是直接赋值window.wang = &quot;wang&quot;//我们在使用window.location.href切换链接，实则在调用浏览器的browser的api-&gt;浏览器对象模型 简化事件赋值写法 对于某些事件只需简单的赋值可不写 methods，多个赋值可使用逗号 ， $event子组件返回数据使用$event 12345678@click=&quot;id=item.id,display=true&quot;@input=&quot;time=$event&quot;data() &#123; return &#123; id:0, display:false &#125;&#125; 时间戳转换123456function format(timeStamp) &#123; let time = new Date(timeStamp); return `$&#123;new Date().getFullYear()&#125;-$&#123; new Date().getMonth() + 1 &#125;-$&#123;new Date().getDate()&#125; $&#123;new Date().getHours()&#125;:$&#123;new Date().getMinutes()&#125;:$&#123;new Date().getSeconds()&#125;`;&#125; 常见new Date()1new Date().setTime(new Date().getTime() - 24 * 60 * 60 * 1000)//前一天时间 查询当前 localStorage 存储大小123456789101112(function () &#123; if (!window.localStorage) &#123; console.log(&quot;浏览器不支持localStorage&quot;); &#125; var size = 0; for (item in window.localStorage) &#123; if (window.localStorage.hasOwnProperty(item)) &#123; size += window.localStorage.getItem(item).length; &#125; &#125; console.log(&quot;当前localStorage剩余容量为&quot; + (size / 1024).toFixed(2) + &quot;KB&quot;);&#125;)(); 什么是 IIFE (立即调用的函数表达式)IIFE是一个立即调用的函数表达式，它在创建后立即执行 1234(function IIFE() &#123; console.log(&quot;Hello!&quot;);&#125;)();// &quot;Hello!&quot; 点击回到顶部的 js12345678910111213141516171819202122232425262728293031323334Gotop.onclick = function () &#123; //判断是否有无定时器 if (c) &#123; clearInterval(c); &#125; c = setInterval(function () &#123; var target = 0; //顶部的距离 var step = 10; //每次滚动的距离 var curent = getScroll().scrollTop; //滚动出去的距离 //判定有没有滚动 if (curent &gt; target) &#123; step = -Math.abs(step); &#125; //使页面开始一直往上滚 curent += step; document.documentElement.scrollTop = curent; document.body.scrollTop = curent; //判断最后页面是不是到了最开始的位置 if (Math.abs(curent) &lt;= target) &#123; clearInterval(c); document.documentElement.scrollTop = target; document.body.scrollTop = target; return; &#125; &#125;, 2);&#125;;// 获取页面滚动出去的距离，处理兼容性function getScroll() &#123; return &#123; scrollTop: document.documentElement.scrollTop || document.body.scrollTop, scrpllLeft: document.documentElement.scrpllLeft || document.body.scrollLeft, &#125;;&#125; 生成随机字符串 (可指定长度)12345678910111213141516/** * 生成随机字符串(可指定长度) * @param len * @returns &#123;string&#125; */randomString = function(len) &#123; len = len || 8; var $chars = &#x27;ABCDEFGHJKMNPQRSTWXYZabcdefhijkmnprstwxyz2345678&#x27;; /****默认去掉了容易混淆的字符oOLl,9gq,Vv,Uu,I1****/ var maxPos = $chars.length; var pwd = &#x27;&#x27;; for (var i = 0; i &lt; len; i++) &#123; pwd += $chars.charAt(Math.floor(Math.random() * maxPos)); &#125; return pwd;&#125; 生成随机颜色值123456789function getRandomColor () &#123; const rgb = [] for (let i = 0 ; i &lt; 3; ++i)&#123; let color = Math.floor(Math.random() * 256).toString(16) color = color.length == 1 ? &#x27;0&#x27; + color : color rgb.push(color) &#125; return &#x27;#&#x27; + rgb.join(&#x27;&#x27;)&#125; city.json 城市 JSON 数据处理为级联组件适用的结构12345678910111213Object.keys(City).forEach((city) =&gt; &#123; if (City[city].level === 1) &#123; let tempArr = []; City[city].children.map((v) =&gt; &#123; tempArr.push(&#123; id: City[v].id, name: City[v].name &#125;); &#125;); tempCity.push(&#123; id: City[city].id, name: City[city].name, children: tempArr, &#125;); &#125;&#125;); 计算指定数字的阶乘 利用递归调用来进行数字的阶乘 1234567891011const factorialOfNumber = (number) =&gt; number &lt; 0 ? (() =&gt; &#123; throw new TypeError(&quot;请输入正整数&quot;); &#125;)() : number &lt;= 1 ? 1 : number * factorialOfNumber(number - 1);// 事例factorialOfNumber(4); // 24factorialOfNumber(8); // 40320 字符串反转12const reverseString = (string) =&gt; [...string].reverse().join(&quot;&quot;);reverseString(121245); //=&gt; 542121 测试js代码的执行耗时:performance：12345678let start = performance.now();let sum = 0;for (let i = 0; i &lt; 100000; i++) &#123; sum += 1;&#125;let end = performance.now();console.log(start);console.log(end); 避免多条件并列 开发中有时会遇到多个条件，执行相同的语句，也就是多个||这种： 1234567891011if(status==1||status==2||status==3)&#123; doSomeThing()&#125;switch(status)&#123; case 1： case:2 case:3: doSomeThing()&#125; 1234const enum = [1, 2, 3];if (enum.includes(status)) &#123; doSomething();&#125; ||和&amp;&amp;12let wang = type || &quot;wang&quot;; //使用在方法内传递形参给予默认值type &amp;&amp; eval((wang = &quot;wang&quot;)); //简单的if判断（短路运算）如果type为true 则执行&amp;&amp;后面的语句 注解：&amp;&amp;后的为 function（函数），可直接执行，但如果是一些 js 逻辑却不能执行，这时可以使用 eval（）欺诈 RGB 色值生成 16 进制色值123456789const rgb2Hex &#x3D; rgb &#x3D;&gt; &#123; let rgbList &#x3D; rgb.toString().match(&#x2F;\\d+&#x2F;g) let hex &#x3D; &#39;#&#39; for (let i &#x3D; 0, len &#x3D; rgbList.length; i &lt; len; ++i) &#123; hex +&#x3D; (&#39;0&#39; + Number(rgbList[i]).toString(16)).slice(-2) &#125; return hex&#125;;rgb2Hex(&#39;100, 50, 0&#39;) &#x2F;&#x2F; &#39;#643200&#39; 使用|处理小数123console.log(10.9 | 0); //-&gt;10console.log(-10.9 | 0); //-&gt;-10//小数点后面的都会切除 字符串转为对象取值（“obj.name”=&gt;eval(obj.name)）当使用某个变量作为对象的键值时，可用 obj.key当变量为 name 作为键值时，可用以下方法 1234let obj = &#123;&#125;let key = &quot;name&quot;;let val = &quot;wang&quot;eval(`obj.$&#123;key&#125; = &#x27;$&#123;val&#125;&#x27;`)=&gt;eval(&quot;obj.name = &#x27;wang&#x27;&quot;)//=&gt;obj = &#123;name: &quot;wang&quot;&#125; 操作字符串获取两个整数之间的随机整数12const random = (min, max) =&gt; Math.floor(Math.random() * (max - min + 1) + min);random(1, 50); 将RGB转化为十六机制12const rgbToHex = (r, g, b) =&gt; &quot;#&quot; + ((1 &lt;&lt; 24) + (r &lt;&lt; 16) + (g &lt;&lt; 8) + b).toString(16).slice(1);rgbToHex(255, 255, 255); // &#x27;#ffffff&#x27; 获取随机十六进制颜色12const randomHex = () =&gt; `#$&#123;Math.floor(Math.random() * 0xffffff).toString(16).padEnd(6, &quot;0&quot;)&#125;`;randomHex(); 获取变量的类型12345678910const trueTypeOf = (obj) =&gt; Object.prototype.toString.call(obj).slice(8, -1).toLowerCase();trueTypeOf(&#x27;&#x27;); // stringtrueTypeOf(0); // numbertrueTypeOf(); // undefinedtrueTypeOf(null); // nulltrueTypeOf(&#123;&#125;); // objecttrueTypeOf([]); // arraytrueTypeOf(0); // numbertrueTypeOf(() =&gt; &#123;&#125;); // function 字符串首字母大写12const capitalize = str =&gt; str.charAt(0).toUpperCase() + str.slice(1)capitalize(&quot;hello world&quot;) // Hello world 翻转字符串12const reverse = str =&gt; str.split(&#x27;&#x27;).reverse().join(&#x27;&#x27;);reverse(&#x27;hello world&#x27;); // &#x27;dlrow olleh&#x27; 随机字符串(nice) tips:利用toString转换随机数但是有限制 在数字类型会失精，最终生产的随机数只有大概13位左右（此方法含小数点在第二位） 12const randomString = () =&gt; Math.random().toString(36).slice(2);randomString(); //&#x27;0.31ocjp24uy&#x27; 截断字符串为…12const truncateString = (string, length) =&gt; string.length &lt; length ? string : `$&#123;string.slice(0, length - 3)&#125;...`;truncateString(&#x27;Hi, I should be truncated because I am too loooong!&#x27;, 36) // &#x27;Hi, I should be truncated because...&#x27; 生成固定字符指定次数的字符串（N 个”XXX”）1234Array(10).join(1); //=&gt;&quot;1111111111&quot;Array(3).join(&quot;a&quot;); //=&gt;&quot;aaa&quot;&quot;1&quot;.repeat(3); //=&gt; &quot;111&quot;&quot;abc&quot;.repeat(3); //=&gt; &quot;abcabcabc&quot; 生成随机 0-N 的数组 时间 0 点到 23 点 1[...new Array(24).keys()]; //=&gt;[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23] 数字的修饰-每三位加一逗号 12000000.11 转化为 12,000,000.11 12345678function commafy(num) &#123; return ( num &amp;&amp; num.toString().replace(/(\\d)(?=(\\d&#123;3&#125;)+\\.)/g, function ($1, $2) &#123; return $2 + &quot;,&quot;; &#125;) );&#125; 字符串扩展12let word = &quot;wang&quot;;let arr = [...word]; //=&gt;[&quot;w&quot;,&quot;a&quot;,&quot;n&quot;,&quot;g&quot;] 中英文判断字符串长度一致123456let word = &quot;w&quot;;let chzn = &quot;王&quot;;console.log(word.length, chzn.length); // 1 2let arr1 = [...word];let arr2 = [...chzn];console.log(arr1.length, arr2.length); // 1 1 字符串首字母大写12345let word = &quot;wang&quot;;word = word[0].toUpperCase() + word.substr(1);console.log(word); // &quot;Wang&quot; 字符串正则匹配切割123const surname = &quot;wang,li;zhang&quot;;const surnameArr = surname.split(/[,;]/);console.log(surnameArr); // [&quot;wang&quot;, &quot;li&quot;, &quot;zhang&quot;] 转换字节单位KB MB GB12345678910111213const formatbyte = (value, type = &#x27;GB&#x27;) =&gt; &#123; let k = 1024 let val = Number(value) if (val == 0) return &#x27;0 B&#x27; else if (!value) return value let sizes = [&#x27;B&#x27;, &#x27;KB&#x27;, &#x27;MB&#x27;, &#x27;GB&#x27;, &#x27;TB&#x27;, &#x27;PB&#x27;, &#x27;EB&#x27;, &#x27;ZB&#x27;, &#x27;YB&#x27;] let unit = sizes.findIndex(i =&gt; i == type) if (unit) val = val * Math.pow(k, unit) let i = Math.floor(Math.log(val) / Math.log(k)) return (val / Math.pow(k, i)).toPrecision(4) + &#x27;&#x27; + sizes[i]&#125;formatbyte(10000) =&gt; &#x27;9.766TB&#x27;formatbyte(0.22) =&gt; &#x27;225.3MB&#x27; 生成包含大小写字母和数字的随机字符串？ 项目中，也许我们会遇到需要使用 JS 生成特定长度随机字符串的需求，比如用来做 Hash 值、uuid、随机码等，除了可以借助一些库和插件之外，其实部分场景下，我们完全可以自定义函数实现指定长度随机字符串的生成。 简洁版函数只需要两行代码： 12345678910111213/** * 生成长度为len的包含a-z、A-Z、0-9的随机字符串 */function generateStr(len = 18) &#123; // 一行代码生成0-9、A-Z、a-z、总长度为62的字符数组 var arr = [...new Array(62)].map((item, i) =&gt; String.fromCharCode(i + (i &lt; 10 ? 0 : i &lt; 36 ? 7 : 13) + 48) ); return [...new Array(len)] .map(() =&gt; arr[Math.floor(Math.random() * arr.length)]) .join(&#x27;&#x27;);&#125;generateStr(18); 如果担心重复，则可以添加一个Map来缓存已经生成的字符串，每次返回时判断一下： 1234567891011121314151617181920212223242526272829/** * 生成长度为len的包含a-z、A-Z、0-9的随机字符串 */const cacheMap = new Map(); // 缓存已经生成过了的字符串// 一行代码生成0-9、A-Z、a-z、总长度为62的字符数组const arr = [...new Array(62)].map((item, i) =&gt; String.fromCharCode(i + (i &lt; 10 ? 0 : i &lt; 36 ? 7 : 13) + 48));function generateStr(len = 18) &#123; const str = [...new Array(len)] .map(() =&gt; arr[Math.floor(Math.random() * arr.length)]) .join(&#x27;&#x27;); if (cacheMap.has(str)) &#123; // 这里会有死循环的问题，比如下面的for循环，i设置的大于62 console.log(cacheMap, str); // i 值越大，len越小，重复的概率越大 return generateStr(len); &#125; else &#123; cacheMap.set(str, true); return str; &#125;&#125;for (let i = 0; i &lt; 20; i++) &#123; // 长度选小一点，测试20次 // i设置的大于62会出现死循环，可先算出排列组合数进行预防 // i 值越大，len越小，重复的概率越大，执行时间越长 generateStr(1);&#125;console.log(cacheMap);","categories":[{"name":"javascript","slug":"javascript","permalink":"http://wang-z.gitee.io/categories/javascript/"}],"tags":[{"name":"javascript","slug":"javascript","permalink":"http://wang-z.gitee.io/tags/javascript/"}],"author":{"name":"Mr.wang","avatar":"https://wang-z.gitee.io/img/author.jpg"}},{"title":"js实用方法-对象与class","slug":"js-实用方法-对象与class","date":"2020-05-20T05:14:52.000Z","updated":"2022-08-01T07:39:07.667Z","comments":true,"path":"2020/05/20/js-实用方法-对象与class/","link":"","permalink":"http://wang-z.gitee.io/2020/05/20/js-%E5%AE%9E%E7%94%A8%E6%96%B9%E6%B3%95-%E5%AF%B9%E8%B1%A1%E4%B8%8Eclass/","excerpt":"记录开发中的对象的方法 class 类方法的使用","text":"记录开发中的对象的方法 class 类方法的使用 技巧及有趣的方法 for...in 语句以原始插入顺序迭代对象的可枚举属性。 for...of 语句遍历可迭代对象定义要迭代的数据。 对象结构之分配剩余对象12345678910let obj = &#123; 1: &#123; id: 1, a: 2, b: 3 &#125;, 2: &#123; id: 1, a: 2, b: 3 &#125; &#125;;const &#123; 1: &#123;&#125;, ...afterDel&#125; = obj;console.log(afterDel);let obj = &#123; a: &#123;&#125;, b: &#123; a: 2 &#125; &#125;;let &#123; a, ...aa &#125; = obj;console.log(aa); for in 去掉对象中为空的键值12345for (const key in filter) &#123; if (filter[key] === &quot;&quot;) &#123; delete filter[key]; &#125;&#125; 对象的键值不仅仅只是一个字符串1234567891011let user = &#123; name: &quot;wang&quot;, age: 20,&#125;;let key = &quot;name&quot;;user[key]; //=&gt; 输出wang//key 可以是一个变量let key = prompt(&quot;What do you want to know about the user?&quot;, &quot;name&quot;);//prompt 浏览器的输入弹窗 在输入后会返回输入的值给key（默认输入name）user[key]; //==&gt; John（如果输入 &quot;name&quot;） 我们对于变量的键值应该是灵活的使用 key 是一个变量可以通过变量的赋值进而改变对象的输出 对象内的计算属性 我们可以在对象字面量中使用方括号。这叫做 计算属性。 1234567let key = prompt(&quot;What do you want to know about the user?&quot;, &quot;name&quot;);let user = &#123; [key]: &quot;wang&quot;, // 属性名是从 key 变量中得到的&#125;;alert(user.name); // 5 如果 key=&quot;name&quot; 对象的属性判断是否存在12user.key === undefined 返回true表示不存在“key” in user 返回true表示存在 过滤空值(对象)1234let obj = &#123; a: &quot;&quot;, b: 2, c: &quot;wang&quot; &#125;;let target = &#123;&#125;;Object.keys(obj).map((v) =&gt; (obj[v] !== &quot;&quot; ? (target[v] = obj[v]) : &quot;&quot;));console.log(target); //=&gt;&#123;b: 2, c: &quot;wang&quot;&#125; 创建空对象(适用于发送请求传参) 创建一个空对象，我们可能大多数时候会使用对象字面量为&#123;&#125;的方式，然而这种方式创建的对象并不是纯粹的，它仍然有__proto__属性以及继承自Object原型的一些方法，这种方式创建的对象容易被修改，比如： 1234567891011let o = &#123;&#125;;let p = Object.create(null);Object.prototype.say = function()&#123; console.log(&#x27;hello&#x27;)&#125;console.log(o.say)console.log(p.say)&gt;&gt; f()&#123;&#125;&gt;&gt; undefined 对象深拷贝的处理1234let val = &#123; 1: &#123; a: 1, b: 3 &#125;, 2: &#123; a: 2, b: 5 &#125; &#125;;let newVal = &#123; ...val[&quot;1&quot;], b: 4 &#125;;val = &#123; ...val, 1: newVal &#125;;//outinput &#123;&quot;1&quot;:&#123;a:1,b:4&#125;,&quot;2&quot;:&#123;a:2,b:5&#125;&#125; class 类使用递归 find 属性和方法1234567891011121314151617181920212223242526272829303132333435363738394041424344class A &#123; constructor() &#123; this.nameA = &quot;a&quot;; &#125; wangA() &#123; console.log(&quot;A&quot;); &#125;&#125;class B extends A &#123; constructor() &#123; super(); this.nameB = &quot;b&quot;; &#125; wangB() &#123; console.log(&quot;B&quot;); &#125;&#125;class C extends B &#123; constructor() &#123; super(); this.nameC = &quot;c&quot;; &#125; wangC() &#123; console.log(&quot;C&quot;); &#125;&#125;var c = new C();let arr = [];function FindMembers(L, att, method) &#123; if (L.__proto__) &#123; let Att = Object.keys(L).filter((a) =&gt; a.indexOf(att) &gt; -1); let Method = Object.getOwnPropertyNames(L.__proto__).filter( (m) =&gt; m.indexOf(method) &gt; -1 ); arr = arr.concat(Att, Method); FindMembers(L.__proto__, att, method); &#125; return arr;&#125;const members = FindMembers(c, &quot;name&quot;, &quot;wang&quot;);console.log(&quot;members&quot;, members);","categories":[{"name":"javascript","slug":"javascript","permalink":"http://wang-z.gitee.io/categories/javascript/"}],"tags":[{"name":"javascript","slug":"javascript","permalink":"http://wang-z.gitee.io/tags/javascript/"}],"author":{"name":"Mr.wang","avatar":"https://wang-z.gitee.io/img/author.jpg"}},{"title":"js实用方法","slug":"js-实用方法-数组","date":"2020-05-20T05:14:52.000Z","updated":"2023-08-31T07:34:55.195Z","comments":true,"path":"2020/05/20/js-实用方法-数组/","link":"","permalink":"http://wang-z.gitee.io/2020/05/20/js-%E5%AE%9E%E7%94%A8%E6%96%B9%E6%B3%95-%E6%95%B0%E7%BB%84/","excerpt":"记录开发中的数组处理的方法","text":"记录开发中的数组处理的方法 技巧及有趣的方法数组方法获得一组数的平均值123const average = (...args) =&gt; args.reduce((a, b) =&gt; a + b) / args.length;average(1, 2, 3, 4, 5); // 3 深层数组对象，递归调用找出相对于的 id1234567891011121314151617181920let test = [ &#123; id: 1 &#125;, &#123; id: 5, children: [&#123; id: 6, children: [&#123; id: 7 &#125;] &#125;] &#125;, &#123; id: 8, children: [&#123; id: 9, children: [&#123; id: 10 &#125;] &#125;] &#125;,];function deepId(arr, id) &#123; let res; function fn(arr, id) &#123; for (let a of arr) &#123; if (a.id === id) &#123; res = a; &#125; else if (a.children) &#123; !res &amp;&amp; fn(a.children, id); &#125; &#125; &#125; fn(arr, id); return res;&#125;deepId(test, 1); 一个 map 函数内使用里面对某个子项进行 every 判断是否为数字1234value.mpa((v) =&gt; &#123; if (v.every((item) =&gt; isNaN(item))) &#123; &#125;&#125;); 无 loop 生成指定长度的数组12const List = (len) =&gt; [...new Array(len).keys()];const list = List(10); //=&gt;list=[0,1,2,3,4,5,6,7,8,9] 数组的去重1234567891011121314151617181920212223const list = [1, 2, 45, 1, 5, 4, 245, 2];const uniqueList = [...new Set(list)]; //=&gt;uniqueList= [1,2,45,5,4,245]// indexOf实现var array = [1, 1, &quot;1&quot;];function unique(array) &#123; var res = []; for (var i = 0, len = array.length; i &lt; len; i++) &#123; var current = array[i]; if (res.indexOf(current) === -1) &#123; res.push(current); &#125; &#125; return res;&#125;// filter实现var array = [1, 2, 1, 1, &quot;1&quot;];function unique(array) &#123; var res = array.filter(function (item, index, array) &#123; return array.indexOf(item) === index; &#125;); return res;&#125;console.log(unique(array)); map 返回就是一个新的数组，也就是说 可以使用 new 进行创建一个数组 for in 使用12345let object = &#123; a: 1, b: 2, c: 3 &#125;;for (let i = 0 in object) &#123; console.log(i);&#125;// a,b,c 数组对象的去重12345let TempObj = &#123;&#125;;let newArr = [...arr1, ...arr2].reduce((cru, next) =&gt; &#123; TempObj[next.id] ? &quot;&quot; : (TempObj[next.id] = true &amp;&amp; item.push(next)); return item;&#125;, []); 说明：其中 cru 代表的是数组的每次遍历之后的项，next 表示遍历的下一项。 数字数组的排序123456//从大到小const sortArr = (array, number = 1) =&gt; [...array].sort((x, y) =&gt; y - x);//sortArr([0,5,7,87,2]) ==&gt;[87, 7, 5, 2, 0]//从小到大const sortArr = (array, number = 1) =&gt; [...array].sort((x, y) =&gt; x - y);//sortArr([0,5,7,87,2]) ==&gt;[0, 2, 5, 7, 87] 数组对象（根据对象的某个键排序） sort 函数，根据返回值是一个小于 0，等于 0，大于 0，移动 ab 两者间的位置 1234567[ &#123; id: 3, txt: &quot;是三个&quot; &#125;, &#123; id: 1, txt: &quot;是一个&quot; &#125;, &#123; id: 5, txt: &quot;是五个&quot; &#125;,].sort((a, b) =&gt; &#123; return a.id - b.id;&#125;); 检查数组对象中的所有对象的 isChecked 键值为 true1const isChecked = (array) =&gt; array.every((el) =&gt; el.isChecked); 检查数组对象中的所有元素是否有一个 isChecked 键值为 true1const isChecked = (array) =&gt; array.some((el) =&gt; el.isChecked); 判断一个对象的某些键值是否有值(必须)12const obj = &#123; id: 2, name: &quot;&quot;, pwd: &quot;&quot; &#125;;const isChecked = [&quot;id&quot;, &quot;name&quot;, &quot;pwd&quot;].every((key) =&gt; !!obj[key]); 过滤空值(数组) 空值指的是没有具体意义的一些值，比如 0，undefined，null，false，空字符串等 1let resArr = [1, 2, 0, undefined, null, false, &quot;&quot;].filter(Boolean); //-&gt;1,2 删除数组里 undefined 元素12345678910function removeEmptyArrayEle(arr) &#123; for (var i = 0; i &lt; arr.length; i++) &#123; if (arr[i] == &quot;undefined&quot;) &#123; arr.splice(i, 1); i = i - 1; // i - 1 ,因为空元素在数组下标 2 位置，删除空之后，后面的元素要向前补位， // 这样才能真正去掉空元素,觉得这句可以删掉的连续为空试试，然后思考其中逻辑 &#125; &#125; return arr;&#125; 简单利用 filter 删除 undefined，NaN,0，false12const compact = (arr) =&gt; arr.filter(Boolean);compact([0, 1, false, 2, &quot;&quot;, 3, &quot;a&quot;, &quot;e&quot; * 23, NaN, &quot;s&quot;, 34]); 只删除数组内 undefined1const compact = (arr) =&gt; arr.filter((v) =&gt; v !== &quot;undefined&quot;); reduce 删除数据对象内指定 id[]12345678910var tableData = [ &#123; id: 1, name: &quot;1号&quot; &#125;, &#123; id: 2, name: &quot;2号&quot; &#125;, &#123; id: 3, name: &quot;3号&quot; &#125;,];var delSelect = [1, 2];let tempArr = delSelect.reduce((cru, next) =&gt; &#123; return cru.filter((e) =&gt; e.id !== next);&#125;, tableData);console.log(tempArr); //=&gt; [&#123;id: 3, name: &#x27;3号&#x27;&#125;] 多维数组转换成一维数组 采用递归的思路处理 1234567891011let arr1 = [ [0, 1], [2, 3], [4, [5, 6, 7]],];const flattenArr = function (arr) &#123; return arr.reduce((acc, cur) =&gt; &#123; return acc.concat(Array.isArray(cur) ? flattenArr(cur) : cur); &#125;, []);&#125;;console.log(flattenArr(arr1)); 数组对象根据 id 重新取值12345678910111213141516let table1 = [ &#123; id: 1, name: &quot;选中&quot; &#125;, &#123; id: 3, name: &quot;第二选中&quot; &#125;,];let table2 = [ &#123; id: 1, name: &quot;数据1&quot; &#125;, &#123; id: 2, name: &quot;数据2&quot; &#125;, &#123; id: 3, name: &quot;数据3&quot; &#125;, &#123; id: 4, name: &quot;数据4&quot; &#125;, &#123; id: 5, name: &quot;数据5&quot; &#125;, &#123; id: 6, name: &quot;数据6&quot; &#125;,];let temp = table1.map((t1) =&gt; &#123; return table2.find((t2) =&gt; t2.id == t1.id);&#125;);console.log(temp); //[&#123;id: 1, name: &quot;数据1&quot;&#125;,&#123;id: 3, name: &quot;数据3&quot;&#125;] 打乱数组顺序123let arr = [1,2,3,4]arr = arr.sort(()=&gt;0.5-Math.random())console.log(arr) 提取字符串中的数字123const str = &#x27;dasd4556da7 da789&#x27;const num = str.replace(/\\D/g,&#x27;&#x27;)console.log(num) 数组中随机选取1234const elements = [&#x27;wa&#x27;,&#x27;li&#x27;,&#x27;h&#x27;,&#x27;huang&#x27;,&#x27;zi&#x27;]const random = (arr)=&gt;arr[Math.floor(Math.random()*arr.length)]const whois = random(elements)console.log(whois)","categories":[{"name":"javascript","slug":"javascript","permalink":"http://wang-z.gitee.io/categories/javascript/"}],"tags":[{"name":"javascript","slug":"javascript","permalink":"http://wang-z.gitee.io/tags/javascript/"}],"author":{"name":"Mr.wang","avatar":"https://wang-z.gitee.io/img/author.jpg"}},{"title":"常用git命令","slug":"git-常用git命令","date":"2020-03-19T06:14:14.000Z","updated":"2023-09-14T10:02:58.873Z","comments":true,"path":"2020/03/19/git-常用git命令/","link":"","permalink":"http://wang-z.gitee.io/2020/03/19/git-%E5%B8%B8%E7%94%A8git%E5%91%BD%E4%BB%A4/","excerpt":"常用的git命令，方式使用,以及git报错解决方法","text":"常用的git命令，方式使用,以及git报错解决方法 使用Github 的站内搜索，搜索：Awesome + 你的关键字ssh秘钥 检查SSH秘钥是否存在。右击git bash打开终端执行命令 ： 1cat ~/.ssh/id_rsa.pub 若密钥不存在，则生成SSH 密钥 。在git bash上面执行命令 window系统生成地址为 C:\\Users\\Administrator.ssh 私钥 id_rsa.公钥 id_rsa.pub 1ssh-keygen -t rsa -C &quot;email@163.com&quot; 在github或gitlab上找到Settings添加秘钥 可以使用cat 查看秘钥并复制 1cat ~/.ssh/id_rsa.pub 前端常用Git命令常见信息1master: 默认开发分支origin：默认远程版本库Head: 默认开发分支Head^:Head 的父提交 创建新仓库12git initgit init [project-name] # 新建一个目录，并将其初始化为git仓库git clone [url] # 拷贝一个git仓库到本地 配置12345678Git 的配置文件是 .gitconfig，可以放在用户的主目录（全局配置）下或项目目录下（项目配置） 。# 显示当前的 git 配置git config --list # 编辑 Git 配置git config -e [--global] # 设置用来提交代码的用户信息git config [--global] user.name &quot;[name]&quot; git config [--global] user.email &quot;[email address]&quot; 添加删除文件1234567891011121314# 将指定文件添加到暂存区git add [file1] [file2] ... # 将指定目录添加到暂存区，包括子目录git add [dir] # 将当前目录中的所有文件添加到暂存区git add . # 对同一个文件多次更改，建议分开提交git add -p # 将指定文件从工作区删除，并将本次删除添加到暂存区git rm [file1] [file2] ... # 停止追踪指定的文件，不会删除文件git rm --cached [file] # 对指定文件进行重命名，并添加到暂存区中git mv [file-original] [file-renamed] 代码提交123456789101112# 将暂存区中的文件提交到代码仓库git commit -m [message] # 将指定的文件从暂存区中提交到仓库git commit [file1] [file2] ... -m [message] # 将工作区的更改直接提交到仓库git commit -a # 提交前展示所有的变动git commit -v # 使用新提交代替上次提交，如果代码没有任何变动，将会用于重写上次提交的提交信息git commit --amend -m [message] # 重做上次的提交，并将指定的文件包含其中git commit --amend [file1] [file2] ... 分支相关12345678910111213141516171819202122232425# 列出本地分支git branch # 列出所有远程分支git branch -r # 列出本地和远程的所有分支git branch -a # 新建分支，并留在当前分支git branch [branch-name] # 新建分支，并切换到新建分支git checkout -b [branch-name] # 指向某次提交新建分支git branch [branch] [commit] # 创建一个新分支，并与指定的远程分支建立跟踪关系git branch --track [branch] [remote-branch] # 切换到指定分支，并更新工作区git checkout [branch-name] # 切换到上一个分支git checkout - # 将本地分支与指定的远程分支建立跟踪关心git branch --set-upstream [branch] [remote-branch]# 合并指定分支与当前分支git merge [branch] branch是想获取的分支 当前分支为master 执行 git merge dev# 将指定的提交合并到本地分支git cheery-pick [commit] # 删除本地指定分支git branch -d [branch-name] # 删除远程分支git push origin --delete [branch-name]git push -dr [remote&#x2F;branch] 标签操作12345678910111213141516# 列出所有标签git tag# 在当前 tag 上创建一个新标签git tag [tag]# 在指定 tag 上创建一个新标签git tag [tag] [commit]# 删除本地标签git tag -d [tag]# 删除远程标签git push origin :refs&#x2F;tags&#x2F;[tagName]# 查看标签信息git show [tag]# 提交指定标签git push [remote] --tags# 创建一个新分支，指向特定的标签git checkout -b [branch] [tag] 查看信息12345678910111213141516171819202122232425262728293031323334353637383940# 显示有变动的文件git status# 显示当前分支的提交历史git log# 显示提交历史和每次提交的文件git log --stat# 指定关键字搜索提交历史git log -S [keyword]# 显示自某次提交以来的所有更改，一次提交显示一行git log [tag] HEAD --pretty&#x3D;format:$s# 显示自某次提交以来的所有更改，其提交描述必须符合搜索条件git log [tag] HEAD --grep feature# 显示指定文件的提交历史git log --flollow [file]git whatchanged [file]# 显示与指定文件相关的每个差异git log -p [file]# 显示最近 5 次提交git log -5 --pretty --oneline# 显示所有的提交用户，已提交数目多少排名git shortlog -sn# 显示指定文件何时被何人修改过git blame [file]# 显示暂存区和工作区文件差别git diff# 显示暂存区和上一次提交的差别git diff --cached [file]# 显示工作区和当前分支的最近一次提交的差别git diff HEAD# 显示指定两次提交的差别git diff [first-branch]...[second-branch]# 显示今天提交了多少代码git diff --shortstat &quot;@&#123;0 day ago&#125;&quot;# 显示特定提交的提交信息和更改的内容git show [commit]# 某次提交改动了哪些文件git show --name-only [commit]# 显示某个提交的特定文件的内容git show [commit]:[filename]# 显示当前分支的最新提交git reflog 远程同步12345678910111213141516171819202122232425262728293031323334353637# 从远程分支下载所有变动git fetch [remote]# 显示所有远程仓库git remote -v# 显示某个远程参考信息git remote show [remote]# 新建一个远程仓库，并命名git remote add [shortname] [url]# 检索远程村粗库的更改，并与本地分支合并git pull [remote] [branch]# 将本地分支提交到远程仓库git push [remote] [branch]# 将当前分支强制提交到远程仓库，即使有冲突存在git push [remote] --force# 将所有分支提交到远程仓库git push [remote] --all#### 撤销操作# 将暂存区中的指定文件还原到工作区，保留文件变动git checkout [file]# 将指定文件从某个提交还原到暂存区和工作区git checkout [commit] [file]# 将暂存区中的所有文件还原到工作区git checkout .# 重置暂存区中的指定文件，与先前的提交保持一致，但保持工作空间的变动不变git reset [file]# 重置暂存区和工作区中的指定文件，并与最近一次提交保持一致，工作空间文件变动不会保留git reset --hard# 重置暂存区，指向指定的某次提交，工作区的内容不会被覆盖git reset [commit]# 重置暂存区和工作区中的指定文件，并与指定的某次提交保持一致，工作区的内容会被覆盖git reset --hard [commit]# 将 HEAD 重置为指定的某次提交，保持暂存区和工作区的内容不变git reset --keep [commit]# 新建新提交以撤销指定的提交git revert [commit]# 暂存为提交的变动，并在稍后移动它们git stashgit stash popgit stash apply 储藏123456789101112131415161718192021222324# 快速储藏代码,默认储藏名称为&quot;WIP on &lt;branch_name&gt; ： &lt;latest_commit_id&gt; &lt;latest_commit_message&gt;&quot;git stash # 储藏自定义标记git stash save &lt;msg&gt; # 查看储藏列表git stash list# 查看第一个储藏做了哪些文件改动git stash show# 查看第一个储藏的改动（详情） git stash show -p# 查看其他（num）储藏做了哪些改动git stash show stash@&#123;num&#125;# 应用第一个储藏，但不会删除git stash apply # 应用&#123;num&#125;储藏git stash apply stash@&#123;num&#125;# 弹出第一个储藏，并删除git stash pop# 删除第一个储藏git stash drop# 删除&#123;num&#125;储藏git stash drop stash@&#123;num&#125;# 清空所有储藏git stash clear 其他12# 生成用于发布的存档git archive git报错若git连接远程仓库时显示ssl证书不存在则可以执行以下命令1git config --global http.sslVerify false git特别输出输出当前所有用户开发量（新增行，删除行，总行） 1git log --format=&#x27;%aN&#x27; | sort -u | while read name; do echo -en &quot;$name\\t&quot;; git log --author=&quot;$name&quot; --pretty=tformat: --numstat | awk &#x27;&#123; add += $1; subs += $2; loc += $1 - $2 &#125; END &#123; printf &quot;added lines: %s, removed lines: %s, total lines: %s\\n&quot;, add, subs, loc &#125;&#x27; - ; done 输出效果 123wang added lines: 17936, removed lines: 17929, total lines: 7li added lines: 30272, removed lines: 1, total lines: 30271zhang added lines: 1250, removed lines: 998, total lines: 252","categories":[{"name":"git","slug":"git","permalink":"http://wang-z.gitee.io/categories/git/"}],"tags":[{"name":"javascript","slug":"javascript","permalink":"http://wang-z.gitee.io/tags/javascript/"},{"name":"git","slug":"git","permalink":"http://wang-z.gitee.io/tags/git/"}],"author":{"name":"Mr.wang","avatar":"https://wang-z.gitee.io/img/author.jpg"}},{"title":"vue-cli3.x项目结构","slug":"vue-vue-cli3.0项目结构","date":"2020-03-19T06:14:14.000Z","updated":"2023-03-03T03:22:51.937Z","comments":true,"path":"2020/03/19/vue-vue-cli3.0项目结构/","link":"","permalink":"http://wang-z.gitee.io/2020/03/19/vue-vue-cli3.0%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84/","excerpt":"vue-cli项目开发中的结构，打包配置，axios封装，vuex使用","text":"vue-cli项目开发中的结构，打包配置，axios封装，vuex使用 项目结构 解析：项目存在public（公共） favicon.ico（网站图标） index.html(入口文件) 123456789101112131415161718192021222324252627&lt;!DOCTYPE html&gt;&lt;html lang=&quot;en&quot;&gt;&lt;head&gt; &lt;meta charset=&quot;utf-8&quot;&gt; &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,initial-scale=1.0&quot;&gt; &lt;link rel=&quot;icon&quot; href=&quot;&lt;%= BASE_URL %&gt;favicon.ico&quot;&gt; &lt;link rel=&quot;stylesheet&quot; href=&quot;https://unpkg.com/element-ui/lib/theme-chalk/index.css&quot;&gt; &lt;title&gt;网站名&lt;/title&gt;&lt;/head&gt;&lt;body&gt; &lt;noscript&gt; &lt;strong&gt;We&#x27;re sorry but advertisement doesn&#x27;t work properly without JavaScript enabled. Please enable it to continue.&lt;/strong&gt; &lt;/noscript&gt; &lt;div id=&quot;app&quot;&gt;&lt;/div&gt; &lt;!-- built files will be auto injected --&gt; &lt;script src=&quot;https://cdn.bootcss.com/vue/2.5.17-beta.0/vue.runtime.min.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;https://cdn.bootcss.com/vue-router/3.0.1/vue-router.min.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.2/moment.min.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;http://jira.finway.com.cn/vue-source/axios.min.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;https://unpkg.com/element-ui/lib/index.js&quot;&gt;&lt;/script&gt;&lt;/body&gt;&lt;/html&gt; 此入口采用cdn引入外部的element-ui axios vue vue-router moment srcsrc作为项目的资源文件存放路径-包含以下的子文件夹 assets存放images，JSON文件 调用时可以使用 路径 “@/assets/images/“+”图片名” 配置vue.config.js可改变图片打包base63限制大小 1234567chainWebpack: config =&gt; &#123; config.module .rule(&#x27;images&#x27;) .use(&#x27;url-loader&#x27;) .loader(&#x27;url-loader&#x27;) .tap(options =&gt; Object.assign(options, &#123; limit: 1000000 &#125;))//在1000000B大小下的都转为base64 &#125;, components（自定义公共组件）如果你创建了一些公共组件 在整个项目中多次调用时，可以拆分为单独的公共组件 request（请求）/api对于axios的二次封装123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118// 引入模块import axios from &quot;axios&quot;import router from &#x27;../router&#x27;import &#123;Message&#125; from &#x27;element-ui&#x27;// 是否允许跨域（本地开发可关闭使用，会导致跨域）axios.defaults.withCredentials = true;// axios初始化：延迟时间，主路由地址let instance = axios.create(&#123; baseURL: process.env.VUE_APP_BASE_API, timeout: 10000,&#125;);// 设置拦截器instance.interceptors.request.use( config =&gt; &#123; config.headers = &#123; &#x27;Content-Type&#x27;:&#x27;application/x-www-form-urlencoded&#x27; &#125; //在发送请求之前做某事 return config; &#125;, error =&gt; &#123; //请求错误时做些事 Promise.reject(error) &#125;);//响应拦截器instance.interceptors.response.use( response =&gt; &#123; //请求结束成功 if (response.status === 200 || response.status === 304 || response.status === 201) &#123; return response.data.data &#125; return response; &#125;, error =&gt; &#123; //请求错误时做些事 if (error &amp;&amp; error.response) &#123; if (error.response.status === 400 || String(error).indexOf(&#x27;code 400&#x27;) !== -1) &#123; Message.error(error.response.data.message) return Promise.reject(error.response.data) &#125; if (error.response.status === 401 || String(error).indexOf(&#x27;code 401&#x27;) !== -1) &#123; Message.error(error.response.data.message) // 函数进入then后面的第二个err函数，如果没有就进入catch函数, 表单提交就可以根据这个重置参数以及重置按钮状态，防止按钮卡滞 // return Promise.reject(error) &#125; if (String(error).indexOf(&#x27;code 500&#x27;) !== -1) &#123; if (error.response.data.message) &#123; Message.error(error.response.data.message) &#125; else &#123; Message.error(&#x27;服务器出现问题，请刷新重试&#x27;) &#125; return Promise.reject(error) &#125; // 终止Promise调用链 return error // return new Promise(() =&gt; &#123;&#125;) &#125; &#125;);// 是否销毁拦截器// 1.给拦截器起个名称 var myInterceptors = instance.interceptors.requesst.use();// 2.instance.interceptors.request.eject(myInterceptor);//模块化导出export default &#123; get(url, params = &#123;&#125;) &#123; if (!url) return; return instance(&#123; method: &#x27;get&#x27;, url: url, params, timeout: 30000 &#125;) &#125;, post(url, data = &#123;&#125;) &#123; if (!url) return; return instance(&#123; method: &#x27;post&#x27;, url: url, data, timeout: 3000000 &#125;) &#125;, postFile(url, data) &#123; if (!url) return; return instance(&#123; method: &#x27;post&#x27;, url: url, data &#125;) &#125;, put(url, data) &#123; if (!url) return; return instance(&#123; method: &#x27;put&#x27;, url: url, data &#125;) &#125;, patch(url, data) &#123; if (!url) return; return instance(&#123; method: &#x27;patch&#x27;, url: url, data &#125;) &#125;, delete(url, data) &#123; if (!url) return; return instance(&#123; method: &#x27;delete&#x27;, url: url, data, timeout: 30000 &#125;) &#125;,&#125; 在自定义的分类api中把请求路径进行分类 12345678910111213import axios from &quot;../axios&quot;;function login(params) &#123; return axios.post(&quot;/api/login&quot;, params);&#125;function logout() &#123; return axios.get(&quot;/api/logout&quot;);&#125;export &#123; login, logout&#125;; storestore-modules定义 wang.js 1234567891011121314151617181920212223242526272829303132import &#123;getRegionData,&#125; from &quot;@/request/api/addPlan&quot;;const state = &#123; City: [],&#125;;const getters = &#123;&#125;;const mutations = &#123; setCity(state, payload) &#123; state.City = payload; &#125;,&#125;;const actions = &#123; async getCIty(&#123; commit &#125;, payload) &#123; const res = await getRegionData(&#123; access_token: payload.access_token &#125;); commit(&quot;setCity&quot;, res.data); &#125;,&#125;;export default &#123; namespaced: true, state, getters, actions, mutations&#125;; 注意必须在store-index.js(入口)引入 1234567891011import Vue from &#x27;vue&#x27;import Vuex from &#x27;vuex&#x27;import wang from &#x27;./modules/wang&#x27;Vue.use(Vuex)export default new Vuex.Store(&#123; modules: &#123; wang, &#125;, getters&#125;) 对于getters的使用定义getters.js 1234const getters = &#123; City: state =&gt; state.wang.City,&#125;export default getters 在页面.vue使用 123456789101112import &#123; mapGetters &#125; from &quot;vuex&quot;;export default &#123;computed: &#123; ...mapGetters([&quot;City&quot;]) &#125;, methods:&#123; wang()&#123; console.log(this.City) &#125; &#125;&#125; styles(css样式)分成element.css(修改UI的样式),index.css（主要的样式）,reset.css（样式初始化） index.js 123@import &#x27;./reset.css&#x27;;@import &#x27;./icon.css&#x27;;@import &#x27;./element.css&#x27;; 在main.js引入 12//初始化css样式import &#x27;@/styles/index.css&#x27; utils(工具)每个项目特有的工具函数，封装了对应项目需要的公共函数 views(视图)包含Home.vue (主体视图窗口) 布局容器的使用及插槽 12345678910111213141516171819202122232425262728293031323334353637383940414243444546&lt;template&gt; &lt;div class=&quot;home&quot;&gt; &lt;!-- 主体框架 --&gt; &lt;el-container&gt; &lt;el-aside :style=&quot;isCollapse ? &#123;width:0+&#x27;px&#x27;&#125; : &#123;width:200+&#x27;px&#x27;&#125;&quot;&gt; &lt;Aside /&gt; &lt;/el-aside&gt; &lt;el-container&gt; &lt;el-header&gt; &lt;Header /&gt; &lt;/el-header&gt; &lt;!-- router-view插槽 --&gt; &lt;el-main&gt; &lt;router-view&gt;&lt;/router-view&gt; &lt;/el-main&gt; &lt;/el-container&gt; &lt;/el-container&gt; &lt;/div&gt;&lt;/template&gt; &lt;script&gt;import &#123; mapGetters &#125; from &quot;vuex&quot;;import Header from &quot;../components/header&quot;;import Aside from &quot;../components/aside&quot;;export default &#123; computed: &#123; ...mapGetters([&quot;isCollapse&quot;]) &#125;, name: &quot;home&quot;, data() &#123; return &#123; width: 200 &#125;; &#125;, components: &#123; Header, Aside &#125;,&#125;;&lt;/script&gt;&lt;style lang=&quot;less&quot; scoped&gt;.home &#123; min-width: 1263px; height: 100%;&#125;&lt;/style&gt; 在views定义的模板.vue都需要在路由进行引入 App.vue只有一个路由插槽 12345678&lt;template&gt; &lt;div id=&quot;app&quot;&gt; &lt;router-view/&gt; &lt;/div&gt;&lt;/template&gt;&lt;style&gt;&lt;/style&gt; main.js(主要文件)main用于外部资源的引入以及vue的全局绑定 123456789101112131415161718192021import Vue from &#x27;vue&#x27;import App from &#x27;./App.vue&#x27;import router from &#x27;./router&#x27;import axios from &#x27;./request/axios&#x27;import store from &#x27;./store/index&#x27;import ElementUI from &#x27;element-ui&#x27; //element-ui的全部组件import &#x27;element-ui/lib/theme-chalk/index.css&#x27; //element-ui的cssVue.use(ElementUI, &#123; size: &#x27;small&#x27;, zIndex: 3000&#125;)//全局绑定axiosVue.prototype.$http = axios;//初始化css样式import &#x27;@/styles/index.css&#x27;Vue.config.productionTip = falsenew Vue(&#123; router, store, render: h =&gt; h(App)&#125;).$mount(&#x27;#app&#x27;) router.js(路由)1234567891011121314151617181920212223242526import Vue from &#x27;vue&#x27;import Router from &#x27;vue-router&#x27;import Home from &#x27;./views/Home.vue&#x27;Vue.use(Router)//解决导航栏重复点击跳转报错报错const originalPush = Router.prototype.pushRouter.prototype.push = function push(location) &#123; return originalPush.call(this, location).catch(err =&gt; err)&#125;export default new Router(&#123; routes: [&#123; path: &#x27;/&#x27;, name: &#x27;home&#x27;, component: Home, redirect: &#x27;/popularize&#x27;, children: [&#123; path: &#x27;/popularize&#x27;, name: &#x27;popularize&#x27;, component: resolve =&gt; require([&#x27;@/views/popularize/popularize.vue&#x27;], resolve) &#125; ] &#125;, ]&#125;) vue-router(版本3.0.6)-&gt;vue-router(版本3.2.0)才出现这个问题 在最新的vue-router中已经解决这个问题 可删除 12345//解决导航栏重复点击跳转报错报错const originalPush = Router.prototype.pushRouter.prototype.push = function push(location) &#123; return originalPush.call(this, location).catch(err =&gt; err)&#125; 路由的懒加载方式 12component: resolve =&gt; require([&#x27;@/views/popularize/popularize.vue&#x27;], resolve)component: () =&gt; import(&#x27;@/views/popularize/popularize.vue&#x27;) .env.development（开发模式的环境变量）在开发中有一些需要单独抽离的变量 api请求的baseUrl(注意命名必须前缀带VUE_APP__) 1VUE_APP_BASE_API =&#x27;http://dev.dsp.api.kuafugame.com&#x27; 在axios.js中使用 1process.env.VUE_APP_BASE_API .env.production(上线后的环境变量，为打包所使用).gitignore(npm忽略清单) 123456789101112131415161718192021.DS_Storenode_modules/dist# local env files.env.local.env.*.local# Log filesnpm-debug.log*yarn-debug.log*yarn-error.log*# Editor directories and files.idea.vscode*.suo*.ntvs**.njsproj*.sln*.sw? 在项目准备上线后，请配置好vue.config.js 脚手架配置最基本的配置1234567891011121314151617181920212223242526module.exports = &#123; publicPath: process.env.NODE_ENV === &quot;production&quot; ? &quot;./&quot; : &quot;/&quot;, // outputDir: 在npm run build时 生成文件的目录 type:string, default:&#x27;dist&#x27; // outputDir: &#x27;dist&#x27;, // pages:&#123; type:Object,Default:undfind &#125; assetsDir: &quot;./&quot;, productionSourceMap: false, devServer: &#123; port: 80, // 端口号 host: &quot;127.0.0.1&quot;, https: false, // https:&#123;type:Boolean&#125; disableHostCheck: true, // open: true, //配置自动启动浏览器 // proxy: &#x27;http://dev.dsp.kuafugame.com/&#x27; // 配置跨域处理,只有一个代理 // proxy: &#123; // &quot;/api&quot;: &#123; // target: &quot;&lt;url&gt;&quot;, // ws: true, // changeOrigin: true // &#125;, // &quot;/foo&quot;: &#123; // target: &quot;&lt;other_url&gt;&quot; // &#125; // &#125; // 配置多个代理 &#125;,&#125;; 增加额外的配置12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152//压缩代码的npm包const CompressionPlugin = require(&quot;compression-webpack-plugin&quot;)module.exports = &#123; // 判断是在什么环境下运行 publicPath: process.env.NODE_ENV === &quot;production&quot; ? &quot;./&quot; : &quot;/&quot;, // outputDir: 在npm run build时 生成文件的目录 type:string, default:&#x27;dist&#x27; // outputDir: &#x27;dist&#x27;, // pages:&#123; type:Object,Default:undfind &#125; assetsDir: &quot;./&quot;, productionSourceMap: false, //修改端口号 devServer: &#123; port: 80, // 端口号 host: &quot;127.0.0.1&quot;, https: false, // https:&#123;type:Boolean&#125; //内网打通 disableHostCheck: true, // open: true, //配置自动启动浏览器 // proxy: &#x27;http://dev.dsp.kuafugame.com/&#x27; // 配置跨域处理,只有一个代理 // proxy: &#123; // &quot;/api&quot;: &#123; // target: &quot;&lt;url&gt;&quot;, // ws: true, // changeOrigin: true // &#125;, // &quot;/foo&quot;: &#123; // target: &quot;&lt;other_url&gt;&quot; // &#125; // &#125; // 配置多个代理 &#125;, //合并一下webpack的配置 configureWebpack: config =&gt; &#123; //外部引入第三方库，不想打包进vender时 config.externals = &#123; &#x27;vue&#x27;: &#x27;Vue&#x27;, &#x27;vue-router&#x27;: &#x27;VueRouter&#x27;, &#x27;moment&#x27;: &#x27;moment&#x27;, &#x27;axios&#x27;: &#x27;axios&#x27;, &#x27;element-ui&#x27;: &#x27;ELEMENT&#x27;, &#125; //第三方插件--压缩代码 config.plugins.push(new CompressionPlugin(&#123; test: /\\.js$|\\.html$|.\\css/, //匹配文件名 threshold: 10240, //对超过10k的数据压缩 deleteOriginalAssets: false //不删除源文件 &#125;)) &#125;, //使打包时路由不会预先加载 chainWebpack: config =&gt; &#123; config.plugins.delete(&quot;prefetch&quot;) &#125;,&#125;; vue的import导入是指向index(包含vue js文件) 可以多个组件写入components，使用index.js导出 12345678-view -components -one -index.vue -two -index.vue -index.js -index.vue index.js 12export &#123; default as One &#125; from &#x27;./one&#x27;export &#123; default as Two &#125; from &#x27;./two&#x27; 使用组件 1import &#123; One, Two &#125; from &quot;./components&quot;; vuex的模块动态注入 index.js 1234567891011121314import Vue from &#x27;vue&#x27;import Vuex from &#x27;vuex&#x27;import getters from &#x27;./getters&#x27;const modulesFiles = require.context(&#x27;./modules&#x27;, true, /\\.js$/)const modules = modulesFiles.keys().reduce((modules, modulePath) =&gt; &#123; const moduleName = modulePath.replace(/^\\.\\/(.*)\\.\\w+$/, &#x27;$1&#x27;) const value = modulesFiles(modulePath) modules[moduleName] = value.default return modules&#125;, &#123;&#125;)export default new Vuex.Store(&#123; modules, getters&#125;) css的变量导出使用 less 123456@blue:#324157;@light-blue:#3A71A8;:export &#123; blue: @blue; lightBlue: @light-blue; &#125; index.vue使用 12345678910111213141516&lt;template&gt; &lt;div :style&#x3D;&quot;&#123;background:variables.blue&#125;&quot;&gt; &#123;&#123;variables.lightBlue&#125;&#125; &lt;&#x2F;div&gt;&lt;&#x2F;template&gt;&lt;script&gt;import variables from &quot;@&#x2F;styles&#x2F;variables.less&quot;;export default &#123; computed: &#123; variables() &#123; return variables; &#125;, &#125;,&#125;;&lt;&#x2F;script&gt; 一个为了刷新页面的重定向vue 可以再需要刷页面的地方使用，保留了路由以及query参数 123456789101112&lt;script&gt;export default &#123; created() &#123; const &#123; params, query &#125; &#x3D; this.$route const &#123; path &#125; &#x3D; params this.$router.replace(&#123; path: &#39;&#x2F;&#39; + path, query &#125;) &#125;, render: function(h) &#123; return h() &#x2F;&#x2F; avoid warning message &#125;&#125;&lt;&#x2F;script&gt; 进度条的使用 在主vue文件中-app.vue 主要是监听路由的变化来生成进度条 1234567891011121314151617181920212223242526&lt;template&gt; &lt;div id=&quot;app&quot;&gt; &lt;router-view /&gt; &lt;vue-progress-bar /&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;import VueProgressBar from &#x27;vue-progressbar&#x27; export default &#123; components:&#123;VueProgressBar&#125;, name: &quot;App&quot;, created() &#123; this.$Progress.start(); this.$router.beforeEach((to, from, next) =&gt; &#123; this.$Progress.start(); next(); &#125;); this.$router.afterEach((to, from) =&gt; &#123; this.$Progress.finish(); &#125;); &#125;, mounted() &#123; this.$Progress.finish(); &#125;,&#125;;&lt;/script&gt; 路由打包名称 webpackChunkName 可以指定在打包后的模块名称 1234567&#123; path: &#x27;home&#x27;, name: &#x27;Home&#x27;, component: () =&gt; import( /* webpackChunkName: &quot;home&quot; */ &#x27;@/views/home/index.vue&#x27; ),&#125;,","categories":[{"name":"vue","slug":"vue","permalink":"http://wang-z.gitee.io/categories/vue/"}],"tags":[{"name":"vue","slug":"vue","permalink":"http://wang-z.gitee.io/tags/vue/"},{"name":"javascript","slug":"javascript","permalink":"http://wang-z.gitee.io/tags/javascript/"}],"author":{"name":"Mr.wang","avatar":"https://wang-z.gitee.io/img/author.jpg"}},{"title":"vue学习笔记","slug":"vue-学习笔记","date":"2020-03-19T06:14:14.000Z","updated":"2022-08-01T07:39:07.704Z","comments":true,"path":"2020/03/19/vue-学习笔记/","link":"","permalink":"http://wang-z.gitee.io/2020/03/19/vue-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/","excerpt":"记录vue中的独有的生命周期,语法糖","text":"记录vue中的独有的生命周期,语法糖 自定义v-model时间名及value1234&lt;!-- ParentComponent.vue --&gt;&lt;ChildComponent v-model=&quot;pageTitle&quot; /&gt;=========================================&lt;ChildComponent :title=&quot;pageTitle&quot; @change=&quot;pageTitle = $event&quot; /&gt; 12345678910111213141516// ChildComponent.vueexport default &#123; model: &#123; prop: &#x27;title&#x27;, event: &#x27;change&#x27; &#125;, props: &#123; // 这将允许 `value` 属性用于其他用途 value: String, // 使用 `title` 代替 `value` 作为 model 的 prop title: &#123; type: String, default: &#x27;Default title&#x27; &#125; &#125;&#125; 动态的指令参数 事件可以动态绑定 根据动态生成的事件名去调用相同事件 1234567&lt;my-button @[someEvent]&#x3D;&quot;handleSomeEvent()&quot;&#x2F;&gt;data()&#123; return&#123; ... someEvent: variable ? &quot;click&quot; : &quot;dblclick&quot; &#125; &#125;, hookEvent（钩子事件监听）1&lt;List @hook:updated&#x3D;&quot;handleTableUpdated&quot;&gt;&lt;&#x2F;List &gt; 监听销毁事件，提高代码可读性 1234567vm.$on(&#39;hooks:created&#39;, cb)vm.$once(&#39;hooks:created&#39;, cb)mounted()&#123;this.$on(&#39;hooks:beforeDestroy&#39;),()&#x3D;&gt;&#123; &#x2F;&#x2F;执行销毁事件的逻辑 &#125;&#125; v-cloak 解决页面闪烁问题 页面异步加载 Dom元素未渲染完毕时先隐藏 直到元素上关联实例结束编译 123456789&#x2F;&#x2F; template 中&lt;div class&#x3D;&quot;#app&quot; v-cloak&gt; &lt;p&gt;&#123;&#123;value.name&#125;&#125;&lt;&#x2F;p&gt;&lt;&#x2F;div&gt;&#x2F;&#x2F; css 中[v-cloak] &#123; display: none;&#125; 函数式组件123456789101112Vue.component(&#39;my-component&#39;, &#123; functional: true, &#x2F;&#x2F; Props 是可选的 props: &#123; &#x2F;&#x2F; ... &#125;, &#x2F;&#x2F; 为了弥补缺少的实例 &#x2F;&#x2F; 提供第二个参数作为上下文 render: function (createElement, context) &#123; &#x2F;&#x2F; ... &#125;&#125;) this.$options.filters(使用定义好的filters)声明式指令12345678910111213141516171819202122232425262728293031&#x2F;&#x2F; 只能输入正整数,0-9的数字Vue.directive(&#39;enterIntNumber&#39;, &#123; inserted: function (el) &#123; let trigger &#x3D; (el, type) &#x3D;&gt; &#123; const e &#x3D; document.createEvent(&#39;HTMLEvents&#39;) e.initEvent(type, true, true) el.dispatchEvent(e) &#125; el.addEventListener(&quot;keyup&quot;, function (e) &#123; let input &#x3D; e.target; let reg &#x3D; new RegExp(&#39;^\\\\d&#123;1&#125;\\\\d*$&#39;); &#x2F;&#x2F;正则验证是否是数字 let correctReg &#x3D; new RegExp(&#39;\\\\d&#123;1&#125;\\\\d*&#39;); &#x2F;&#x2F;正则获取是数字的部分 let matchRes &#x3D; input.value.match(reg); if (matchRes &#x3D;&#x3D;&#x3D; null) &#123; &#x2F;&#x2F; 若不是纯数字 把纯数字部分用正则获取出来替换掉 let correctMatchRes &#x3D; input.value.match(correctReg); if (correctMatchRes) &#123; input.value &#x3D; correctMatchRes[0]; &#125; else &#123; input.value &#x3D; &quot;&quot;; &#125; &#125; trigger(input, &#39;input&#39;) &#125;); &#125;&#125;);&#x2F;&#x2F;使用指令&lt;!--限制输入正整数--&gt;&lt;input v-enterIntNumber placeholder&#x3D;&quot;0&quot; type&#x3D;&quot;number&quot;&gt;来源于作者：Gopal原文链接：https:&#x2F;&#x2F;juejin.im&#x2F;post&#x2F;6872128694639394830 子组件传出单个参数时：1234// 子组件this.$emit(&#x27;test&#x27;,this.param)// 父组件@test=&#x27;test($event,userDefined)&#x27; 子组件传出多个参数时：1234// 子组件this.$emit(&#x27;test&#x27;,this.param1，this.param2, this.param3)// 父组件 arguments 是以数组的形式传入@test=&#x27;test(arguments,userDefined)&#x27; 对于异步请求的异常处理1234567891011methods: &#123; async getUserPageData() &#123; try &#123; //请求 const res = await Promise()/api请求 &#125; catch(error) &#123; // 失败的情况写在catch中 &#125; &#125;&#125; handler方法和immediate属性这里 watch 的一个特点是，最初绑定的时候是不会执行的，要等到 firstName 改变时才执行监听计算。那我们想要一开始就让他最初绑定的时候就执行改怎么办呢？我们需要修改一下我们的 watch 写法，修改过后的 watch 代码如下： 12345678910watch: &#123; firstName: &#123; handler(newName, oldName) &#123; this.fullName = newName + &#x27; &#x27; + this.lastName; &#125;, // 代表在wacth里声明了firstName这个方法之后立即先去执行handler方法 immediate: true &#125;&#125;复制代码 注意到handler了吗，我们给 firstName 绑定了一个handler方法，之前我们写的 watch 方法其实默认写的就是这个handler，Vue.js会去处理这个逻辑，最终编译出来其实就是这个handler。 而immediate:true代表如果在 wacth 里声明了 firstName 之后，就会立即先去执行里面的handler方法，如果为 false就跟我们以前的效果一样，不会在绑定的时候就执行。 解决导航栏重复点击跳转报错报错1234const originalPush = Router.prototype.push;Router.prototype.push = function push(location) &#123; return originalPush.call(this, location).catch(err =&gt; err);&#125;; 在组件中监听滚动事件1234567891011121314151617181920mounted() &#123; window.addEventListener(&quot;scroll&quot;, this.handleScroll, true); &#125;, methods: &#123; handleScroll() &#123; var scrollTop = document.querySelector(&quot;#main&quot;).scrollTop; var offsetTop = document.querySelector(&quot;#component&quot;).offsetTop; var clientHeight = document.querySelector(&quot;#component&quot;).clientHeight; //if (scrollTop - offsetTop - clientHeight + 500 &gt; 0) &#123; // this.ForecastFixed = false; // &#125; else if (scrollTop &gt; offsetTop - 50) &#123; // this.ForecastFixed = true; //&#125; else &#123; // this.ForecastFixed = false; // &#125; &#125;, &#125; beforeDestroy() &#123; window.removeEventListener(&quot;scroll&quot;, this.handleScroll, true); &#125;, 在 window.addEventListener 的第三个参数加上true，默认值为 false, 即冒泡传递，当值为 true 时, 事件使用捕获传递。beforeDestroy销毁也需要加上此属性 vue中对于页面刷新时事件的监听使用原生的属性onbeforeunload1234567891011window.onbeforeunload = function (e) &#123; e = e || window.event; // 兼容IE8和Firefox 4之前的版本 if (e) &#123; e.returnValue = &#x27;关闭提示&#x27;; &#125; // Chrome, Safari, Firefox 4+, Opera 12+ , IE 9+ return &#x27;关闭提示&#x27;;&#125;; 在methods中定义事件12345methods: &#123; beforeunloadHandler (e) &#123; // ... &#125;&#125; 在 mounted,created 钩子中注册事件1window.addEventListener(&#x27;beforeunload&#x27;, e =&gt; this.beforeunloadHandler(e)) 在页面销毁destroyed 时清除监听123destroyed() &#123; window.removeEventListener(&#x27;beforeunload&#x27;, e =&gt; this.beforeunloadHandler(e))&#125; vue中使用的防抖和节流定义utils.js 1234567891011121314151617181920212223//函数防抖（debounce）let timeout = nulllet timer = nulllet start = 0export const debounce = (func, delay) =&gt; &#123; if (timeout !== null) clearTimeout(timeout) timeout = setTimeout(func, delay)&#125;//函数节流(Throttle)export const Throttle = (func, wait, trailing) =&gt; &#123; let now = new Date() if ((now - start) &gt;= wait) &#123; timer &amp;&amp; clearTimeout(timer) timer = null start = now return func() &#125; else if (!timer &amp;&amp; trailing) &#123; timer = setTimeout(() =&gt; &#123; timer = null return func &#125;, wait) &#125;&#125; 在组件中使用 12345678910import &#123;debounce,Throrrle&#125; from &quot;@/utils.js&quot; debounce(() =&gt; &#123; //执行的防抖函数，鼠标移动事件，输入框改变事件，请求报错事件 if (error.response.status === 400 || String(error).indexOf(&#x27;code 400&#x27;) !== -1) &#123; debounce(() =&gt; &#123; Message.error(error.response.data.message) &#125;, 100) return Promise.reject(error.response.data) &#125; &#125;, 1000); this.$set 为了设置一个数组的新属性添加在vm上进行响应式 Proxy（vue3的响应拦截）1234new Proxy(data, &#123; get(key) &#123; &#125;, set(key, value) &#123; &#125;,&#125;) defineProperty(vue2的响应拦截)1234Object.defineProperty(data, &#x27;count&#x27;, &#123; get() &#123;&#125;, set() &#123;&#125;,&#125;)","categories":[{"name":"vue","slug":"vue","permalink":"http://wang-z.gitee.io/categories/vue/"}],"tags":[{"name":"vue","slug":"vue","permalink":"http://wang-z.gitee.io/tags/vue/"},{"name":"javascript","slug":"javascript","permalink":"http://wang-z.gitee.io/tags/javascript/"}],"author":{"name":"Mr.wang","avatar":"https://wang-z.gitee.io/img/author.jpg"}},{"title":"vue实用技巧","slug":"vue-实用技巧","date":"2020-03-19T06:14:14.000Z","updated":"2022-08-01T07:39:07.705Z","comments":true,"path":"2020/03/19/vue-实用技巧/","link":"","permalink":"http://wang-z.gitee.io/2020/03/19/vue-%E5%AE%9E%E7%94%A8%E6%8A%80%E5%B7%A7/","excerpt":"vue使用过程的实用技巧","text":"vue使用过程的实用技巧 记录vue使用过程的实用技巧浏览器控制台调试数据12345window.vue &#x3D; this&#x2F;&#x2F;页面显示 process.env.NODE_ENV &#x3D;&#x3D;&#x3D; &quot;development&quot;?Vue.prototype.$log &#x3D; window.console.log:&#39;&#39;;&#x2F;&#x2F; 组件内部&lt;div&gt;&#123;&#123;$log(info)&#125;&#125;&lt;&#x2F;div&gt; Vue中对于style属性和class属性的使用1234567891011121314151617181920212223242526272829//正常&lt;div style=&quot;width:100px&quot;&gt; style&lt;/div&gt;//骚操作//对象写法&lt;div :style=&quot;&#123;width:&#x27;200px&#x27;,&#x27;text-align&#x27;:center,color: activeColor, fontSize: fontSize + &#x27;px&#x27;,color:(index==0?arr.conFontColor:&#x27;#000&#x27;)&#125;&quot;&gt;&lt;/div&gt;&lt;div :class=&quot;&#123; active: isActive, &#x27;text-danger&#x27;: hasError, active: this.isActive &amp;&amp; !this.error,&#x27;text-danger&#x27;: this.error &amp;&amp; this.error.type === &#x27;fatal&#x27; &#125;&quot;&gt;&lt;/div&gt;//切换样式写法&lt;div :class=&quot;isActive == true ? &#x27;isFixed&#x27; :&#x27;&#x27;&quot;&gt;&lt;/div&gt;&lt;div :class=&quot;[isActive ? activeClass : &#x27;&#x27;, errorClass]&quot;&gt;&lt;/div&gt;&lt;div :class=&quot;[&#123; active: isActive &#125;, errorClass]&quot;&gt;&lt;/div&gt;//数组语法&lt;div :style=&quot;[&#123;width:&#x27;100px&#x27;,&#x27;text-align&#x27;:center, fontSize: 100 + &#x27;px&#x27;,color:(index==0?arr.conFontColor:&#x27;#000&#x27;)&#125;,&#123;width:&#x27;200px&#x27;,&#x27;text-align&#x27;:center,color: activeColor, fontSize: fontSize + &#x27;px&#x27;,color:(index==0?arr.conFontColor:&#x27;#000&#x27;)&#125;]&quot;&gt; style&lt;/div&gt;//一个属性多个值时&lt;div :style=&quot;&#123; display: [&#x27;-webkit-box&#x27;, &#x27;-ms-flexbox&#x27;, &#x27;flex&#x27;] &#125;&quot;&gt;&lt;/div&gt;data: &#123; activeColor: &#x27;red&#x27;, fontSize: 30&#125;data: &#123; isActive: true, hasError: false&#125; vue中对watch的利用1234567891011121314151617181920212223watch: &#123; &quot;planForm.number&quot;: function(newVal, oldVal) &#123; // 解决数字键盘可以输入输入多个小数点问题 if (newVal == &quot;&quot; &amp;&amp; oldVal.toString().indexOf(&quot;.&quot;) &gt; 0) &#123; this.planForm.number = oldVal; return; &#125; // 保留两位小数 if (newVal) &#123; newVal = newVal.toString(); var pointIndex = newVal.indexOf(&quot;.&quot;); //不出现两位小数点 if (newVal.toString().lastIndexOf(&quot;.&quot;) &gt; pointIndex) &#123; this.planForm.number = oldVal; return; &#125; if (pointIndex &gt; 0 &amp;&amp; newVal.length - pointIndex &gt; 3) &#123; this.planForm.number = oldVal; return; &#125; &#125; &#125;&#125;,","categories":[{"name":"vue","slug":"vue","permalink":"http://wang-z.gitee.io/categories/vue/"}],"tags":[{"name":"vue","slug":"vue","permalink":"http://wang-z.gitee.io/tags/vue/"},{"name":"javascript","slug":"javascript","permalink":"http://wang-z.gitee.io/tags/javascript/"}],"author":{"name":"Mr.wang","avatar":"https://wang-z.gitee.io/img/author.jpg"}},{"title":"ue-elementUI使用笔记","slug":"vue-elementUI使用笔记","date":"2020-03-17T16:00:00.000Z","updated":"2023-04-27T03:03:45.474Z","comments":true,"path":"2020/03/18/vue-elementUI使用笔记/","link":"","permalink":"http://wang-z.gitee.io/2020/03/18/vue-elementUI%E4%BD%BF%E7%94%A8%E7%AC%94%E8%AE%B0/","excerpt":"vue-elementUI的使用记录","text":"vue-elementUI的使用记录 vue-elementUI使用笔记elementUI的具名插槽1234 &lt;el-input placeholder=&quot;请输入&quot; v-model.number=&quot;data.number&quot; class=&quot;input-with-select&quot;&gt; &lt;el-button slot=&quot;prepend&quot; class=&quot;budget&quot; icon=&quot;el-icon-search&quot;&gt;搜索&lt;/el-button&gt; &lt;el-button slot=&quot;append&quot; class=&quot;budget&quot; icon=&quot;el-icon-search&quot;&gt;搜索&lt;/el-button&gt;&lt;/el-input&gt; slot=”preprend” 在输入框前面插入按钮(可以对应jQuery中的逻辑的prepend() 方法在被选元素的开头（仍位于内部）插入指定内容） slot=”append” 在输入框后面面插入按钮(可以对应jQuery中的逻辑的append() 方法在被选元素的结尾（仍然在内部）插入指定内容） 1234567&lt;el-form-item&gt; &lt;span slot=&quot;label&quot; class=&quot;tabs&quot;&gt; &lt;i class=&quot;el-icon-date&quot;&gt;&lt;/i&gt; 表单项名 &lt;/span&gt; &lt;el-input v-model=&quot;vlue&quot;&gt;&lt;/el-input&gt;&lt;/el-form-item&gt; 123456&lt;el-tab-pane name=&quot;keywords&quot;&gt; &lt;span slot=&quot;label&quot; class=&quot;tabs&quot;&gt; &lt;i class=&quot;el-icon-date&quot;&gt;&lt;/i&gt; 关键词 &lt;/span&gt;&lt;/el-tab-pane&gt; 对于一些弹出框 气泡 tooltip 都需要一个参考(reference)的标签进行提示 实际作用是作为弹出框的position的绝对定位的相对定位(根据此标签进行绝对定位) 123456789&lt;el-popover placement=&quot;top&quot; title=&quot;标题 width=&quot;200&quot; trigger=&quot;hover&quot; content=&quot;展示内容&gt; &lt;i class=&quot;iconfont icon-wenhao&quot; slot=&quot;reference&quot;&gt;&lt;/i&gt;&lt;/el-popover&gt; table表格渲染问题table表格是根据数据源进行渲染,当你需要在请求后再次渲染数据 只需要注意对于数据源的深拷贝就可以让table组件进行再次渲染数据 123456 &lt;CustomTable :dataSources&#x3D;&quot;tableData&quot; :totalNumber&#x3D;&quot;totalNumber&quot; @loadData&#x3D;&quot;handelGetList&quot; v-loading&#x3D;&quot;loading&quot;&#x2F;&gt; 当第一次请求已经得到数据 tableData时,再次发送请求 1234567891011let data = await getData(params)//已经赋值数据，table已渲染this.tableData = data.list;//暂存一下数据let tempArr = data.list;getOtherData(params).then(res=&gt;&#123; tempArr = &#123; ...res, ...tempArr &#125;; //深拷贝的方法，但是只适合数据结构嵌套不深的数据，slice和JSON都可以对数据进行深拷贝 // this.tableData = JSON.parse(JSON.stringify(tempArr)); // this.tableData = tempArr.slice(0, tempArr.length);&#125;) select选择器v-model取值为当前对象当选择的数据需要options选中的label对应的对象数据时，使用value-key 12345678910111213141516171819202122 &lt;el-select v-model&#x3D;&quot;value&quot; placeholder&#x3D;&quot;请选择广告主&quot; value-key&#x3D;&quot;id&quot; &gt; &lt;el-option v-for&#x3D;&quot;item in options&quot; :key&#x3D;&quot;item.id&quot; :label&#x3D;&quot;item.name&quot; :value&#x3D;&quot;item&quot; &gt;&lt;&#x2F;el-option&gt; &lt;&#x2F;el-select&gt;&#x2F;&#x2F;在data中定义options属性，当组件有多个选择器 可以将数据源options抽离&#x2F;&#x2F;使用as可自定义属性名 &#x2F;&#x2F;import * as Options from &quot;@&#x2F;assets&#x2F;OPTIONS&#x2F;options.js&quot;;import &#123;Options&#125; from &quot;@&#x2F;assets&#x2F;OPTIONS&#x2F;options.js&quot;;data()&#123;return &#123; Options &#125;&#125; 当使用select组件的远程搜索且多选时，组件的再次搜索会令前面的组件显示为value实际id 使用reduce保存旧值1234567891011121314151617181920212223242526272829303132333435363738394041424344&lt;el-select v-model=&quot;data&quot; multiple filterable clearable remote reserve-keyword value-key=&quot;id&quot; placeholder=&quot;请输入搜索词&quot; :remote-method=&quot;remoteMethod&quot;&gt; &lt;el-option v-for=&quot;item in options&quot; :key=&quot;item.id&quot; :label=&quot;item.name&quot; :value=&quot;item&quot; &gt; &lt;span style=&quot;float:left&quot;&gt;&#123;&#123;item.name&#125;&#125;&lt;/span&gt; &lt;/el-option&gt;&lt;/el-select&gt; methods: &#123; async remoteMethod(query) &#123; if (query !== &quot;&quot;) &#123; let params = &#123; name: query &#125;; let query = await QueryData(params).then(res =&gt; &#123; return res; &#125;); var TempObj = &#123;&#125;; this.options = [...query, ...this.data].reduce( (item, next) =&gt; &#123; TempObj[next.id] ? &quot;&quot; : (TempObj[next.id] = true &amp;&amp; item.push(next)); return item; &#125;, [] ); &#125; else &#123; this.options = []; &#125; &#125;, &#125; form表单el-input 使用 回车键会刷新页面的问题 当el-form内只存在一个el-input时，在输入框内回车会自动触发页面提交功能，产生刷新页面行为，需要阻止当前行为; 解决方法：el-form添加@submit.native.prevent阻止表单提交的默认行为 1 表单验证规则12345678910111213141516171819202122&lt;el-form :model&#x3D;&quot;Form&quot; :rules&#x3D;&quot;rules&quot; ref&#x3D;&quot;Form&quot; label-width&#x3D;&quot;150px&quot; v-loading&#x3D;&quot;loading&quot;&gt; &lt;el-form-item label&#x3D;&quot;显示名&quot; prop&#x3D;&quot;data.key&quot; class&#x3D;&quot;custom&quot;&gt; &lt;el-select v-model&#x3D;&quot;value&quot; placeholder&#x3D;&quot;请选择广告主&quot; value-key&#x3D;&quot;id&quot; &gt; &lt;el-option v-for&#x3D;&quot;item in options&quot; :key&#x3D;&quot;item.id&quot; :label&#x3D;&quot;item.name&quot; :value&#x3D;&quot;item&quot; &gt;&lt;&#x2F;el-option&gt; &lt;&#x2F;el-select&gt; &lt;&#x2F;el-form-item&gt;&lt;&#x2F;el-form&gt; 当表单是动态加载时或验证的属性时数组对象时 1234567891011121314151617181920212223242526272829303132 &lt;!-- el-form的data属性为obj prop的属性为 obj.content.0 --&gt;&lt;el-form-item :prop=&quot;&#x27;content.&#x27; + index&quot; v-for=&quot;(item, index) in content&quot; :key=&quot;item.id&quot;&gt; &lt;el-row class=&quot;content&quot; :gutter=&quot;20&quot;&gt; &lt;el-col :span=&quot;i.span&quot; v-for=&quot;i in tableHead&quot; :key=&quot;i.key&quot;&gt; &lt;span v-if=&quot;i.key == &#x27;number&#x27;&quot; style=&quot;line-height:32px&quot;&gt;&#123;&#123; index + 1 &#125;&#125;&lt;/span&gt; &lt;!-- el-form-item内的el-form-item需要触发验证规则且提示则需要在:prop=&quot;&#x27;content.&#x27; + index + &#x27;.name&#x27;&quot;--&gt; &lt;!-- rules规则提供验证且validator的value参数为当前输入的表单 obj.content.0.name--&gt; &lt;el-form-item :prop=&quot;&#x27;content.&#x27; + index + &#x27;.name&#x27;&quot; v-else-if=&quot;i.key == &#x27;name&#x27;&quot; :rules=&quot;&#123; required: true, message: &#x27;name&#x27; + $t(&#x27;rule.required&#x27;), trigger: &#x27;blur&#x27; &#125;&quot; &gt; &lt;base-input v-model=&quot;item.name&quot;&gt;&lt;/base-input&gt; &lt;/el-form-item&gt; &lt;el-form-item :prop=&quot;&#x27;content.&#x27; + index + &#x27;.email&#x27;&quot; v-else-if=&quot;i.key == &#x27;email&#x27;&quot; :rules=&quot;&#123; required: true, validator: FormRule.email, trigger: &#x27;blur&#x27; &#125;&quot; &gt; &lt;base-input v-model=&quot;item.email&quot;&gt;&lt;/base-input&gt; &lt;/el-form-item&gt; &lt;/el-col&gt; &lt;/el-row&gt; &lt;/el-form-item&gt; rules.js 1234567891011121314export const rules = &#123; //当from中的数据level为一层 Form：&#123;one：&quot;1&quot;&#125; one：: [&#123; required: true, message: &#x27;请选择&#x27;, trigger: &#x27;change&#x27; &#125;] //当数据为多层时。 Form:&#123;first:&#123;secend:&#x27;1&#x27;&#125;&#125; 需要在el-form-item标签中定义 prop=&quot;first.secend&quot; &quot;first.secend&quot;: [&#123; required: true, message: &#x27;请选择&#x27;, trigger: &#x27;change&#x27; &#125;]&#125; 123如何解决rule验证规则在提示后切换影响其他验证规则(实际是验证规则会在el-form-item标签下生成一个div 提示el-form-item__error 但是在渲染时候v-if判断某个条件时无法再次重渲染)在el-form-item上加入 :key=&quot;ruleskeys&quot; data定义为 ruleskeys：1 其他受影响的加上 :key=&quot;ruleskeys+1&quot;在保证key值不一致的情况下 当v-if判断后会重新渲染 dialog对话框对话框显示隐藏1234567891011&lt;Dialog :visible=&quot;ShowdialogVisible&quot; @hideDialog=&quot;ShowdialogVisible = false&quot;/&gt;//组件内 &lt;el-dialog title=&quot;标题&quot; :visible.sync=&quot;showDialog&quot; width=&quot;500px&quot; @closed=&quot;$emit(&#x27;hideDialog&#x27;)&quot;&gt;&lt;/el-dialog&gt; props: &#123; visible: Boolean, &#125;, data() &#123; return &#123; showDialog: false &#125;; &#125;, vue计算属性实现Table表格模糊搜索（表格数据源不变）12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152&lt;template&gt; &lt;div&gt; &lt;el-input placeholder&#x3D;&quot;请输入名称或ID&quot; v-model&#x3D;&quot;search&quot; class&#x3D;&quot;input-with-select&quot;&gt; &lt;el-button slot&#x3D;&quot;append&quot; icon&#x3D;&quot;el-icon-search&quot;&gt;搜索&lt;&#x2F;el-button&gt; &lt;&#x2F;el-input&gt; &lt;el-table ref&#x3D;&quot;multipleTable&quot; :data&#x3D;&quot;tables&quot; height&#x3D;&quot;280&quot; tooltip-effect&#x3D;&quot;light&quot; row-key&#x3D;&quot;id&quot; &gt; &lt;el-table-column label&#x3D;&quot;名字&quot;&gt; &lt;template slot-scope&#x3D;&quot;scope&quot;&gt; &lt;span&gt;&#123;&#123; scope.row.name &#125;&#125;&lt;&#x2F;span&gt; &lt;&#x2F;template&gt; &lt;&#x2F;el-table-column&gt; &lt;&#x2F;el-table&gt; &lt;&#x2F;div&gt;&lt;&#x2F;template&gt;export default &#123;computed: &#123; &#x2F;&#x2F; 模糊搜索 tables() &#123; const search &#x3D; this.search; if (search) &#123;&#x2F;&#x2F;判断搜索单词是否为空 &#x2F;&#x2F;返回搜索后的数组 return this.tableData.filter(data &#x3D;&gt; &#123; &#x2F;&#x2F;检索数组内的对象每一个键值 &#x2F;&#x2F;当有一个键值indexOf(字符串搜索下标)大于0返回这个对象为true， &#x2F;&#x2F;filter函数判断true则通过对象，false则过滤对象 &#x2F;&#x2F;.toLowerCase().indexOf(search) &gt; -1 不区分大小写 return Object.keys(data).some(key &#x3D;&gt; &#123; return ( String(data[key]) .toLowerCase() .indexOf(search) &gt; -1 ); &#125;); &#125;); &#125; &#x2F;&#x2F;数据为空时返回全部数据 return this.tableData; &#125;&#125;,data() &#123; return &#123; tableData: [&#123;id:0,name:&quot;hello&quot;，id:1,name:&#39;words&#39;&#125;], search: &quot;&quot; &#125;; &#125;,&#125; 计算属性是基于它们的响应式依赖进行缓存的因此，每当search改变时，触发computed-&gt;tables使用filter函数返回一个新的数组赋值到Table表格的data数据源 Cascader 级联选择器 当你配置了props存在disabled 那么在搜索时将不会显示disabled为true 搜索只能是disabled为false","categories":[{"name":"vue","slug":"vue","permalink":"http://wang-z.gitee.io/categories/vue/"}],"tags":[{"name":"vue","slug":"vue","permalink":"http://wang-z.gitee.io/tags/vue/"},{"name":"javascript","slug":"javascript","permalink":"http://wang-z.gitee.io/tags/javascript/"},{"name":"elementUI","slug":"elementUI","permalink":"http://wang-z.gitee.io/tags/elementUI/"}],"author":{"name":"Mr.wang","avatar":"https://wang-z.gitee.io/img/author.jpg"}},{"title":"node-koa2学习笔记","slug":"node-koa2学习笔记","date":"2020-01-18T04:10:56.000Z","updated":"2022-08-01T07:39:07.674Z","comments":true,"path":"2020/01/18/node-koa2学习笔记/","link":"","permalink":"http://wang-z.gitee.io/2020/01/18/node-koa2%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/","excerpt":"记录node-koa2服务器开发中好用的方法和技巧","text":"记录node-koa2服务器开发中好用的方法和技巧 全局处理函数异常 使用中间件对于抛出异常的处理 123456789101112131415161718192021222324252627282930313233343536373839// middlewares\\exception.jsclass HttpException extends Error &#123; constructor(msg = &#x27;服务器错误&#x27;, errorCode = 10000, code = 400) &#123; super() this.errorCode = errorCode this.code = code this.msg = msg &#125;&#125;//const &#123; HttpException &#125; = require(&#x27;../core/http-exception&#x27;)// 统一处理异常中间件const catchError = async (ctx, next) =&gt; &#123; try &#123; await next() &#125; catch (error) &#123; // 不是 HttpException 的情况下且在开发环境，错误抛出 const isHttpException = error instanceof HttpException const isDev = global.config.environment === &#x27;dev&#x27; if (isDev &amp;&amp; !isHttpException) &#123; throw error &#125; if (isHttpException) &#123; ctx.body = &#123; msg: error.msg, error_code: error.errorCode, request: `$&#123;ctx.method&#125; $&#123;ctx.path&#125;`, &#125; ctx.status = error.code &#125; else &#123; ctx.body = &#123; msg: &#x27;抱歉，未知的错误&#x27;, error_code: 999, request: `$&#123;ctx.method&#125; $&#123;ctx.path&#125;`, &#125; ctx.status = 500 &#125; &#125;&#125;module.exports = catchError 中间件注册app.js 123456const Koa = require(&#x27;koa&#x27;)const catchError = require(&#x27;./middlewares/exception&#x27;)const app = new Koa()//全局异常处理放在所有中间件最顶层app.use(catchError)app.listen(10086)","categories":[{"name":"node","slug":"node","permalink":"http://wang-z.gitee.io/categories/node/"}],"tags":[{"name":"javascript","slug":"javascript","permalink":"http://wang-z.gitee.io/tags/javascript/"},{"name":"node","slug":"node","permalink":"http://wang-z.gitee.io/tags/node/"},{"name":"koa2","slug":"koa2","permalink":"http://wang-z.gitee.io/tags/koa2/"}],"author":{"name":"Mr.wang","avatar":"https://wang-z.gitee.io/img/author.jpg"}},{"title":"JavaScript的变量以及数据类型","slug":"js-变量和js类型的理解","date":"2020-01-09T01:24:56.000Z","updated":"2022-08-01T07:39:07.662Z","comments":true,"path":"2020/01/09/js-变量和js类型的理解/","link":"","permalink":"http://wang-z.gitee.io/2020/01/09/js-%E5%8F%98%E9%87%8F%E5%92%8Cjs%E7%B1%BB%E5%9E%8B%E7%9A%84%E7%90%86%E8%A7%A3/","excerpt":"JavaScript数据类型的区别，转换，隐藏bug","text":"JavaScript数据类型的区别，转换，隐藏bug 一、JavaScript数据类型ECMAScript标准规定了7种数据类型，其把这7种数据类型又分为两种：原始类型和对象类型。 原始类型 Null：只包含一个值：null Undefined：只包含一个值：undefined Boolean：包含两个值：true和false Number：整数或浮点数，还有一些特殊值（-Infinity、+Infinity、NaN） String：一串表示文本值的字符序列 Symbol：一种实例是唯一且不可改变的数据类型 (在es10中加入了第七种原始类型BigInt，现已被最新Chrome支持) 对象类型 Object：自己分一类丝毫不过分，除了常用的Object，Array、Function等都属于特殊的对象 区分原始类型和对象类型 - 不可变性 原始类型存放在栈空间中，而复杂类型存放在堆空间中 栈内存： 存储的值大小固定 空间较小 可以直接操作其保存的变量，运行效率高 由系统自动分配存储空间 堆内存： 存储的值大小不定，可动态调整 空间较大，运行效率低 无法直接操作其内部存储，使用引用地址读取 通过代码进行分配空间 字符串 具备不可变性不管是字符串的裁切splice 还是 toLowerCase 都是在原有的基础上产生新的字符串 JavaScript中的原始类型的值被直接存储在栈中，在变量定义时，栈就为其分配好了内存空间。 由于栈中的内存空间的大小是固定的，那么注定了存储在栈中的变量就是不可变的 对象 具备可变性引用类型的值实际存储在堆内存中，它在栈中只存储了一个固定长度的地址，这个地址指向堆内存中的值。 数组 是一个复杂（引用）类型 通过一些api可以改变数组 pop() 删除数组最后一个元素，如果数组为空，则不改变数组，返回undefined，改变原数组，返回被删除的元素 push()向数组末尾添加一个或多个元素，改变原数组，返回新数组的长度 shift()把数组的第一个元素删除，若空数组，不进行任何操作，返回undefined,改变原数组，返回第一个元素的值 unshift()向数组的开头添加一个或多个元素，改变原数组，返回新数组的长度 reverse()颠倒数组中元素的顺序，改变原数组，返回该数组 sort()对数组元素进行排序，改变原数组，返回该数组 splice()从数组中添加/删除项目，改变原数组，返回被删除的元素 当我们进行复制时两者有着本质的区别 这里涉及到浅拷贝和深拷贝—本质是复制时是否改变复制的对象的数值或属性或方法 原始类型12345var name = &#x27;wang&#x27;;var newName = name;newName = &#x27;Mr.wang&#x27;;console.log(name) // =&gt;wangconsole.log(newName) // =&gt;Mr.wang 内存中有一个变量name，值为wang。我们从变量name复制出一个变量newName，此时在内存中创建了一个块新的空间用于存储wang，虽然两者值是相同的，但是两者指向的内存空间完全不同，这两个变量参与任何操作都互不影响。 引用类型12345var obj = &#123;name:&#x27;wang&#x27;&#125;;var newObj = obj;newObj.name = &#x27;Mr.wang&#x27;;console.log(obj.name) //=&gt; Mr.wangconsole.log(newObj.name)//=&gt; Mr.wang 当我们复制引用类型的变量时，实际上复制的是栈中存储的地址，所以复制出来的newObj实际上和obj指向的堆中同一个对象。因此，我们改变其中任何一个变量的值，另一个变量都会受到影响，这就是为什么会有深拷贝和浅拷贝的原因。 原始类型和引用类型的比较原始类型，比较时会直接比较它们的值，如果值相等，即返回true。 引用类型，比较时会比较它们的引用地址，虽然两个变量在堆中存储的对象具有的属性值都是相等的，但是它们被存储在了不同的存储空间，因此比较值为false。 区分null和undefinednull 表示被赋值过的对象，刻意把一个对象赋值为null，故意表示其为空，不应有值。 所以对象的某个属性值为null是正常的，null转换为数值时值为0。 undefined 表示“缺少值”，即此处应有一个值，但还没有定义， 如果一个对象的某个属性值为undefined，这是不正常的，如obj.name=undefined，我们不应该这样写，应该直接delete obj.name。 undefined转为数值时为NaN(非数字值的特殊值) JavaScript是一门动态类型语言，成员除了表示存在的空值外，还有可能根本就不存在（因为存不存在只在运行期才知道），这就是undefined的意义所在。对于JAVA这种强类型语言，如果有&quot;undefined&quot;这种情况，就会直接编译失败，所以在它不需要一个这样的类型。 你想不到的0.1+0.2≠0.3 本质是：由于数字在js中的计算是先转换为二进制在进行计算的，然后以十进制输出（大部分语言都有这个问题，是cpu计算二进制的问题） 12345678910111213141516171819202122232425262728function judgeFloat(n, m) &#123; const binaryN = n.toString(2); const binaryM = m.toString(2); console.log(`$&#123;n&#125;的二进制是 $&#123;binaryN&#125;`); console.log(`$&#123;m&#125;的二进制是 $&#123;binaryM&#125;`); const MN = m + n; const accuracyMN = (m * 100 + n * 100) / 100; const binaryMN = MN.toString(2); const accuracyBinaryMN = accuracyMN.toString(2); console.log(`$&#123;n&#125;+$&#123;m&#125;的二进制是$&#123;binaryMN&#125;`); console.log(`$&#123;accuracyMN&#125;的二进制是 $&#123;accuracyBinaryMN&#125;`); console.log(`$&#123;n&#125;+$&#123;m&#125;的二进制再转成十进制是$&#123;to10(binaryMN)&#125;`); console.log(`$&#123;accuracyMN&#125;的二进制是再转成十进制是$&#123;to10(accuracyBinaryMN)&#125;`); console.log(`$&#123;n&#125;+$&#123;m&#125;在js中计算是$&#123;(to10(binaryMN) === to10(accuracyBinaryMN)) ? &#x27;&#x27; : &#x27;不&#x27;&#125;准确的`); &#125; function to10(n) &#123; const pre = (n.split(&#x27;.&#x27;)[0] - 0).toString(2); const arr = n.split(&#x27;.&#x27;)[1].split(&#x27;&#x27;); let i = 0; let result = 0; while (i &lt; arr.length) &#123; result += arr[i] * Math.pow(2, -(i + 1)); i++; &#125; return result; &#125; judgeFloat(0.1, 0.2); judgeFloat(0.6, 0.7); 计算机中所有的数据都是以二进制存储的，所以在计算时计算机要把数据先转换成二进制进行计算，然后在把计算结果转换成十进制。 由上面的代码不难看出，在计算0.1+0.2时，二进制计算发生了精度丢失，导致再转换成十进制后和预计的结果不符。 隐式转换 if语句和逻辑语句在if语句和逻辑语句中，如果只有单个变量，会先将变量转换为Boolean值，只有下面几种情况会转换成false，其余被转换成true： 1234567nullundefined&#39;&#39;NaN0false 各种运数学算符我们在对各种非Number类型运用数学运算符(- * /)时，会先将非Number类型转换为Number类型; 123451 - true &#x2F;&#x2F; 01 - null &#x2F;&#x2F; 11 * undefined &#x2F;&#x2F; NaN2 * [&#39;5&#39;] &#x2F;&#x2F; 10 注意+是个例外，执行+操作符时： 1.当一侧为String类型，被识别为字符串拼接，并会优先将另一侧转换为字符串类型。 2.当一侧为Number类型，另一侧为原始类型，则将原始类型转换为Number类型。 3.当一侧为Number类型，另一侧为引用类型，将引用类型和Number类型转换成字符串后拼接。 12345123 + &#39;123&#39; &#x2F;&#x2F; 123123 （规则1）123 + null &#x2F;&#x2F; 123 （规则2）123 + true &#x2F;&#x2F; 124 （规则2）123 + &#123;&#125; &#x2F;&#x2F; 123[object Object] （规则3） == 运算符使用==时，若两侧类型相同，则比较结果和===相同，否则会发生隐式转换，使用==时发生的转换可以分为几种不同的情况（只考虑两侧类型不同）： 1.NaN NaN和其他任何类型比较永远返回false(包括和他自己)。 12NaN &#x3D;&#x3D; NaN &#x2F;&#x2F; false 2.Boolean Boolean和其他任何类型比较，Boolean首先被转换为Number类型。 12345true &#x3D;&#x3D; 1 &#x2F;&#x2F; true true &#x3D;&#x3D; &#39;2&#39; &#x2F;&#x2F; falsetrue &#x3D;&#x3D; [&#39;1&#39;] &#x2F;&#x2F; truetrue &#x3D;&#x3D; [&#39;2&#39;] &#x2F;&#x2F; false 这里注意一个可能会弄混的点：undefined、null和Boolean比较，虽然undefined、null和false都很容易被想象成假值，但是他们比较结果是false，原因是false首先被转换成0： 123undefined &#x3D;&#x3D; false &#x2F;&#x2F; falsenull &#x3D;&#x3D; false &#x2F;&#x2F; false 3.String和Number String和Number比较，先将String转换为Number类型。 123123 &#x3D;&#x3D; &#39;123&#39; &#x2F;&#x2F; true&#39;&#39; &#x3D;&#x3D; 0 &#x2F;&#x2F; true 4.null和undefined null == undefined比较结果是true，除此之外，null、undefined和其他任何结果的比较值都为false。 1234567null &#x3D;&#x3D; undefined &#x2F;&#x2F; truenull &#x3D;&#x3D; &#39;&#39; &#x2F;&#x2F; falsenull &#x3D;&#x3D; 0 &#x2F;&#x2F; falsenull &#x3D;&#x3D; false &#x2F;&#x2F; falseundefined &#x3D;&#x3D; &#39;&#39; &#x2F;&#x2F; falseundefined &#x3D;&#x3D; 0 &#x2F;&#x2F; falseundefined &#x3D;&#x3D; false &#x2F;&#x2F; false 5.原始类型和引用类型 当原始类型和引用类型做比较时，对象类型会依照ToPrimitive规则转换为原始类型: 123&#39;[object Object]&#39; &#x3D;&#x3D; &#123;&#125; &#x2F;&#x2F; true&#39;1,2,3&#39; &#x3D;&#x3D; [1, 2, 3] &#x2F;&#x2F; true 来看看下面这个比较： 12[] &#x3D;&#x3D; ![] &#x2F;&#x2F; true !的优先级高于==，![]首先会被转换为false，然后根据上面第三点，false转换成Number类型0，左侧[]转换为0，两侧比较相等。 123[null] &#x3D;&#x3D; false &#x2F;&#x2F; true[undefined] &#x3D;&#x3D; false &#x2F;&#x2F; true 根据数组的ToPrimitive规则，数组元素为null或undefined时，该元素被当做空字符串处理，所以[null]、[undefined]都会被转换为0。 原型链的规则 1.所有引用类型都具有对象特性，即可以自由扩展属性 2.所有引用类型都具有一个proto（隐式原型）属性，是一个普通对象 3.所有的函数都具有prototype（显式原型）属性，也是一个普通对象 4.所有引用类型proto值指向它构造函数的prototype 5.当试图得到一个对象的属性时，如果变量本身没有这个属性，则会去他的proto中去找 toString上面我们在拆箱操作中提到了toString函数，我们可以调用它实现从引用类型的转换。 每一个引用类型都有toString方法，默认情况下，toString()方法被每个Object对象继承。如果此方法在自定义对象中未被覆盖，toString() 返回 &quot;[object type]&quot;，其中type是对象的类型。 0.11加上0.1不等于0.1解决方法 1parseFloat((prev + curr).toFixed(2)) JavaScript怎么把两个数组里的多个对象一一对应合并？123456789101112131415161718192021222324252627var obj1 = [&#123; &quot;id&quot;: 980550455852, &quot;model&quot;: &quot;XQG70-S1208FW&quot;, &quot;color&quot;: &quot;白&quot;, &quot;invStatusName&quot;: &quot;正品&quot;, &quot;bactualQty&quot;: 10947, &quot;brealyQty&quot;: 11000, &quot;bavailQty&quot;: 53&#125;, &#123; &quot;id&quot;: 980550566221, &quot;model&quot;: &quot;XQB70-C3006&quot;, &quot;color&quot;: &quot;灰&quot;, &quot;invStatusName&quot;: &quot;正品&quot;, &quot;bactualQty&quot;: 11, &quot;brealyQty&quot;: 6, &quot;bavailQty&quot;: -5&#125;];var obj2 = [&#123; &quot;price&quot;: &quot;6666&quot;&#125;, &#123; &quot;price&quot;: &quot;8888&quot;&#125;];var obj = obj1.map((item,index) =&gt; &#123; return &#123;...item, ...obj2[index]&#125;;&#125;);console.log(obj); //","categories":[{"name":"javascript","slug":"javascript","permalink":"http://wang-z.gitee.io/categories/javascript/"}],"tags":[{"name":"javascript","slug":"javascript","permalink":"http://wang-z.gitee.io/tags/javascript/"}],"author":{"name":"Mr.wang","avatar":"https://wang-z.gitee.io/img/author.jpg"}},{"title":"前端开发必备插件","slug":"base-前端开发必备插件","date":"2020-01-01T00:30:52.000Z","updated":"2022-08-01T07:39:07.653Z","comments":true,"path":"2020/01/01/base-前端开发必备插件/","link":"","permalink":"http://wang-z.gitee.io/2020/01/01/base-%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91%E5%BF%85%E5%A4%87%E6%8F%92%E4%BB%B6/","excerpt":"前端开发vscode的必备插件配置","text":"前端开发vscode的必备插件配置 vscode插件 Ide中文界面 1Chinese (Simplified) Language Pack for Visual Studio Code 合并标签 在修改标签名时，能在你修改开始（结束）标签的时候修改对应的结束（开始）标签，帮你减少 50% 的击键； 1Auto Rename Tag 快速的生成html标签 1HTML Snippets 路径自动补齐 1Path Autocomplete 在浏览器中打开网页 1Open-In-Browser 检测JS必备 1ESLint 给项目文件夹前边加上icon 1vscode-icon Vue多功能集成插件，包括：语法高亮，智能提示，emmet，错误提示，格式化，自动补全，debugger。vscode官方钦定Vue插件，Vue开发者必备 1Vetur 让 html 标签上写class 智能提示当前项目所支持的样式 1HTML CSS Support 格式化代码的工具 1beautify 丰富的git日志插件 1GitLens 能够查看CSS ID和类的字符串作为HTML文件中相应的CSS定义 1css peek 在底部状态栏显示当前文件大小，点击后还可以看到详细创建、修改时间 1filesize vue代码片段 1VueHelper 无需离开编辑器，便可以打开 SVG 文件并查看它们 1Svg Preview 自动导入包 1Auto import 括号着色器 1Bracket Pair Colorizer 1 1","categories":[{"name":"base","slug":"base","permalink":"http://wang-z.gitee.io/categories/base/"}],"tags":[{"name":"vue","slug":"vue","permalink":"http://wang-z.gitee.io/tags/vue/"},{"name":"vsc","slug":"vsc","permalink":"http://wang-z.gitee.io/tags/vsc/"}],"author":{"name":"Mr.wang","avatar":"https://wang-z.gitee.io/img/author.jpg"}},{"title":"实用css笔记","slug":"css-实用css笔记","date":"2019-12-31T16:10:56.000Z","updated":"2022-08-01T07:39:07.656Z","comments":true,"path":"2020/01/01/css-实用css笔记/","link":"","permalink":"http://wang-z.gitee.io/2020/01/01/css-%E5%AE%9E%E7%94%A8css%E7%AC%94%E8%AE%B0/","excerpt":"记录开发过程中的css,less使用","text":"记录开发过程中的css,less使用 如何清除浮动清除浮动主要为了解决父级元素因为子级浮动引起内部高度为0 的问题。 父级添加overflow属性方法可以通过触发BFC的方式，可以实现清除浮动效果。 使用after伪元素清除浮动12345678.clearfix:after &#123; content: &quot;&quot;; display: block; height: 0; clear: both; visibility: hidden;&#125; .clearfix &#123;*zoom: 1;&#125; /* IE6、7 专有 */ 使用before和after双伪元素清除浮动12345678910.clearfix:before,.clearfix:after &#123; content:&quot;&quot;; display:table; /* 这句话可以触发BFC BFC可以清除浮动 */&#125;.clearfix:after &#123; clear:both;&#125;.clearfix &#123; *zoom:1;&#125; css英文单词不断开1234word-break: break-all;word-wrap: break-word;//英文 word-break: keep-all;//保持英文单词完整white-space: pre-wrap;//中文 移动端 100vh 问题 在移动端使用 100vh 时，发现在 Chrome、Safari 浏览器中，因为浏览器栏和一些导航栏、链接栏导致不一样的呈现： 你以为的 100vh === 视口高度 实际上 100vh === 视口高度 + 浏览器工具栏（地址栏等等）的高度 解决方案 安装 vh-check npm install vh-check --save 12import vhCheck from &#x27;vh-check&#x27;;vhCheck(&#x27;browser-address-bar&#x27;); 定义一个 LESS Mixin 1234.vh(@height: 100vh) &#123; height: @height; height: calc(@height - var(--browser-address-bar, 0px));&#125; 媒体查询 区分设备类型 123all (所有的设备)print (打印设备)screen (电脑屏幕,平板电脑,智能手机) 特性 12345width网页显示区域完全等于设置的宽度height网页显示区域完全等于设置的高度max-width / max-height网页显示区域小于等于设置的宽度min-width / min-width网页显示区域大于等于设置的宽度orientation: portrait (竖屏模式) | landscape (横屏模式) 关键字 123and 可以将多个媒体特性链接到一块,相当于且not 排除某个媒体特性 相当于非,可以省略only 指定某个特定的媒体类型, 可以省略 语法 123456789101112//外联样式&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;01.css&quot; media=&quot;only screen and (max-width: 420px)&quot;&gt;//内联样式 - 内嵌式语法 @media only screen and (max-width: 420px) &#123; body &#123; background-color: red; &#125; &#125;//多个条件联写@media only screen and (width: 320px) and (height: 568px) &#123;&#125;@media only screen and (min-width:400px) and (max-width:600px)&#123;&#125; 浏览器查询Unicode编码 浏览器控制台输出 escape(‘查询字符串’) lessless中的变量12345678910111213/*如何定义@变量名=变量值如何使用在样式中属性:变量名例子定义*/@color=#f00；/*使用*/a&#123;color:color;background:color;&#125; less的循环 ，使用递归123456789101112.box1&#123; border-bottom:10px solid #ccc;&#125;.box2&#123; border-bottom:20px solid #ccc;&#125;.box3&#123; border-bottom:30px solid #ccc;&#125;.box4&#123; border-bottom:40px solid #ccc;&#125; 1234567.loop(@cout)when(@cout&gt;0)&#123; .loop((@cout-1)) .box@&#123;cout&#125;&#123; border-bottom:@cout+0px solid #ccc; &#125;&#125;.loop(3) 原生css的声明变量1234567891011121314151617/*声明变量 使用 -- 关键字调用变量 使用 var() 函数*/a&#123; --color: red; /* 使用变量 必须放在var函数内 */ background-color: var(--color);&#125;var(--变量名,参数) div &#123; height: 500px; /* 默认参数 200px */ padding-top: var(--padding-top,200px); /* 默认参数 10px solid red */ border: var(--border, 10px solid red); /* 默认参数 linear-gradient(yellow,red) */ background-image: var(--img,linear-gradient(yellow,red)); &#125; css的计算（calc）123div&#123; height:calc(100px*90)&#125; 将超出的文本以…的方式缩减123456789.line2 &#123; display: -webkit-box; overflow: hidden; white-space: normal!important; text-overflow: ellipsis; word-wrap: break-word; -webkit-line-clamp: 2; -webkit-box-orient: vertical&#125; flex弹性布局子元素居中12345div&#123; display:flex; justify-content:center; align-content:center;&#125; 使用:not()选择器123ul&gt;li:not(last-child)&#123; border-right: 1px solid #666;&#125; not()是可以令最后一项li不加右边框，表示否定 使用伪类+content+position+transform实现文字或者图形的样式 1234567891011121314/*文字实现 ° 度数单位*/ div &#123; width: 150px; height: 30px; border: 1px solid #000; position: relative; &#125;div::after &#123; content: &#x27;°&#x27;; position: absolute; top: 0; right: 10px; &#125; bing.com搜索的国际版按钮的布局1234567891011121314151617181920212223242526272829303132333435363738394041424344&lt;style&gt;span &#123; width: 82px; height: 36px; display: block; position: relative; margin-right: 8px; cursor: pointer;&#125;span i &#123; position: absolute; z-index: 2; display: block; width: 100%; height: 100%; line-height: 30px; text-align: center; color: #fff;&#125;span::after &#123; position: absolute; left: 0; top: 0; display: block; content: &quot;&quot;; width: 100%; height: 100%; border: 1px rgba(255, 255, 255, 0.2) solid; border-bottom: none; transform: scale(1.1, 1.3) perspective(0.7em) rotateX(2.2deg); /*重点*/ transform-origin: bottom left; background: rgba(0, 0, 0, 0.5); border-radius: 1px 2px 0 0; box-sizing: border-box;&#125;&lt;/style&gt;&lt;body&gt; &lt;span&gt; &lt;i&gt;国际版&lt;/i&gt; &lt;/span&gt;&lt;/body&gt; 使用overflow-x排版横向列表1overflow-x:auto 说明：通过flexbox或inline-block的形式横向排列子元素，对父元素设置overflow-x:auto横向滚动查看，或者设置overflow-x:auto 纵向滚动条一般用于商品分类 使用letter-spacing排版倒序文本1letter-spacing:-10px 说明：通过letter-spacing设置负值字体间距将文本倒序 使用::selection改变文本选择颜色123.demo::selection&#123; background-color: green;&#125; 说明：可以让你选择的文字设置单独的css样式 css禁用鼠标事件12345.disabled &#123; pointer-events: none; cursor: default; opacity: 0.6;&#125; css字体不让选中 class样式添加以下： 12345678910div&#123;-webkit-user-select:none; -moz-user-select:none; -ms-user-select:none; user-select:none;&#125; css之滚动条当设置这两个属性时，只允许Y轴滚动（纵向） 12overflow: scroll;overflow-x: hidden; 自定义滚动条的css12345678910111213141516/*定义滚动条高宽及背景 高宽分别对应横竖滚动条的尺寸*/ html::-webkit-scrollbar &#123; width: 10px; height: 5px; background:#ccc;&#125;/*定义滑块 内阴影+圆角*/ html::-webkit-scrollbar-thumb &#123; background: #ccc; border-radius: 30px; box-shadow: inset 2px 2px 2px hsla(0,0%,100%,.25), inset -2px -2px 2px rgba(0,0,0,.25);&#125;/*定义滚动条轨道 内阴影+圆角*/ html::-webkit-scrollbar-track &#123; background: #fff;&#125; Flexible的使用目前Flexible会将视觉稿分成**100份**（主要为了以后能更好的兼容vh和vw），而每一份被称为一个单位a。同时1rem单位被认定为10a。针对我们这份视觉稿可以计算出： 121a = 7.5px1rem = 75p 所有的下载插件都可以在文件-&gt;首选项-&gt;设置进行修改 某些插件需要重启才能进行使用 sroll-snap-type这个属性规定了一个容器是否对内部滚动动作进行捕捉，并且规定了如何去处理滚动结束状态。 mandatory：强制性强制使滚动条停止在scroll-snap-align:设定的位置 scroll-snap-type: x mandatory;对于X轴的捕捉控制，scroll-snap-align: center;强制使li回到中间 proximity 接近、临近、大约 滚动结束后可能还在原来的地方，也可能额外滚动 scroll-snap-margin/scroll-snap-padding 可以设定margin padding 进行控制，滚动条的盒子属性 scroll-snap-type: both mandatory 对于X和Y轴同时可进行滚动 scroll-snap-align: start | center | end; 子元素相对于父元素的对其方式 12345&lt;ul&gt; &lt;li&gt;1&lt;/li&gt; &lt;li&gt;2&lt;/li&gt; &lt;li&gt;3&lt;/li&gt;&lt;/ul&gt; 1234567ul &#123; scroll-snap-type: x mandatory;&#125;li &#123; scroll-snap-align: center;&#125;","categories":[{"name":"css","slug":"css","permalink":"http://wang-z.gitee.io/categories/css/"}],"tags":[{"name":"javascript","slug":"javascript","permalink":"http://wang-z.gitee.io/tags/javascript/"},{"name":"css","slug":"css","permalink":"http://wang-z.gitee.io/tags/css/"}],"author":{"name":"Mr.wang","avatar":"https://wang-z.gitee.io/img/author.jpg"}},{"title":"防抖和节流的使用","slug":"js-防抖和节流","date":"2019-12-11T03:11:11.000Z","updated":"2022-08-01T07:39:07.674Z","comments":true,"path":"2019/12/11/js-防抖和节流/","link":"","permalink":"http://wang-z.gitee.io/2019/12/11/js-%E9%98%B2%E6%8A%96%E5%92%8C%E8%8A%82%E6%B5%81/","excerpt":"js的防抖和节流函数的介绍和使用","text":"js的防抖和节流函数的介绍和使用 函数防抖（debounce） 所谓防抖，就是指触发事件后在 n 秒内函数只能执行一次，如果在 n 秒内又触发了事件，则会重新计算函数执行时间。 1234567let timeout = nullexport const debounce = (func, delay) =&gt; &#123; //如果定时器不等于null就清除定时器 if (timeout !== null) clearTimeout(timeout) //设置定时器延时执行函数 timeout = setTimeout(func, delay)//如果在这个delay时间内执行了setTimeout，否者就会被下一个执行所清除，这样就是一个接一个进行执行，但是只执行最后一个&#125; 函数节流(Throttle) 所谓节流，就是指连续触发事件但是在 n 秒中只执行一次函数。节流会稀释函数的执行频。就相当于，一个水龙头在滴水，可能一次性会滴很多滴，但是我们只希望它每隔 500ms 滴一滴水，保持这个频率。即我们希望函数在以一个可以接受的频率重复调用。 时间戳方式1234567891011121314151617181920212223const throttle = (func, ms = 200) =&gt; &#123; let prev = new Date().getTime() return function(...args) &#123; let now = new Date().getTime() if (now - prev &gt;= ms) &#123; func() prev = now &#125; &#125;&#125;const throttle(fn,wait)=&gt;&#123; var pre = Date.now(); return function()&#123; var context = this; var args = arguments; var now = Date.now(); if( now - pre &gt;= wait)&#123; fn.apply(context,args); pre = Date.now(); &#125; &#125;&#125; 定时器方式12345678910111213const throttle(fn,wait)=&gt;&#123; var timer = null; return function()&#123; var context = this; var args = arguments; if(!timer)&#123; timer = setTimeout(function()&#123; fn.apply(context,args); timer = null; &#125;,wait) &#125; &#125;&#125;","categories":[{"name":"javascript","slug":"javascript","permalink":"http://wang-z.gitee.io/categories/javascript/"}],"tags":[{"name":"vue","slug":"vue","permalink":"http://wang-z.gitee.io/tags/vue/"},{"name":"javascript","slug":"javascript","permalink":"http://wang-z.gitee.io/tags/javascript/"}],"author":{"name":"Mr.wang","avatar":"https://wang-z.gitee.io/img/author.jpg"}},{"title":"node学习笔记","slug":"node-学习笔记","date":"2019-12-07T04:10:56.000Z","updated":"2022-08-01T07:39:07.676Z","comments":true,"path":"2019/12/07/node-学习笔记/","link":"","permalink":"http://wang-z.gitee.io/2019/12/07/node-%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/","excerpt":"记录 node 开发中好用的方法和技巧","text":"记录 node 开发中好用的方法和技巧 node 的跨域解决123456789101112131415app.all(&quot;*&quot;, function (req, res, next) &#123; res.header(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;); res.header( &quot;Access-Control-Allow-Headers&quot;, &quot;Content-Type, Content-Length, Authorization, Accept, X-Requested-With , yourHeaderFeild&quot; ); res.header(&quot;Access-Control-Allow-Methods&quot;, &quot;PUT, POST, GET, DELETE, OPTIONS&quot;); if (req.method == &quot;OPTIONS&quot;) &#123; res.send(200); /让options请求快速返回/; &#125; else &#123; next(); &#125;&#125;); 获取本地 IP123456789101112function getIPAdress() &#123; var interfaces = require(&quot;os&quot;).networkInterfaces(); for (var devName in interfaces) &#123; var iface = interfaces[devName]; for (var i = 0; i &lt; iface.length; i++) &#123; var alias = iface[i]; if (alias.family === &quot;IPv4&quot; &amp;&amp; alias.address !== &quot;127.0.0.1&quot; &amp;&amp; !alias.internal) &#123; return alias.address; &#125; &#125; &#125;&#125; 自动导入 API 基于 koa and koa-router 使用场景 123456789const Router = require(&quot;Koa-router&quot;);const requireDirectory = require(&quot;require-directory&quot;);requireDirectory(modele, &quot;./api&quot;, &#123; visit: (obj) =&gt; &#123; if (obj instanceof Router) &#123; app.use(obj.routes()); &#125; &#125;&#125;); Node 环境变量1process.cwd(); //当前项目的绝对路径","categories":[{"name":"node","slug":"node","permalink":"http://wang-z.gitee.io/categories/node/"}],"tags":[{"name":"javascript","slug":"javascript","permalink":"http://wang-z.gitee.io/tags/javascript/"},{"name":"node","slug":"node","permalink":"http://wang-z.gitee.io/tags/node/"},{"name":"http","slug":"http","permalink":"http://wang-z.gitee.io/tags/http/"}],"author":{"name":"Mr.wang","avatar":"https://wang-z.gitee.io/img/author.jpg"}},{"title":"前端常用rule验证规则","slug":"vue-常用rule验证规则","date":"2019-11-24T03:00:56.000Z","updated":"2022-08-01T07:39:07.705Z","comments":true,"path":"2019/11/24/vue-常用rule验证规则/","link":"","permalink":"http://wang-z.gitee.io/2019/11/24/vue-%E5%B8%B8%E7%94%A8rule%E9%AA%8C%E8%AF%81%E8%A7%84%E5%88%99/","excerpt":"网上搜索的常见表单验证","text":"网上搜索的常见表单验证 前提 在 vue开发中，难免遇到各种表单校验，这里整理了网络上和自己平时高频率用到的一些校验方法。如果错误欢迎指出，后期不断补充更新。 1、是否合法IP地址123456789101112export function validateIP(rule, value,callback) &#123; if(value==&#x27;&#x27;||value==undefined||value==null)&#123; callback(); &#125;else &#123; const reg = /^(\\d&#123;1,2&#125;|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d&#123;1,2&#125;|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d&#123;1,2&#125;|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d&#123;1,2&#125;|1\\d\\d|2[0-4]\\d|25[0-5])$/; if ((!reg.test(value)) &amp;&amp; value != &#x27;&#x27;) &#123; callback(new Error(&#x27;请输入正确的IP地址&#x27;)); &#125; else &#123; callback(); &#125; &#125;&#125; 2、是否手机号码或者固话123456789101112export function validatePhoneTwo(rule, value, callback) &#123; const reg = /^((0\\d&#123;2,3&#125;-\\d&#123;7,8&#125;)|(1[34578]\\d&#123;9&#125;))$/;; if (value == &#x27;&#x27; || value == undefined || value == null) &#123; callback(); &#125; else &#123; if ((!reg.test(value)) &amp;&amp; value != &#x27;&#x27;) &#123; callback(new Error(&#x27;请输入正确的电话号码或者固话号码&#x27;)); &#125; else &#123; callback(); &#125; &#125;&#125; 3、是否固话123456789101112export function validateTelphone(rule, value,callback) &#123; const reg =/0\\d&#123;2,3&#125;-\\d&#123;7,8&#125;/; if(value==&#x27;&#x27;||value==undefined||value==null)&#123; callback(); &#125;else &#123; if ((!reg.test(value)) &amp;&amp; value != &#x27;&#x27;) &#123; callback(new Error(&#x27;请输入正确的固定电话）&#x27;)); &#125; else &#123; callback(); &#125; &#125;&#125; 4、是否手机号码123456789101112export function validatePhone(rule, value,callback) &#123; const reg =/^[1][3-9][0-9]&#123;9&#125;$/; if(value==&#x27;&#x27;||value==undefined||value==null)&#123; callback(); &#125;else &#123; if ((!reg.test(value)) &amp;&amp; value != &#x27;&#x27;) &#123; callback(new Error(&#x27;请输入正确的电话号码&#x27;)); &#125; else &#123; callback(); &#125; &#125;&#125; 5、是否身份证号码123456789101112export function validateIdNo(rule, value,callback) &#123; const reg = /(^\\d&#123;15&#125;$)|(^\\d&#123;18&#125;$)|(^\\d&#123;17&#125;(\\d|X|x)$)/; if(value==&#x27;&#x27;||value==undefined||value==null)&#123; callback(); &#125;else &#123; if ((!reg.test(value)) &amp;&amp; value != &#x27;&#x27;) &#123; callback(new Error(&#x27;请输入正确的身份证号码&#x27;)); &#125; else &#123; callback(); &#125; &#125;&#125; 6、是否邮箱123456789101112export function validateEMail(rule, value,callback) &#123; const reg =/^([a-zA-Z0-9]+[-_\\.]?)+@[a-zA-Z0-9]+\\.[a-z]+$/; if(value==&#x27;&#x27;||value==undefined||value==null)&#123; callback(); &#125;else&#123; if (!reg.test(value))&#123; callback(new Error(&#x27;请输入正确的邮箱&#x27;)); &#125; else &#123; callback(); &#125; &#125;&#125; 7、合法url1234export function validateURL(url) &#123; const urlregex = /^(https?|ftp):\\/\\/([a-zA-Z0-9.-]+(:[a-zA-Z0-9.&amp;%$-]+)*@)*((25[0-5]|2[0-4][0-9]|1[0-9]&#123;2&#125;|[1-9][0-9]?)(\\.(25[0-5]|2[0-4][0-9]|1[0-9]&#123;2&#125;|[1-9]?[0-9]))&#123;3&#125;|([a-zA-Z0-9-]+\\.)*[a-zA-Z0-9-]+\\.(com|edu|gov|int|mil|net|org|biz|arpa|info|name|pro|aero|coop|museum|[a-zA-Z]&#123;2&#125;))(:[0-9]+)*(\\/($|[a-zA-Z0-9.,?&#x27;\\\\+&amp;%$#=~_-]+))*$/; return urlregex.test(url);&#125; 8、验证内容是否包含英文数字以及下划线123456789101112export function isPassword(rule, value, callback) &#123; const reg =/^[_a-zA-Z0-9]+$/; if(value==&#x27;&#x27;||value==undefined||value==null)&#123; callback(); &#125; else &#123; if (!reg.test(value))&#123; callback(new Error(&#x27;仅由英文字母，数字以及下划线组成&#x27;)); &#125; else &#123; callback(); &#125; &#125;&#125; 9、自动检验数值的范围1234567891011export function checkMax20000(rule, value, callback) &#123; if (value == &#x27;&#x27; || value == undefined || value == null) &#123; callback(); &#125; else if (!Number(value)) &#123; callback(new Error(&#x27;请输入[1,20000]之间的数字&#x27;)); &#125; else if (value &lt; 1 || value &gt; 20000) &#123; callback(new Error(&#x27;请输入[1,20000]之间的数字&#x27;)); &#125; else &#123; callback(); &#125;&#125; 10、验证数字输入框最大数值1234567export function checkMaxVal(rule, value,callback) &#123; if (value &lt; 0 || value &gt; 最大值) &#123; callback(new Error(&#x27;请输入[0,最大值]之间的数字&#x27;)); &#125; else &#123; callback(); &#125;&#125; 11、验证是否1-99之间123456789101112131415161718export function isOneToNinetyNine(rule, value, callback) &#123; if (!value) &#123; return callback(new Error(&#x27;输入不可以为空&#x27;)); &#125; setTimeout(() =&gt; &#123; if (!Number(value)) &#123; callback(new Error(&#x27;请输入正整数&#x27;)); &#125; else &#123; const re = /^[1-9][0-9]&#123;0,1&#125;$/; const rsCheck = re.test(value); if (!rsCheck) &#123; callback(new Error(&#x27;请输入正整数，值为【1,99】&#x27;)); &#125; else &#123; callback(); &#125; &#125; &#125;, 0);&#125; 12、验证是否整数123456789101112131415161718export function isInteger(rule, value, callback) &#123; if (!value) &#123; return callback(new Error(&#x27;输入不可以为空&#x27;)); &#125; setTimeout(() =&gt; &#123; if (!Number(value)) &#123; callback(new Error(&#x27;请输入正整数&#x27;)); &#125; else &#123; const re = /^[0-9]*[1-9][0-9]*$/; const rsCheck = re.test(value); if (!rsCheck) &#123; callback(new Error(&#x27;请输入正整数&#x27;)); &#125; else &#123; callback(); &#125; &#125; &#125;, 0);&#125; 13、验证是否整数,非必填123456789101112131415161718export function isIntegerNotMust(rule, value, callback) &#123; if (!value) &#123; callback(); &#125; setTimeout(() =&gt; &#123; if (!Number(value)) &#123; callback(new Error(&#x27;请输入正整数&#x27;)); &#125; else &#123; const re = /^[0-9]*[1-9][0-9]*$/; const rsCheck = re.test(value); if (!rsCheck) &#123; callback(new Error(&#x27;请输入正整数&#x27;)); &#125; else &#123; callback(); &#125; &#125; &#125;, 1000);&#125; 14、 验证是否是[0-1]的小数12345678910111213141516export function isDecimal(rule, value, callback) &#123; if (!value) &#123; return callback(new Error(&#x27;输入不可以为空&#x27;)); &#125; setTimeout(() =&gt; &#123; if (!Number(value)) &#123; callback(new Error(&#x27;请输入[0,1]之间的数字&#x27;)); &#125; else &#123; if (value &lt; 0 || value &gt; 1) &#123; callback(new Error(&#x27;请输入[0,1]之间的数字&#x27;)); &#125; else &#123; callback(); &#125; &#125; &#125;, 100);&#125; 15、 验证是否是[1-10]的小数,即不可以等于012345678910111213141516export function isBtnOneToTen(rule, value, callback) &#123; if (typeof value == &#x27;undefined&#x27;) &#123; return callback(new Error(&#x27;输入不可以为空&#x27;)); &#125; setTimeout(() =&gt; &#123; if (!Number(value)) &#123; callback(new Error(&#x27;请输入正整数，值为[1,10]&#x27;)); &#125; else &#123; if (!(value == &#x27;1&#x27; || value == &#x27;2&#x27; || value == &#x27;3&#x27; || value == &#x27;4&#x27; || value == &#x27;5&#x27; || value == &#x27;6&#x27; || value == &#x27;7&#x27; || value == &#x27;8&#x27; || value == &#x27;9&#x27; || value == &#x27;10&#x27;)) &#123; callback(new Error(&#x27;请输入正整数，值为[1,10]&#x27;)); &#125; else &#123; callback(); &#125; &#125; &#125;, 100);&#125; 16、验证是否是[1-100]的小数,即不可以等于012345678910111213141516export function isBtnOneToHundred(rule, value, callback) &#123; if (!value) &#123; return callback(new Error(&#x27;输入不可以为空&#x27;)); &#125; setTimeout(() =&gt; &#123; if (!Number(value)) &#123; callback(new Error(&#x27;请输入整数，值为[1,100]&#x27;)); &#125; else &#123; if (value &lt; 1 || value &gt; 100) &#123; callback(new Error(&#x27;请输入整数，值为[1,100]&#x27;)); &#125; else &#123; callback(); &#125; &#125; &#125;, 100);&#125; 17、验证是否是[0-100]的小数12345678910111213141516export function isBtnZeroToHundred(rule, value, callback) &#123; if (!value) &#123; return callback(new Error(&#x27;输入不可以为空&#x27;)); &#125; setTimeout(() =&gt; &#123; if (!Number(value)) &#123; callback(new Error(&#x27;请输入[1,100]之间的数字&#x27;)); &#125; else &#123; if (value &lt; 0 || value &gt; 100) &#123; callback(new Error(&#x27;请输入[1,100]之间的数字&#x27;)); &#125; else &#123; callback(); &#125; &#125; &#125;, 100);&#125; 18、验证端口是否在[0,65535]之间123456789101112131415161718export function isPort(rule, value, callback) &#123; if (!value) &#123; return callback(new Error(&#x27;输入不可以为空&#x27;)); &#125; setTimeout(() =&gt; &#123; if (value == &#x27;&#x27; || typeof(value) == undefined) &#123; callback(new Error(&#x27;请输入端口值&#x27;)); &#125; else &#123; const re = /^([0-9]|[1-9]\\d|[1-9]\\d&#123;2&#125;|[1-9]\\d&#123;3&#125;|[1-5]\\d&#123;4&#125;|6[0-4]\\d&#123;3&#125;|65[0-4]\\d&#123;2&#125;|655[0-2]\\d|6553[0-5])$/; const rsCheck = re.test(value); if (!rsCheck) &#123; callback(new Error(&#x27;请输入在[0-65535]之间的端口值&#x27;)); &#125; else &#123; callback(); &#125; &#125; &#125;, 100);&#125; 19、验证端口是否在[0,65535]之间，非必填,isMust表示是否必填123456789101112131415161718export function isCheckPort(rule, value, callback) &#123; if (!value) &#123; callback(); &#125; setTimeout(() =&gt; &#123; if (value == &#x27;&#x27; || typeof(value) == undefined) &#123; //callback(new Error(&#x27;请输入端口值&#x27;)); &#125; else &#123; const re = /^([0-9]|[1-9]\\d|[1-9]\\d&#123;2&#125;|[1-9]\\d&#123;3&#125;|[1-5]\\d&#123;4&#125;|6[0-4]\\d&#123;3&#125;|65[0-4]\\d&#123;2&#125;|655[0-2]\\d|6553[0-5])$/; const rsCheck = re.test(value); if (!rsCheck) &#123; callback(new Error(&#x27;请输入在[0-65535]之间的端口值&#x27;)); &#125; else &#123; callback(); &#125; &#125; &#125;, 100);&#125; 20、小写字母1234export function validateLowerCase(val) &#123; const reg = /^[a-z]+$/; return reg.test(val);&#125; 22、两位小数验证1234567const validateValidity = (rule, value, callback) =&gt; &#123; if (!/(^[1-9]([0-9]+)?(\\.[0-9]&#123;1,2&#125;)?$)|(^(0)&#123;1&#125;$)|(^[0-9]\\.[0-9]([0-9])?$)/.test(value)) &#123; callback(new Error(&#x27;最多两位小数！！！&#x27;)); &#125; else &#123; callback(); &#125;&#125; 23、是否大写字母1234export function validateUpperCase(val) &#123; const reg = /^[A-Z]+$/; return reg.test(val);&#125; 24、是否大小写字母123456789export function validatAlphabets(val) &#123; const reg = /^[A-Za-z]+$/; return reg.test(val);&#125;//包含大写字母和小写字母export function validatAlphabets(val) &#123; const reg = /^(?=.*[a-z])(?=.*[A-Z])$/; return reg.test(val);&#125; 25、密码校验12345678910export const validatePsdReg = (rule, value, callback) =&gt; &#123; if (!value) &#123; return callback(new Error(&#x27;请输入密码&#x27;)) &#125; if (!/^(?![\\d]+$)(?![a-zA-Z]+$)(?![^\\da-zA-Z]+$)([^\\u4e00-\\u9fa5\\s])&#123;6,20&#125;$/.test(value)) &#123; callback(new Error(&#x27;请输入6-20位英文字母、数字或者符号（除空格），且字母、数字和标点符号至少包含两种&#x27;)) &#125; else &#123; callback() &#125;&#125; 26、中文校验12345678910export const validateContacts = (rule, value, callback) =&gt; &#123; if (!value) &#123; return callback(new Error(&#x27;请输入中文&#x27;)) &#125; if (!/^[\\u0391-\\uFFE5A-Za-z]+$/.test(value)) &#123; callback(new Error(&#x27;不可输入特殊字符&#x27;)) &#125; else &#123; callback() &#125;&#125; 27、 账号校验12345678910export const validateCode = (rule, value, callback) =&gt; &#123; if (!value) &#123; return callback(new Error(&#x27;请输入账号&#x27;)) &#125; if (!/^(?![0-9]*$)(?![a-zA-Z]*$)[a-zA-Z0-9]&#123;6,20&#125;$/.test(value)) &#123; callback(new Error(&#x27;账号必须为6-20位字母和数字组合&#x27;)) &#125; else &#123; callback() &#125;&#125; 28 、纯数字校验123456789101112export const validateNumber = (rule, value, callback) =&gt; &#123; let numberReg = /^\\d+$|^\\d+[.]?\\d+$/ if (value !== &#x27;&#x27;) &#123; if (!numberReg.test(value)) &#123; callback(new Error(&#x27;请输入数字&#x27;)) &#125; else &#123; callback() &#125; &#125; else &#123; callback(new Error(&#x27;请输入值&#x27;)) &#125;&#125; 29、最多一位小数1234567const onePoint = (rule, value, callback) =&gt; &#123; if (!/^[0-9]+([.]&#123;1&#125;[0-9]&#123;1&#125;)?$/.test(value)) &#123; callback(new Error(&#x27;最多一位小数！！！&#x27;)); &#125; else &#123; callback(); &#125;&#125;; elementUI使用方法： 在使用地方直接 import 引入，然后在 rules 校验中加入即可。 1属性: [&#123; validator: validatePass, trigger: &quot;blur&quot; &#125;],","categories":[{"name":"vue","slug":"vue","permalink":"http://wang-z.gitee.io/categories/vue/"}],"tags":[{"name":"vue","slug":"vue","permalink":"http://wang-z.gitee.io/tags/vue/"},{"name":"javascript","slug":"javascript","permalink":"http://wang-z.gitee.io/tags/javascript/"},{"name":"rule","slug":"rule","permalink":"http://wang-z.gitee.io/tags/rule/"}],"author":{"name":"Mr.wang","avatar":"https://wang-z.gitee.io/img/author.jpg"}},{"title":"https编码","slug":"https-返回码","date":"2019-11-15T04:10:56.000Z","updated":"2022-08-01T07:39:07.660Z","comments":true,"path":"2019/11/15/https-返回码/","link":"","permalink":"http://wang-z.gitee.io/2019/11/15/https-%E8%BF%94%E5%9B%9E%E7%A0%81/","excerpt":"关于https返回编码普遍代表含义，实际开发由前后端协商决定","text":"关于https返回编码普遍代表含义，实际开发由前后端协商决定 https编码 1**(信息类)：表示接收到请求并且继续处理 100——客户必须继续发出请求 101——客户要求服务器根据请求转换HTTP协议版本 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970712**(响应成功)：表示动作被成功接收、理解和接受200——表明该请求被成功地完成，所请求的资源发送回客户端201——提示知道新文件的URL202——接受和处理、但处理未完成203——返回信息不确定或不完整204——请求收到，但返回信息为空205——服务器完成了请求，用户代理必须复位当前已经浏览过的文件206——服务器已经完成了部分用户的GET请求3**(重定向类)：为了完成指定的动作，必须接受进一步处理300——请求的资源可在多处得到301——本网页被永久性转移到另一个URL302——请求的网页被转移到一个新的地址，但客户访问仍继续通过原始URL地址，重定向，新的URL会在response中的Location中返回，浏览器将会使用新的URL发出新的Request。303——建议客户访问其他URL或访问方式304——自从上次请求后，请求的网页未修改过，服务器返回此响应时，不会返回网页内容，代表上次的文档已经被缓存了，还可以继续使用305——请求的资源必须从服务器指定的地址得到306——前一版本HTTP中使用的代码，现行版本中不再使用307——申明请求的资源临时性删除4**(客户端错误类)：请求包含错误语法或不能正确执行400——客户端请求有语法错误，不能被服务器所理解401——请求未经授权，这个状态代码必须和WWW-Authenticate报头域一起使用HTTP 401.1 - 未授权：登录失败&amp;emsp;&amp;emsp;HTTP 401.2 - 未授权：服务器配置问题导致登录失败&amp;emsp;&amp;emsp;HTTP 401.3 - ACL 禁止访问资源&amp;emsp;&amp;emsp;HTTP 401.4 - 未授权：授权被筛选器拒绝HTTP 401.5 - 未授权：ISAPI 或 CGI 授权失败402——保留有效ChargeTo头响应403——禁止访问，服务器收到请求，但是拒绝提供服务HTTP 403.1 禁止访问：禁止可执行访问&amp;emsp;&amp;emsp;HTTP 403.2 - 禁止访问：禁止读访问&amp;emsp;&amp;emsp;HTTP 403.3 - 禁止访问：禁止写访问&amp;emsp;&amp;emsp;HTTP 403.4 - 禁止访问：要求 SSL&amp;emsp;&amp;emsp;HTTP 403.5 - 禁止访问：要求 SSL 128&amp;emsp;&amp;emsp;HTTP 403.6 - 禁止访问：IP 地址被拒绝&amp;emsp;&amp;emsp;HTTP 403.7 - 禁止访问：要求客户证书&amp;emsp;&amp;emsp;HTTP 403.8 - 禁止访问：禁止站点访问&amp;emsp;&amp;emsp;HTTP 403.9 - 禁止访问：连接的用户过多&amp;emsp;&amp;emsp;HTTP 403.10 - 禁止访问：配置无效&amp;emsp;&amp;emsp;HTTP 403.11 - 禁止访问：密码更改&amp;emsp;&amp;emsp;HTTP 403.12 - 禁止访问：映射器拒绝访问&amp;emsp;&amp;emsp;HTTP 403.13 - 禁止访问：客户证书已被吊销&amp;emsp;&amp;emsp;HTTP 403.15 - 禁止访问：客户访问许可过多&amp;emsp;&amp;emsp;HTTP 403.16 - 禁止访问：客户证书不可信或者无效HTTP 403.17 - 禁止访问：客户证书已经到期或者尚未生效404——一个404错误表明可连接服务器，但服务器无法取得所请求的网页，请求资源不存在。eg：输入了错误的URL405——用户在Request-Line字段定义的方法不允许406——根据用户发送的Accept拖，请求资源不可访问407——类似401，用户必须首先在代理服务器上得到授权408——客户端没有在用户指定的饿时间内完成请求409——对当前资源状态，请求不能完成410——服务器上不再有此资源且无进一步的参考地址411——服务器拒绝用户定义的Content-Length属性请求412——一个或多个请求头字段在当前请求中错误413——请求的资源大于服务器允许的大小414——请求的资源URL长于服务器允许的长度415——请求资源不支持请求项目格式416——请求中包含Range请求头字段，在当前请求资源范围内没有range指示值，请求也不包含If-Range请求头字段417——服务器不满足请求Expect头字段指定的期望值，如果是代理服务器，可能是下一级服务器不能满足请求长。5**(服务端错误类)：服务器不能正确执行一个正确的请求HTTP 500 - 服务器遇到错误，无法完成请求&amp;emsp;&amp;emsp;HTTP 500.100 - 内部服务器错误 - ASP 错误&amp;emsp;&amp;emsp;HTTP 500-11 服务器关闭&amp;emsp;&amp;emsp;HTTP 500-12 应用程序重新启动&amp;emsp;&amp;emsp;HTTP 500-13 - 服务器太忙&amp;emsp;&amp;emsp;HTTP 500-14 - 应用程序无效&amp;emsp;&amp;emsp;HTTP 500-15 - 不允许请求 global.asa&amp;emsp;&amp;emsp;Error 501 - 未实现HTTP 502 - 网关错误HTTP 503：由于超载或停机维护，服务器目前无法使用，一段时间后可能恢复正常","categories":[{"name":"https","slug":"https","permalink":"http://wang-z.gitee.io/categories/https/"}],"tags":[{"name":"javascript","slug":"javascript","permalink":"http://wang-z.gitee.io/tags/javascript/"},{"name":"https","slug":"https","permalink":"http://wang-z.gitee.io/tags/https/"}],"author":{"name":"Mr.wang","avatar":"https://wang-z.gitee.io/img/author.jpg"}},{"title":"commonJS以及ES6的引入方法","slug":"js-引入方式","date":"2019-10-10T04:10:56.000Z","updated":"2022-08-01T07:39:07.671Z","comments":true,"path":"2019/10/10/js-引入方式/","link":"","permalink":"http://wang-z.gitee.io/2019/10/10/js-%E5%BC%95%E5%85%A5%E6%96%B9%E5%BC%8F/","excerpt":"模块,js函数的导入和使用","text":"模块,js函数的导入和使用 自动引入模块 当前例子为vuex的modules内的自动导入 modules即是所有模块的集合对象 {模块名，模块名} 1234567const modulesFiles = require.context(&#x27;./modules&#x27;, true, /\\.js$/)//匹配此文件夹内的js文件const modules = modulesFiles.keys().reduce((modules, modulePath) =&gt; &#123; const moduleName = modulePath.replace(/^\\.\\/(.*)\\.\\w+$/, &#x27;$1&#x27;) const value = modulesFiles(modulePath) modules[moduleName] = value.default return modules&#125;, &#123;&#125;) 引入方式commonJScommonJS，定义wang.js 123456function wang()&#123; //封装的函数 console.log(&quot;wang&quot;)&#125;//第一种module.exports = &#123;wang&#125; commonJS，引入(路径自定义) 123456789//引入var wang = require(&#x27;./wang.js&#x27;);//使用wang.wang();//其他引入var &#123;wang&#125; = require(&#x27;./wang.js&#x27;);//使用wang(); importexportES6,定义wang.js 123456789101112//第一种export function wang()&#123; //封装的函数 console.log(&quot;wang&quot;)&#125;//第二种const wang = ()=&gt;&#123; console.log(&quot;wang&quot;)&#125;export &#123; wang&#125; ES6,引入wang.js 1234//引入import &#123;wang&#125; from &quot;./wang.js&quot;//使用wang(); export default 默认导出一个变量, import命令可以为该匿名函数指定任意名字。 export default命令其实只是输出一个叫做default的变量，所以它后面不能跟变量声明语句。 1234567export default&#123; wang()&#123; console.log(&quot;wang&quot;) &#125;&#125;import obj from &quot;./wang.js&quot;obj.wang() 1234567891011//第一种export default ()=&gt;&#123; console.log(&quot;wang&quot;)&#125;//第二种const wang = () =&gt; &#123; console.log(&#x27;wamng&#x27;);&#125;export default wangimport wang from &quot;./wang.js&quot;wang()","categories":[{"name":"javascript","slug":"javascript","permalink":"http://wang-z.gitee.io/categories/javascript/"}],"tags":[{"name":"javascript","slug":"javascript","permalink":"http://wang-z.gitee.io/tags/javascript/"}],"author":{"name":"Mr.wang","avatar":"https://wang-z.gitee.io/img/author.jpg"}},{"title":"时间段组件","slug":"UI-vue时间段组件","date":"2019-09-18T08:01:01.000Z","updated":"2022-08-01T07:39:07.649Z","comments":true,"path":"2019/09/18/UI-vue时间段组件/","link":"","permalink":"http://wang-z.gitee.io/2019/09/18/UI-vue%E6%97%B6%E9%97%B4%E6%AE%B5%E7%BB%84%E4%BB%B6/","excerpt":"一周0.5*2*24*7的时间段选择,操作48位01字符串","text":"一周0.5*2*24*7的时间段选择,操作48位01字符串 时间段UI展示 思考过程点击事件 点击表格时触发点击事件，传入data-week(0-6) data-time (0-23) 触发mouseenter mouseleave 事件 下面的显示就是tr p便签v-for循环出来 当你选择时是空的那么就全部都是选中 当你选择时 是有的就全清空 考虑向上偏移了多少就要重新创建div 封装一组组件对于不限和多选的控制 多选全都不选就让不限 变active 数组小于零就可以 不限 大于零就去掉不限 两个都是true 就要反选 xy都大于screen x小于screen y小于screen 12345678910111213141516171819202122232425262728293031323334353637383940timeFiltrate()&#123; //生成想要的数组 let arr=[]; //临时存放数组 let tempArr = []; //循环date中的时间 this.date.forEach((item1,index1)=&gt;&#123; item1.forEach((item2,index2)=&gt;&#123; //筛选出想要的数据 if(item2.active)&#123; //push进临时数组 tempArr.push(...item2.timeQuantum); &#125; &#125;) // 生成数组存放进 arr.push(tempArr); //临时数组的清空 tempArr=[]; &#125;) //循环出想要删除的元素的索引值 arr.forEach((item1,index1)=&gt;&#123; item1.forEach((item2,index2)=&gt;&#123; if(arr[index1][index2]===arr[index1][index2+1])&#123; tempArr.push(index2,index2+1) &#125; &#125;) //数组的删除从后面来可以不影响数组 tempArr.sort((a,b)=&gt;&#123;return b-a&#125;) //根据索引值删除元素 tempArr.map((v,i)=&gt;&#123; arr[index1].splice(v,1); &#125;) //置空 tempArr=[]; &#125;) console.log(arr); return arr &#125; &#125;&#125;; 源码（清晰版）123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349350351352353354355356357358359360361362363364365366367368369370371372373374375376377378379380381382383384385386387388389390391392393394395396397398399400401402403404405406407408409410411412413414415416417418419420421422423424425426427428429430431432433434435436437&lt;template&gt; &lt;div class=&quot;timeQyantum&quot; @mouseup=&quot;handleMouseOutUp()&quot; @mouseleave=&quot;handleMouseOutUp&quot;&gt; &lt;div class=&quot;schedule&quot; :style=&quot;&#123;opacity: isShow, left: screenX+&#x27;px&#x27;, top: screenY+&#x27;px&#x27;, width: mouseWidth+&#x27;px&#x27;, height: mouseHeight+&#x27;px&#x27;, display: Display&#125;&quot; &gt;&lt;/div&gt; &lt;table class=&quot;calendar-table&quot;&gt; &lt;thead class=&quot;calendar-head&quot;&gt; &lt;tr&gt; &lt;th rowspan=&quot;8&quot; class=&quot;week-td&quot;&gt;星期/时间&lt;/th&gt; &lt;th colspan=&quot;24&quot;&gt;00:00 - 12:00&lt;/th&gt; &lt;th colspan=&quot;24&quot;&gt;12:00 - 24:00&lt;/th&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td colspan=&quot;2&quot; v-for=&quot;v in List&quot; :key=&quot;v&quot;&gt;&#123;&#123;v&#125;&#125;&lt;/td&gt; &lt;/tr&gt; &lt;/thead&gt; &lt;tbody class=&quot;calendar-body&quot;&gt; &lt;tr v-for=&quot;(item1,index1) in date&quot; :key=&quot;index1&quot;&gt; &lt;td&gt;星期&#123;&#123;index1|weekend&#125;&#125;&lt;/td&gt; &lt;td @mousedown=&quot;handleMouseClick($event,item2)&quot; @mousemove=&quot;handleMouseMove&quot; @mouseup=&quot;handleMouseUp($event,item2)&quot; @mouseenter=&quot;handleMouseEnter($event,item2)&quot; @mouseout=&quot;handleMouseOut&quot; v-for=&quot;(item2,index2) in item1&quot; :key=&quot;index2&quot; :class=&quot;[item2.active ? &#x27;ui-selected&#x27; : &#x27;&#x27;]&quot; &gt;&lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td colspan=&quot;49&quot; class=&quot;td-table-tip&quot;&gt; &lt;div class=&quot;timeQuantum&quot;&gt; &lt;span class=&quot;areadySelect&quot;&gt;已选择时间段&lt;/span&gt; &lt;a class=&quot;empty&quot; @click=&quot;handleEmpty&quot;&gt;清空&lt;/a&gt; &lt;/div&gt; &lt;div class=&quot;td-selected-time&quot;&gt; &lt;p v-for=&quot;(item1,index1) in timeFiltrate&quot; :key=&quot;index1&quot;&gt; &lt;span class=&quot;tip-text&quot;&gt;星期&#123;&#123;index1|weekend&#125;&#125;:&lt;/span&gt; &lt;span&gt;&#123;&#123;item1 | timeDifference&#125;&#125;&lt;/span&gt; &lt;/p&gt; &lt;/div&gt; &lt;/td&gt; &lt;/tr&gt; &lt;/tbody&gt; &lt;div class=&quot;byted-popover-wrapper&quot;&gt; &lt;div class=&quot;bui-popper byted-popover&quot; :style=&quot;timeTips&quot; x-placement=&quot;top&quot;&gt; &lt;div x-arrow class=&quot;bui-popover-arrow&quot; style=&quot;left: 86px;&quot;&gt;&lt;/div&gt; &lt;div class=&quot;bui-popover-panel&quot;&gt; &lt;div class=&quot;bui-popover-body&quot;&gt;星期&#123;&#123;timeTips_week|weekend&#125;&#125; &#123;&#123;timeTIps_content&#125;&#125;&lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/div&gt; &lt;/table&gt; &lt;/div&gt;&lt;/template&gt;&lt;script&gt;import &#123; debounce &#125; from &quot;@/utils/common.js&quot;;export default &#123; props: &#123; time: &#123; type: String, default: Array(337).join(1) &#125; &#125;, data() &#123; return &#123; schedule_time: &quot;&quot;, timeTips_week: 0, timeTIps_content: &quot;&quot;, timeTips: &#123; width: &quot;182px&quot;, display: &quot;none&quot; &#125;, isSelect: false, startTime: 0, endTime: 0, startWeek: 0, endWeek: 0, isShow: 0.6, screenX: 0, screenY: 0, ClickX: 0, ClickY: 0, mouseWidth: 10, mouseHeight: 30, Display: &quot;none&quot;, date: [] &#125;; &#125;, methods: &#123; CreateData() &#123; let timeQuantumArr = [], hours = [], minutes = [&quot;00&quot;, &quot;30&quot;]; for (let i = 0; i &lt; 24; i++) &#123; i &lt; 10 ? hours.push(&quot;0&quot; + i) : hours.push(i.toString()); &#125; for (const hour of hours) &#123; for (const minute of minutes) &#123; timeQuantumArr.push(`$&#123;hour&#125;:$&#123;minute&#125;`); &#125; &#125; timeQuantumArr = timeQuantumArr.map((v, i) =&gt; [ v, timeQuantumArr[i + 1] || &quot;24:00&quot; ]); let num = 0; for (var i = 0; i &lt; 7; i++) &#123; this.date.push([]); for (var j = 0; j &lt; 48; j++) &#123; this.date[i].push(&#123; active: Boolean(this.schedule_time.substr(num, 1) / 1), week: i, time: j, timeQuantum: timeQuantumArr[j] &#125;); num++; &#125; &#125; &#125;, handleEmpty() &#123; this.date.forEach((item1, index1) =&gt; &#123; item1.forEach((item2, index2) =&gt; &#123; item2.active = false; &#125;); &#125;); this.$emit(&quot;scheduleTime&quot;, Array(337).join(1)); &#125;, handleMouseOut() &#123; this.timeTips = &#123; width: &quot;182px&quot;, display: &quot;none&quot; &#125;; debounce(() =&gt; &#123; this.timeTips = &#123; width: &quot;182px&quot;, display: &quot;none&quot; &#125;; &#125;, 1000); &#125;, handleMouseEnter(value, item) &#123; debounce(() =&gt; &#123; let x = -10 + 12 * item.time; let y = -15 + 30 * item.week; this.timeTips = &#123; width: &quot;182px&quot;, position: &quot;absolute&quot;, transform: `translate3d($&#123;x&#125;px, $&#123;y&#125;px, 0px)`, top: &quot;0px&quot;, left: &quot;0px&quot; &#125;; this.timeTips_week = item.week; this.timeTIps_content = `$&#123;item.timeQuantum[0]&#125;~$&#123;item.timeQuantum[1]&#125;`; &#125;, 1000); &#125;, handleMouseOutUp() &#123; this.Display = &quot;none&quot;; this.screenX = 0; this.screenY = 0; this.mouseWidth = 0; this.mouseHeight = 0; &#125;, handleMouseUp(value, item) &#123; this.Display = &quot;none&quot;; this.screenX = 0; this.screenY = 0; this.mouseWidth = 0; this.mouseHeight = 0; const &#123; active, time, week &#125; = item; if (active == this.isSelect) &#123; this.isSelect = !this.isSelect; &#125; if (week &lt; this.startWeek) &#123; this.endWeek = this.startWeek; this.startWeek = week; &#125; else &#123; this.endWeek = week; &#125; if (time &lt; this.startTime) &#123; this.endTime = this.startTime; this.startTime = time; &#125; else &#123; this.endTime = time; &#125; this.date.forEach((v, i) =&gt; &#123; if (i &gt;= this.startWeek &amp;&amp; i &lt;= this.endWeek) &#123; v.forEach((item, index) =&gt; &#123; if (index &gt;= this.startTime &amp;&amp; index &lt;= this.endTime) &#123; item.active = this.isSelect; &#125; &#125;); &#125; &#125;); let tempString = &quot;&quot;; this.date.forEach(v =&gt; &#123; v.forEach(item =&gt; &#123; if (item.active) &#123; tempString += &quot;1&quot;; &#125; else &#123; tempString += &quot;0&quot;; &#125; &#125;); &#125;); this.schedule_time = tempString; this.$emit(&quot;scheduleTime&quot;, this.schedule_time); &#125;, handleMouseMove(value) &#123; const &#123; x, y, offsetX, offsetY &#125; = value; if (x &gt;= this.ClickX &amp;&amp; y &gt;= this.ClickY) &#123; this.screenX = this.ClickX; this.screenY = this.ClickY; this.mouseWidth = x - this.ClickX + 12 - offsetX; this.mouseHeight = y - this.ClickY + 30 - offsetY; &#125; else if (x &gt;= this.ClickX &amp;&amp; y &lt;= this.ClickY) &#123; this.mouseWidth = x - this.ClickX + 12 - offsetX; this.mouseHeight = this.ClickY - y + 30 + offsetY; this.screenY = y - offsetY; &#125; else if (x &lt;= this.ClickX &amp;&amp; y &lt;= this.ClickY) &#123; this.mouseWidth = this.ClickX - x + 12 + offsetX; this.mouseHeight = this.ClickY - y + 30 + offsetY; this.screenX = x - offsetX; this.screenY = y - offsetY; &#125; else if (x &lt;= this.ClickX &amp;&amp; y &gt;= this.ClickY) &#123; this.mouseWidth = this.ClickX - x + 12 + offsetX; this.mouseHeight = y - this.ClickY + 30 - offsetY; this.screenX = x - offsetX; &#125; &#125;, handleMouseClick(val, item) &#123; this.Display = &quot;block&quot;; this.mouseWidth = 0; this.mouseHeight = 0; const &#123; x, y, offsetX, offsetY &#125; = val; this.screenX = x - offsetX; this.screenY = y - offsetY; this.ClickX = x - offsetX; this.ClickY = y - offsetY; const &#123; active, time, week &#125; = item; this.isSelect = active; this.startTime = time; this.startWeek = week; &#125; &#125;, filters: &#123; weekend(value) &#123; let weekend = &quot;&quot;; value == 0 ? (weekend = &quot;一&quot;) : &quot;&quot;; value == 1 ? (weekend = &quot;二&quot;) : &quot;&quot;; value == 2 ? (weekend = &quot;三&quot;) : &quot;&quot;; value == 3 ? (weekend = &quot;四&quot;) : &quot;&quot;; value == 4 ? (weekend = &quot;五&quot;) : &quot;&quot;; value == 5 ? (weekend = &quot;六&quot;) : &quot;&quot;; value == 6 ? (weekend = &quot;日&quot;) : &quot;&quot;; return weekend; &#125;, timeDifference(time) &#123; let timeDifference = &quot;&quot;; time.forEach((v, i) =&gt; &#123; return i % 2 == 0 ? (timeDifference += `$&#123;time[i]&#125;~$&#123;time[i + 1]&#125; `) : &quot; &quot;; &#125;); return timeDifference; &#125; &#125;, computed: &#123; timeFiltrate() &#123; let arr = []; let tempArr = []; this.date.forEach((item1, index1) =&gt; &#123; item1.forEach((item2, index2) =&gt; &#123; if (item2.active) &#123; tempArr.push(...item2.timeQuantum); &#125; &#125;); if (tempArr.length !== 0) &#123; arr.push(tempArr); tempArr = []; &#125; &#125;); arr.forEach((item1, index1) =&gt; &#123; item1.forEach((item2, index2) =&gt; &#123; if (arr[index1][index2] === arr[index1][index2 + 1]) &#123; tempArr.push(index2, index2 + 1); &#125; &#125;); tempArr.sort((a, b) =&gt; &#123; return b - a; &#125;); tempArr.map((v, i) =&gt; &#123; arr[index1].splice(v, 1); &#125;); tempArr = []; &#125;); return arr; &#125;, List() &#123; return [...new Array(24).keys()]; &#125; &#125;, mounted() &#123; this.schedule_time = this.time; this.CreateData(); &#125;, watch: &#123; time(newVal, oldVal) &#123; this.schedule_time = newVal; &#125; &#125;&#125;;&lt;/script&gt;&lt;style lang=&quot;less&quot; scoped&gt;.schedule &#123; background: #2f88ff; width: 0; height: 0; position: fixed; display: none; top: 0; left: 0; pointer-events: none; -webkit-transition: all 400ms ease; -moz-transition: all 400ms ease; -ms-transition: all 400ms ease; transition: all 400ms ease;&#125;.calendar-table th &#123; background: #f8f9fa; font-weight: 600;&#125;.calendar-table tr td:first-child &#123; background: #f8f9fa;&#125;.week-td &#123; width: 75px; padding: 20px 0;&#125;.timeQuantum &#123; position: relative; top: 0; left: 0; display: flex; justify-content: space-between; align-content: center; .areadySelect, .empty &#123; cursor: pointer; padding: 10px 10px 5px; font-size: 16px; font-weight: 600; &#125; .empty &#123; color: #559eff; &#125;&#125;.calendar-table .tip-text &#123; color: #999; margin: 8px;&#125;.calendar-table tbody tr &#123; height: 30px; .ui-selected &#123; background: #2f88ff; &#125;&#125;.calendar-table &#123; background: #fff; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; .td-selected-time &#123; p &#123; max-width: 571px; word-break: break-all; margin: 8px 0; text-align: left; font-size: 14px; line-height: 22px; &#125; &#125; tr, td, th &#123; cursor: pointer; border: 1px solid #e4e9ed; font-size: 12px; text-align: center; min-width: 11px; line-height: 1.8em; -webkit-transition: background 200ms ease; -moz-transition: background 200ms ease; -ms-transition: background 200ms ease; transition: background 200ms ease; &#125; tr &#123; .ui-selected &#123; background: #2f88ff; &#125; &#125;&#125;.byted-popover-wrapper &#123; .bui-popper &#123; z-index: 2; &#125; .bui-popover-arrow &#123; position: absolute; width: 10px; height: 10px; background-color: #fff; -webkit-transform: rotate(45deg); transform: rotate(45deg); &#125; .byted-popover[x-placement^=&quot;top&quot;] &#123; padding: 12px 0; .bui-popover-arrow &#123; bottom: 7px; border-width: 0 1px 1px 0; &#125; &#125; .bui-popover-panel &#123; padding: 16px; background-color: #fff; border-radius: 4px; -webkit-box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.15); box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.15); &#125; .bui-popover-body &#123; color: #666; font-size: 12px; line-height: 22px; white-space: normal; &#125;&#125;&lt;/style&gt; 使用方式123&lt;TimeQuantum :time=&quot;schedule_time&quot; @scheduleTime=&quot;getScheduleTime&quot; /&gt;import TimeQuantum from &quot;timeQuantum.vue&quot;;components:&#123;TimeQuantums&#125;","categories":[{"name":"UI","slug":"UI","permalink":"http://wang-z.gitee.io/categories/UI/"}],"tags":[{"name":"UI","slug":"UI","permalink":"http://wang-z.gitee.io/tags/UI/"},{"name":"vue","slug":"vue","permalink":"http://wang-z.gitee.io/tags/vue/"}],"author":{"name":"Mr.wang","avatar":"https://wang-z.gitee.io/img/author.jpg"}},{"title":"理想视口","slug":"html-理想视口","date":"2019-09-11T16:10:56.000Z","updated":"2022-08-01T07:39:07.659Z","comments":true,"path":"2019/09/12/html-理想视口/","link":"","permalink":"http://wang-z.gitee.io/2019/09/12/html-%E7%90%86%E6%83%B3%E8%A7%86%E5%8F%A3/","excerpt":"关于移动端的meta name=”viewport”的使用","text":"关于移动端的meta name=”viewport”的使用 标准的理想视口如下：1&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0,maximum-scale=1,minimum-scale=1,user-scalable=no&quot;&gt; 普通的理想视口如下：1&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt; 标准的写法比普通的写法 多了一些设置。 使用标准的写法可以一些莫名其妙的问题 （触屏事件中的clientX/Y和pageX/Y的演示） 使用普通的写法可能会出现一些莫名其妙的问题 在写项目中建议使用标准的写法 参数的描述 了解即可 meta标签用来描述或设置一个HTML网页文档的属性 content 要设置或者描述的内容 width 设置视口的宽度 device-width等于屏幕的宽度 initial-scale 页面打开的时候视口放大的倍数 值:1 user-scalable 是否允许用户缩放页面 值：no maximum-scale 如果允许放大的话 最大放大多少倍 值 ：1 minimum-scale 如果允许放大的话 最小放大多少倍 值 ：1","categories":[{"name":"html","slug":"html","permalink":"http://wang-z.gitee.io/categories/html/"}],"tags":[{"name":"javascript","slug":"javascript","permalink":"http://wang-z.gitee.io/tags/javascript/"},{"name":"html","slug":"html","permalink":"http://wang-z.gitee.io/tags/html/"}],"author":{"name":"Mr.wang","avatar":"https://wang-z.gitee.io/img/author.jpg"}},{"title":"node基础服务器","slug":"node-基础服务器","date":"2019-07-11T16:10:56.000Z","updated":"2022-08-01T07:39:07.675Z","comments":true,"path":"2019/07/12/node-基础服务器/","link":"","permalink":"http://wang-z.gitee.io/2019/07/12/node-%E5%9F%BA%E7%A1%80%E6%9C%8D%E5%8A%A1%E5%99%A8/","excerpt":"node服务器的快捷搭建","text":"node服务器的快捷搭建 搭建一个nodejs服务器nodejs搭建服务器，需要4步：1.引入http模块1var http = require(&#x27;http&#x27;);// 语法就是 require(模块名称) 2.创建服务器对象1var server = http.createServer(); 3.监听ip和端口12345server.listen(端口,ip,回调函数);// 例如server.listen(8080,&#x27;127.0.0.1&#x27;,function()&#123; 提示用户，可以通过什么地址访问服务器&#125;); 4.监听浏览器请求服务器的事件123456server.on(&#x27;request&#x27;,function(req,res)&#123; // req - request - 请求对象，里面有请求所包含的数据 -请求头、请求体... // res - response - 响应对象，里面包含的是响应的数据 - 响应头、响应体... // 在事件处理程序里面把数据返回给浏览器 res.end(数据);&#125;) 完整代码12345678910111213141516var http = require(&#x27;http&#x27;);// 引入http模块,养成一个习惯，在node里面，要使用什么功能，就需要引入对应的模块// 接着创建服务器对象var server = http.createServer();// 接着为了可以 让浏览器找到我，监听ip和端口// server.listen(端口,ip,回调函数) // 其实ip和端口都是可以省略的，如果端口省略，默认是80，如果ip省略，默认是127.0.0.1server.listen(8080,&#x27;127.0.0.1&#x27;,function()&#123; console.log(&#x27;服务器已经开启，请通过 http://127.0.0.1:8080 访问&#x27;);&#125;);// 开始监听浏览器的请求server.on(&#x27;request&#x27;,function(req,res)&#123; // 在请求事件的处理程序里面，返回数据给浏览器 setTimeout(function()&#123; res.end(&#x27;hello world&#x27;); &#125;,3000);&#125;);","categories":[{"name":"node","slug":"node","permalink":"http://wang-z.gitee.io/categories/node/"}],"tags":[{"name":"javascript","slug":"javascript","permalink":"http://wang-z.gitee.io/tags/javascript/"},{"name":"node","slug":"node","permalink":"http://wang-z.gitee.io/tags/node/"}],"author":{"name":"Mr.wang","avatar":"https://wang-z.gitee.io/img/author.jpg"}},{"title":"高德地图与vue的使用","slug":"vue-高德地图使用","date":"2019-06-26T02:00:56.000Z","updated":"2022-08-01T07:39:07.706Z","comments":true,"path":"2019/06/26/vue-高德地图使用/","link":"","permalink":"http://wang-z.gitee.io/2019/06/26/vue-%E9%AB%98%E5%BE%B7%E5%9C%B0%E5%9B%BE%E4%BD%BF%E7%94%A8/","excerpt":"高德地图在vue中的使用，data绑定高德地图","text":"高德地图在vue中的使用，data绑定高德地图 首先介绍一下vue与高德 之间的联系vue与数据息息相关，而且，vue的数据使用是通过this来调用 也是把数据挂载到了vm实例身上，调用时，使用this调用vm实例上挂载的数据及其方便，所以在vue的使用时我们偶尔也会碰到this指向不明，指向的不是vm实例导致 数据输出undefined 高德的API使用简单，我们可以思考：与vue的this的挂载使用 初始化地图调用地图接口-同步1234&lt;script type=&quot;text/javascript&quot; src=&quot;https://webapi.amap.com/maps?v=1.4.15&amp;key=你个人的key，下面有高德与百度的链接&quot; &gt;&lt;/script&gt; 高德地图 百度地图 调用接口-异步12345678window.onLoad = function()&#123; var map = new AMap.Map(&#x27;container&#x27;);&#125;var url = &#x27;https://webapi.amap.com/maps?v=1.4.15&amp;key=您申请的key值&amp;callback=onLoad&#x27;;var jsapi = doc.createElement(&#x27;script&#x27;);jsapi.charset = &#x27;utf-8&#x27;;jsapi.src = url;document.head.appendChild(jsapi); 两者各有优缺，看场景使用 官方的使用12345var map = new AMap.Map(&#x27;container&#x27;, &#123; zoom:11,//级别 center: [116.397428, 39.90923],//中心点坐标 viewMode:&#x27;3D&#x27;//使用3D视图&#125;); 与vue结合使用1234567891011data()&#123; return &#123; map:null &#125;&#125;this.map = new AMap.Map(&quot;hotelMap&quot;, &#123; zoom: 11, //级别 center: [116.397428, 39.90923], //中心点坐标 viewMode: &quot;3D&quot; //使用3D视图 &#125;); 两者的区别只是this与var的不同，但是实际上var 是定义一个全局的map变量让我们使用，我们在哪个函数都能使用map 因为他是全局的变量 this却是让map这个变量挂载到vm实例身上，所以你需要在data里初始化map 你的地图需要描点与打开信息窗体时123456789data() &#123; return &#123; MapData:[], // 后台数据初始化 map: null, //地图初始化 infoWindow // 信息窗体 markers: null, // 点的数据 center: [118.796623, 32.059352] // 地图中心点 &#125;; &#125;, 在vue调用地图时最好使用定时器调用，因为地图加载需要时间 123setTimeout(() =&gt; &#123; this.setMapInfo(); &#125;, 3000); 生成多个描点 需要后台返回经纬度信息，下面使用的数据已经是后台返回的带有经纬度信息location：{ longitude：经度 ，latitude：纬度} 12345678910111213141516171819202122232425262728293031323334353637383940414243444546methods:&#123; setMapInfo() &#123; const &#123;location&#125; = this.MapData[3] //数据的第三条数据当地图中心 //设置地图中心点 this.center = [location.longitude,location.latitude] this.map = new AMap.Map(&quot;hotelMap&quot;, &#123; //初始化地图 zoom: 10, //级别 center: this.center, //中心点坐标 viewMode: &quot;3D&quot; //使用3D视图 &#125;); //数据的循环 让点循环生成 this.MapData.forEach(v =&gt; &#123; //生成多个坐标点 this.setMarker(v.area, [v.location.longitude, v.location.latitude], v); //第一个v.area 是点的标识，第二个是一个经纬度数据，第三个是v 后台的其他信息 ==》可以直接写参数v 其他的在setMarker &#125;); &#125;, //添加点标记 setMarker(markers, position, data) &#123; //点的设置 this.markers = new AMap.Marker(&#123; //点的内容，也是你在地图中显示的点的样式 你可以是一张图片 可以是圆，多边形 content: `&lt;div style=&quot;width:20px;height:28px;text-align:center;&quot; class=&quot;el-icon-location&quot;&gt;&lt;/div&gt;`, //点的经纬度 也是位置 position: position, ///点也有偏移 offset: new AMap.Pixel(-17, -42), // 相对于基点的偏移位置 //地图一定要绑定在你想使用的地图上 也就是说在一个页面不一定只有一个地图 map: this.map //把点标记绑在前面初始化的 map_ 上，否则不显示 &#125;); //注册点的触发事件，触发信息窗体 this.markers.on(&quot;mousemove&quot;, () =&gt; &#123; //定义信息窗体的div内容 this.content = `&lt;div&gt;&lt;img src=&quot;$&#123;data.photos&#125;&quot; style=&quot;width:100px; height:50px;margin:0 auto&quot;&gt; &lt;div&gt;&lt;b style=&quot;color:#666&quot;&gt;$&#123;data.name&#125;&lt;/b&gt;` //重新设置信息窗体 this.infoWindow = new AMap.InfoWindow(&#123; //信息窗体相对于基点=》也就是经纬度的点 偏移的xy轴量 offset: new AMap.Pixel(-5, -50), content: this.content //传入 dom 对象，或者 html 字符串 &#125;); //设置信息窗体需要打开 ，参数是 这个地图this.map 和 position 打开的位置 this.infoWindow.open(this.map, position); &#125;); &#125;,&#125; 实际效果 当你想要在地图外响应地图时123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101&lt;template&gt; &lt;div class=&quot;traffic&quot;&gt; &lt;ul&gt; &lt;li v-for=&quot;(item,index) in sceneryMapdata&quot; :key=&quot;index&quot; style=&quot;cursor:pointer;&quot; @mousemove=&quot;choose(item)&quot;&gt; &lt;span&gt;&#123;&#123;item.name&#125;&#125;&lt;/span&gt; &lt;span&gt;&#123;&#123;item.biz_ext.rating&#125;&#125;公里&lt;/span&gt; &lt;/li&gt; &lt;/ul&gt; &lt;/div&gt;&lt;/template&gt;data() &#123; return &#123; //地图的标签 activeName:&quot;first&quot;, // 地图的数据 sceneryMapdata:null, //地图加载时间 loading:true, //地图窗体信息 content: &quot;高级酒店&quot;, map: null, markers: null, infoWindow: null, center: [118.796623, 32.059352] &#125;; &#125;,methods: &#123; //触发地图的点 choose(data)&#123; let temp = data.location.split(&quot;,&quot;); temp = [temp[0]-0,temp[1]-0] this.content = data.name this.infoWindow = new AMap.InfoWindow(&#123; offset: new AMap.Pixel(-5, -50), content: this.content //传入 dom 对象，或者 html 字符串 &#125;); this.infoWindow.open(this.map, temp); &#125;, //添加点标记 setMarker(markers, position, data) &#123; this.markers = new AMap.Marker(&#123; content: `&lt;div style=&quot;width:20px;height:28px;text-align:center;&quot; class=&quot;el-icon-location&quot;&gt;&lt;/div&gt;`, position: position, offset: new AMap.Pixel(-17, -42), // 相对于基点的偏移位置 map: this.map //把点标记绑在前面初始化的 map_ 上，否则不显示 &#125;); AMap.event.addListener(this.markers,&quot;mousemove&quot;, ()=&gt;&#123; this.content = data.name; this.infoWindow = new AMap.InfoWindow(&#123; offset: new AMap.Pixel(-5, -50), content: this.content //传入 dom 对象，或者 html 字符串 &#125;); this.infoWindow.open(this.map, position); &#125;); &#125;, setMapInfo() &#123; const &#123;location&#125; = this.sceneryMapdata[3] //重新设置地图中心点 const temp = location.split(&quot;,&quot;); this.center = [temp[0]-0,temp[1]-0] this.map = new AMap.Map(&quot;detailMap&quot;, &#123; zoom: 14, //级别 center: this.center, //中心点坐标 viewMode: &quot;3D&quot; //使用3D视图 &#125;); this.sceneryMapdata.forEach(v =&gt; &#123; //生成多个坐标点 let str = v.location.split(&quot;,&quot;); this.setMarker(v.name, [str[0]-0,str[1]-0], v); &#125;); &#125;, //请求数据 getMapdata()&#123; this.$axios(&#123; url:`https://restapi.amap.com/v3/place/text`, params:&#123; keyword:&#x27;&#x27;, location:&quot;118.732841,32.077242&quot;, city:&quot;南京市&quot;, types:&quot;风景名胜&quot;, output:&#x27;json&#x27;, page:1, offset:10, key:&#x27;key私人定制&#x27; //=》 这个key是一个web服务 当你创建key可以选择 &#125; &#125;).then(res=&gt;&#123; this.sceneryMapdata = res.data.pois &#125;) &#125; &#125;, mounted() &#123; setTimeout(() =&gt; &#123; this.setMapInfo(); &#125;, 3000); //请求数据 this.getMapdata() &#125;&#125;;","categories":[{"name":"vue","slug":"vue","permalink":"http://wang-z.gitee.io/categories/vue/"}],"tags":[{"name":"vue","slug":"vue","permalink":"http://wang-z.gitee.io/tags/vue/"},{"name":"javascript","slug":"javascript","permalink":"http://wang-z.gitee.io/tags/javascript/"}],"author":{"name":"Mr.wang","avatar":"https://wang-z.gitee.io/img/author.jpg"}},{"title":"js逻辑执行","slug":"js-逻辑执行","date":"2019-06-20T11:50:59.000Z","updated":"2022-08-01T07:39:07.674Z","comments":true,"path":"2019/06/20/js-逻辑执行/","link":"","permalink":"http://wang-z.gitee.io/2019/06/20/js-%E9%80%BB%E8%BE%91%E6%89%A7%E8%A1%8C/","excerpt":"js执行上下文时，变量提升,作用域","text":"js执行上下文时，变量提升,作用域 全局污染 所谓全局变量污染 ：定义多个全局变量，函数，对象挂载在window上，如果重复使用则造成变量冲突 如果定义一个全局变量则会在window上挂载这个变量，所有的函数，对象，引用此js文件的都可以使用 1234567891011&lt;script&gt; var a = 10; console.log(window);&lt;/script&gt;//输出Windowa: 10alert: ƒ alert()applicationCache: ApplicationCache &#123;status: 0, oncached: null, onchecking: null, ondownloading: null, onerror: null, …&#125;。。。。。。。 污染如同衣物沾上污渍，笔墨落入清水。 全局window是大家都能使用，如果在全局挂载变量太多，难免会调用重复的变量，改变其属性或值。 在开发中，多人共同开发，每个人的代码习惯不同，命名方法不同，如果其他人命名一个变量ID，那么，在调用ID时会改变上一个人的ID导致不是自己想要的ID。 123456789101112131415161718192021222324//developer_first.js&lt;script&gt; var ID = 10; console.log(ID);&lt;/script&gt;//developer_second.js&lt;script&gt; var ID = 2; console.log(ID);&lt;/script&gt;//developer_thirdly.js&lt;script&gt; var ID = 4; console.log(ID);&lt;/script&gt;//在主文件中调用&lt;head&gt;&lt;script src=&quot;developer_first.js&quot;&gt;&lt;/script&gt;&lt;script src=&quot;developer_second.js&quot;&gt;&lt;/script&gt; &lt;script src=&quot;developer_thirdly.js&quot;&gt;&lt;/script&gt; //最后的&lt;/head&gt;//=&gt;输出 4 4 4 ID会使用最后调用的js文件 为了避免全局污染，应慎重使用全局变量。了解模块化，或者let 定义的let不在window里 在script内有效 或者函数{}内有效，形成块级作用域 执行上下文123456789101112131415161718192021在开始说明JS上下文栈和作用域之前，我们先说明下JS上下文以及作用域的概念。执行上下文就是当前 JavaScript 代码被解析和执行时所在环境的抽象概念， JavaScript 中运行任何的代码都是在执行上下文中运行。执行上下文类型分为：全局执行上下文函数执行上下文执行上下文创建过程中，需要做以下几件事:创建变量对象：首先初始化函数的参数arguments，提升函数声明和变量声明。创建作用域链（Scope Chain）：在执行期上下文的创建阶段，作用域链是在变量对象之后创建的。确定this的值，即 ResolveThisBinding作用域**作用域**负责收集和维护由所有声明的标识符（变量）组成的一系列查询，并实施一套非常严格的规则，确定当前执行的代码对这些标识符的访问权限。—— 摘录自《你不知道的JavaScript》(上卷)作用域有两种工作模型：词法作用域和动态作用域，JS采用的是**词法作用域**工作模型，词法作用域意味着作用域是由书写代码时变量和函数声明的位置决定的。(`with` 和 `eval` 能够修改词法作用域，但是不推荐使用，对此不做特别说明)作用域分为：全局作用域函数作用域块级作用域JS执行上下文栈(后面简称执行栈)执行栈，也叫做调用栈，具有 **LIFO** (后进先出) 结构，用于存储在代码执行期间创建的所有执行上下文。规则如下：首次运行JavaScript代码的时候,会创建一个全局执行的上下文并Push到当前的执行栈中，每当发生函数调用，引擎都会为该函数创建一个新的函数执行上下文并Push当前执行栈的栈顶。当栈顶的函数运行完成后，其对应的函数执行上下文将会从执行栈中Pop出，上下文的控制权将移动到当前执行栈的下一个执行上下文。 12345678910first()&#123; console.log(&#x27;first&#x27;)&#125;second()&#123; first()&#125;third()&#123; second()&#125;third()","categories":[{"name":"javascript","slug":"javascript","permalink":"http://wang-z.gitee.io/categories/javascript/"}],"tags":[{"name":"javascript","slug":"javascript","permalink":"http://wang-z.gitee.io/tags/javascript/"}],"author":{"name":"Mr.wang","avatar":"https://wang-z.gitee.io/img/author.jpg"}},{"title":"js常见的继承方式","slug":"js-继承方式","date":"2019-06-20T01:10:56.000Z","updated":"2022-08-01T07:39:07.672Z","comments":true,"path":"2019/06/20/js-继承方式/","link":"","permalink":"http://wang-z.gitee.io/2019/06/20/js-%E7%BB%A7%E6%89%BF%E6%96%B9%E5%BC%8F/","excerpt":"js中的继承：在js中的继承只是属性和方法的继承 一般没有所谓的多态性，js的继承只是为了使代码的复用性更高。","text":"js中的继承：在js中的继承只是属性和方法的继承 一般没有所谓的多态性，js的继承只是为了使代码的复用性更高。 js的继承是通过prototype来继承的1 原型链继承这种方式关键在于:**子类型的原型为父类型的一个实例对象。 12345678910111213141516171819 //父类型 function Person(name, age) &#123; this.name = name, this.age = age, this.play = [1, 2, 3] this.setName = function () &#123;&#125; &#125; Person.prototype.setAge = function () &#123;&#125; //子类型 function Student(price) &#123; this.price = price this.setScore = function () &#123;&#125; &#125;// Student.prototype.sayHello = function () &#123; &#125;//在这里写子类的原型方法和属性是无效的，//因为会改变原型的指向，所以应该放到重新指定之后 Student.prototype = new Person() // 子类型的原型为父类型的一个实例对象 var s1 = new Student(15000) var s2 = new Student(14000) console.log(s1,s2) 说明：定义一个Person父类型拥有对象和方法 Person.prototype.setAge = function () &#123;&#125; 这是一种在外部定义的一个在prototype原型上的方法 原理：每个function身上都有一个原型 在原型身上可以挂载方法和属性 Student.prototype = new Person() Student原型指向Person的实例对象，所以子类的实例就可以通过proto__访问到 Student.prototype 也就是Person的实例，这样就可以访问到父类的私有方法，然后再通过__proto指向父类的prototype就可以获得到父类原型上的方法。于是做到了将父类的私有、公有方法和属性都当做子类的公有属性 弊端：子类继承父类的属性和方法是将父类的私有属性和公有方法都作为自己的公有属性和方法 如果父类的私有属性有引用类型，子类继承的是这个父类的引用地址 如果子类操作父类的引用类型就会导致引用类型改变 我们需要在子类中添加新的方法或者是重写父类的方法时候，切记一定要放到替换原型的语句之后 2 借用构造函数继承这种方式关键在于:在子类型构造函数中通用call()调用父类型构造函数 12345678910111213function Person(name, age) &#123; this.name = name, this.age = age, this.setName = function () &#123;&#125;&#125;Person.prototype.setAge = function () &#123;&#125;function Student(name, age, price) &#123; Person.call(this, name, age) // 相当于: this.Person(name, age) /*this.name = name this.age = age*/ this.price = price&#125;var s1 = new Student(&#x27;Tom&#x27;, 20, 15000) 说明：在Student中构造Person的属性和方法，但是只是实现部分继承，如果父类的属性和方法太多，继承麻烦。但是解决了引用类型的问题因为这个构造函数是再次创建实例 弊端：子类的实例是根据父类的实例重新构造的，只能继承父类的实例属性和方法，不能继承原型属性和方法 代码复用性弱，每个子类都是父类的实例函数副本，影响性能 3 原型链+借用构造函数的组合继承这种方式关键在于:通过调用父类构造，继承父类的属性并保留传参的优点，然后通过将父类实例作为子类原型，实现函数复用 。 1234567891011121314151617181920212223function Person (name, age) &#123; this.name = name, this.age = age, this.setAge = function () &#123; &#125;&#125;Person.prototype.setAge = function () &#123; console.log(&quot;111&quot;)&#125;function Student (name, age, price) &#123; //第一次调用构造函数 Person.call(this, name, age) this.price = price this.setScore = function () &#123; &#125;&#125;// 令Student的原型指向Person的实例Student.prototype = new Person()Student.prototype.constructor = Student//组合继承也是需要修复构造函数指向的Student.prototype.sayHello = function () &#123; &#125;var s1 = new Student(&#x27;Tom&#x27;, 20, 15000)var s2 = new Student(&#x27;Jack&#x27;, 22, 14000)console.log(s1)console.log(s1.constructor) //Studentconsole.log(p1.constructor) //Person 说明：在子类中调用构造函数生成实例对象但是只是包含属性，在子类的原型链上继承Person的实例，再次使用构造函数，是刚继承的实例构造成一个新的实例赋值 这个实例属于Student 构造函数（constructor） –字面意思，能构造一个实例的函数 弊端：无论如何都会调用两次构造函数，创建子类的原型和子类构造函数内部 4 组合继承的优化-原型指向这种方式关键在于 通过父类原型和子类原型指向同一对象，子类可以继承到父类的公有方法当做自己的公有方法，而且不会初始化两次实例方法/属性，避免的组合继承的缺点 12345678910111213141516171819function Person (name, age) &#123; this.name = name, this.age = age, this.setAge = function () &#123; &#125;&#125;Person.prototype.setAge = function () &#123; console.log(&quot;111&quot;)&#125;function Student (name, age, price) &#123; //构造函数 Person.call(this, name, age) this.price = price this.setScore = function () &#123; &#125;&#125;//原型的赋值Student.prototype = Person.prototypeStudent.prototype.sayHello = function () &#123; &#125;var s1 = new Student(&#x27;Tom&#x27;, 20, 15000)console.log(s1) 说明：原型的赋值会让两个类指向同一个对象 ，与上面的区别在于一个是构造函数的赋值 这是原型的赋值，不会生成两次实例 弊端：父类指向不明，都是原型的赋值 同一个对象，没有父子关系，引用类型问题， 5 组合继承的优化-创建对象这种方式关键在于 借助原型可以基于已有的对象来创建对象，var B = Object.create(A)以A对象为原型，生成了B对象。B继承了A的所有属性和方法 12345678910111213141516171819function Person (name, age) &#123; this.name = name, this.age = age&#125;Person.prototype.setAge = function () &#123; console.log(&quot;111&quot;)&#125;function Student (name, age, price) &#123; //构造函数 Person.call(this, name, age) this.price = price this.setScore = function () &#123; &#125;&#125;Student.prototype = Object.create(Person.prototype)//核心代码Student.prototype.constructor = Student//核心代码var s1 = new Student(&#x27;Tom&#x27;, 20, 15000)console.log(s1 instanceof Student, s1 instanceof Person) // true trueconsole.log(s1.constructor) //Studentconsole.log(s1) 说明：Student.prototype = Object.create(Person.prototype) 创建一个基于Person的的prototype创建一个新的对象给Student，继承Person 的所有的属性和方法 （Object.create）Object身上挂载create这个方法可以创建新的对象 目前来说，使用缺点都解决了，但是还未趋近完美 6 Es6的class继承ES6中引入了class关键字，class可以通过extends关键字实现继承，还可以通过static关键字定义类的静态方法,这比 ES5 的通过修改原型链实现继承，要清晰和方便很多。 ES5 的继承，实质是先创造子类的实例对象this，然后再将父类的方法添加到this上面（Parent.apply(this)）。ES6 的继承机制完全不同，实质是先将父类实例对象的属性和方法，加到this上面（所以必须先调用super方法），然后再用子类的构造函数修改this。 需要注意的是，class关键字只是原型的语法糖，JavaScript继承仍然是基于原型实现的。 12345678910111213141516171819202122232425262728class Person &#123; //调用类的构造方法 constructor(name, age) &#123; this.name = name this.age = age &#125; //定义一般的方法 showName () &#123; console.log(&quot;调用父类的方法&quot;) console.log(this.name, this.age); &#125;&#125;let p1 = new Person(&#x27;kobe&#x27;, 39)console.log(p1)//定义一个子类class Student extends Person &#123; constructor(name, age, salary) &#123; super(name, age)//通过super调用父类的构造方法 this.salary = salary &#125; showName () &#123;//在子类自身定义方法 console.log(&quot;调用子类的方法&quot;) console.log(this.name, this.age, this.salary); &#125;&#125;let s1 = new Student(&#x27;wade&#x27;, 38, 1000000000)console.log(s1)s1.showName() 说明：本质上原型和class没有区别，但是代码的整洁可读性更高 ，super相当于原型继承的 Person.call(this, name, age)","categories":[{"name":"javascript","slug":"javascript","permalink":"http://wang-z.gitee.io/categories/javascript/"}],"tags":[{"name":"javascript","slug":"javascript","permalink":"http://wang-z.gitee.io/tags/javascript/"},{"name":"function","slug":"function","permalink":"http://wang-z.gitee.io/tags/function/"}],"author":{"name":"Mr.wang","avatar":"https://wang-z.gitee.io/img/author.jpg"}},{"title":"vue组件传值","slug":"vue-组件传值","date":"2019-06-15T04:10:56.000Z","updated":"2023-03-03T03:22:51.937Z","comments":true,"path":"2019/06/15/vue-组件传值/","link":"","permalink":"http://wang-z.gitee.io/2019/06/15/vue-%E7%BB%84%E4%BB%B6%E4%BC%A0%E5%80%BC/","excerpt":"vue组件的Props校验，传递","text":"vue组件的Props校验，传递 Props 校验默认值123456789101112131415161718Vue.component(&#39;my-component&#39;, &#123; &#x2F;&#x2F; 带有默认值的对象 propA: &#123; type: Object, &#x2F;&#x2F; 对象或数组默认值必须从一个工厂函数获取 default: function () &#123; return &#123; name: &#39;wang&#39; &#125; &#125; &#125;&#125;)Vue.component(&#39;my-component&#39;, &#123; &#x2F;&#x2F; 带有默认值的对象 propA: &#123; type: Object, &#x2F;&#x2F; 对象或数组默认值必须从一个工厂函数获取 default:()&#x3D;&gt;&#123; name: &#39;wang&#39; &#125; &#125;&#125;) 自定义校验123456789Vue.component(&#39;my-component&#39;, &#123; &#x2F;&#x2F; 自定义验证函数 propF: &#123; validator: function (value) &#123; &#x2F;&#x2F; 这个值必须匹配下列字符串中的一个 return [&#39;success&#39;, &#39;warning&#39;, &#39;danger&#39;].indexOf(value) !&#x3D;&#x3D; -1 &#125; &#125;&#125;) type类型校验 可以设置为String Number Boolean Array Object Date Function Symbol 亦可设置多个 [‘String ‘,’Number ‘] 1父传子通过父组件定义动态绑定一个数据来给子组件传递数据 ，子组件通过props来接受数据 1:data=&quot;data&quot; =&gt;&gt; props:&#123;data&#125; &gt;&gt;&gt;&gt;直接在template中使用data 属性透析 v-bind=”$props”: 可以将父组件的所有props下发给它的子组件,子组件需要在其props:{} 中定义要接受的props。 v-bind=”$attrs”: 将调用组件时的组件标签上绑定的非props的特性(class和style除外)向下传递。在子组件中应当添加inheritAttrs: false(避免父作用域的不被认作props的特性绑定应用在子组件的根元素上)。 12345678&lt;template&gt; &lt;div&gt; &lt;el-button v-bind=&quot;$attrs&quot;&gt;确定&lt;/el-button&gt; &lt;div&gt;&lt;/template&gt;// 父组件使用-&gt;其身上的属性都传递给子组件&lt;my-button type=&#x27;primary&#x27; size=&#x27;mini&#x27;/&gt; 在$attrs里面只会有props没有注册的属性 .v-on=”将父组件标签上的自定义事件向下传递其子组件可以直接通过emit(eventName)的方式调用。 vm.$listeners: 包含了父作用域中的 (不含 .native 修饰器的) v-on 事件监听器。它可以通过 v-on=”$listeners” 传入内部组件——在创建更高层次的组件时非常有用。 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172&lt;top&gt; &lt;center name&#x3D;&quot;name&quot; age&#x3D;&quot;18&quot; gender&#x3D;&quot;666&quot; sdf&#x3D;&quot;asd&quot; @isClick&#x3D;&quot;isClick&quot; @asd&#x3D;&quot;asd&quot; &gt; &lt;bottom v-bind&#x3D;&quot;$attrs&quot; v-on&#x3D;&quot;$listeners&quot; &gt; &lt;&#x2F;bottom&gt; &lt;&#x2F;center&gt;&lt;&#x2F;parent&gt;&#x2F;&#x2F;top.vue&lt;script&gt; import centers from &#39;~&#x2F;components&#x2F;center&#39;; export default &#123; components: &#123; centers &#125;, methods: &#123; asd() &#123; console.log(999); &#125;, isClick() &#123; &#x2F;&#x2F;可以监听到子组件center内的bottom组件emit事件 console.log(666); &#125; &#125; &#125;;&lt;&#x2F;script&gt;&#x2F;&#x2F;center.vue&lt;script&gt; import bottom from &#39;~&#x2F;components&#x2F;bottom&#39;; export default &#123; components: &#123; bottom &#125;, props: &#123; name: &#123; type: String, default: &#39;default&#39; &#125;, age: &#123; type: String, default: &#39;default&#39; &#125; &#125; &#125;;&lt;&#x2F;script&gt;&#x2F;&#x2F;bottom.vue&lt;script&gt; export default &#123; props: &#123; gender: &#123; type: String, default: &#39;&#39; &#125; &#125;, mounted() &#123; console.log(this.$attrs); console.log(this.$listeners); this.$listeners.isClick(); this.$listeners.asd(); &#x2F;&#x2F;子组件emit事件 this.$emit(&#39;isClick&#39;) &#125; &#125;;&lt;&#x2F;script&gt; 具体例子1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253&lt;!DOCTYPE html&gt;&lt;html lang=&quot;en&quot;&gt;&lt;body&gt; &lt;div id=&quot;app&quot;&gt; &lt;father&gt;&lt;/father&gt; &lt;/div&gt; &lt;template id=&#x27;father&#x27;&gt; &lt;div class=&quot;father&quot;&gt; &lt;p&gt;我是父组件&#123;&#123;fname&#125;&#125;&lt;/p&gt; &lt;p&gt;我要告诉我儿子其实他是&#123;&#123;type&#125;&#125;&lt;/p&gt; &lt;son :mytype=&quot;type&quot;&gt;&lt;/son&gt; &lt;/div&gt; &lt;/template&gt; &lt;template id=&#x27;son&#x27;&gt; &lt;div class=&quot;son&quot;&gt; &lt;p&gt;我是子组件&#123;&#123;sname&#125;&#125;&lt;/p&gt; &lt;p&gt;我的老爸告诉我我其实是&#123;&#123;mytype&#125;&#125;&lt;/p&gt; &lt;/div&gt; &lt;/template&gt; &lt;script&gt; // 创建父组件 Vue.component(&#x27;father&#x27;, &#123; template: &#x27;#father&#x27;, data() &#123; return &#123; fname:&#x27;老爸&#x27;, type:&#x27;穷二代&#x27; &#125; &#125;, // 通过components来创建子组件,可以创建多个 components: &#123; &#x27;son&#x27;: &#123; template: &#x27;#son&#x27;, props:[&#x27;mytype&#x27;], data() &#123; return &#123; sname:&#x27;小明&#x27;, // mytype:&#x27;??&#x27; &#125; &#125; &#125; &#125; &#125;) var vm = new Vue(&#123; el: &#x27;#app&#x27;, data: &#123; &#125; &#125;) &lt;/script&gt;&lt;/body&gt;&lt;/html&gt; 2子传父通过子组件发射（$emit）数据 父组件接受数据 1this.$emit(事件名称,你想传递的数据) =&gt;&gt;父组件监听这个事件（@/v-on） @事件名称=“方法（参数）” =&gt;&gt;这个方法默认参数就是传递的数据 具体例子12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970&lt;!DOCTYPE html&gt;&lt;html lang=&quot;en&quot;&gt;&lt;body&gt; &lt;div id=&quot;app&quot;&gt; &lt;father&gt; &lt;/father&gt; &lt;/div&gt; &lt;template id=&#x27;father&#x27;&gt; &lt;div class=&quot;father&quot; style=&#x27;border:solid 1px&#x27;&gt; &lt;p&gt;我是父组件&#123;&#123;fname&#125;&#125;&lt;/p&gt; &lt;p&gt;我的儿子告诉我他的女朋友的名字叫&#123;&#123;erxifu&#125;&#125;&lt;/p&gt; &lt;!-- &lt;son v-on:getname=&#x27;ok&#x27;&gt;&lt;/son&gt; --&gt; &lt;son @getname=&#x27;ok&#x27;&gt;&lt;/son&gt; &lt;/div&gt; &lt;/template&gt; &lt;template id=&#x27;son&#x27;&gt; &lt;div class=&quot;son&quot;&gt; &lt;p&gt;我是子组件&#123;&#123;sname&#125;&#125;&lt;/p&gt; &lt;button @click=&#x27;tellname&#x27;&gt;点击告诉我老爸我的女朋友叫&#123;&#123;mygfname&#125;&#125;&lt;/button&gt; &lt;/div&gt; &lt;/template&gt; &lt;script&gt; // 创建父组件 Vue.component(&#x27;father&#x27;, &#123; template: &#x27;#father&#x27;, data() &#123; return &#123; fname:&#x27;老爸&#x27;, erxifu:&#x27;??&#x27; &#125; &#125;, methods:&#123; // 这个事件处理函数默认有一个参数,这个参数就是之前事件传递的数据 ok(data)&#123; console.log(data) this.erxifu = data &#125; &#125;, // 通过components来创建子组件,可以创建多个 components: &#123; &#x27;son&#x27;: &#123; template: &#x27;#son&#x27;, data() &#123; return &#123; sname:&#x27;小明&#x27;, mygfname:&#x27;小红&#x27; &#125; &#125;, methods:&#123; tellname()&#123; // 发射一个事件 // this.$emit(事件名称,你想传递的数据) // 数据可以是任意数据 this.$emit(&#x27;getname&#x27;,this.mygfname) &#125; &#125; &#125; &#125; &#125;) var vm = new Vue(&#123; el: &#x27;#app&#x27;, data: &#123; &#125;, mounted()&#123; &#125; &#125;) &lt;/script&gt;&lt;/body&gt;&lt;/html 3子传子通过事件总线传值，子组件通过事件总线对象发射数据，父组件接受数据 123var bus = new Vue() = &quot;创建vue事件总线&quot; =&gt;&gt; 子组件通过bus.$emit(事件名称,你想传递的数据) ==&gt;&gt;兄弟组件通过bus.$on(事件名称,(传递过来的数据)=&gt;&#123; 处理逻辑&#125;) 具体例子12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485&lt;!DOCTYPE html&gt;&lt;html lang=&quot;en&quot;&gt;&lt;body&gt; &lt;div id=&quot;app&quot;&gt; &lt;father&gt; &lt;/father&gt; &lt;/div&gt; &lt;template id=&#x27;father&#x27;&gt; &lt;div class=&quot;father&quot; style=&#x27;border:solid 1px&#x27;&gt; &lt;p&gt;我是父组件&#123;&#123;fname&#125;&#125;&lt;/p&gt; &lt;son&gt;&lt;/son&gt; &lt;dauther&gt;&lt;/dauther&gt; &lt;/div&gt; &lt;/template&gt; &lt;template id=&#x27;son&#x27;&gt; &lt;div class=&quot;son&quot;&gt; &lt;p&gt;我是儿子组件&#123;&#123;sname&#125;&#125;&lt;/p&gt; &lt;p&gt;我的妹妹回来了,跟我说她的男朋友叫:&#123;&#123;meifu&#125;&#125;&lt;/p&gt; &lt;/div&gt; &lt;/template&gt; &lt;template id=&#x27;dauther&#x27;&gt; &lt;div class=&quot;dauther&quot;&gt; &lt;p&gt;我是女儿组件&#123;&#123;dname&#125;&#125;&lt;/p&gt; &lt;button @click=&#x27;tellname&#x27;&gt;点击向我哥哥炫耀我的男朋友的名字叫&#123;&#123;mybfname&#125;&#125;&lt;/button&gt; &lt;/div&gt; &lt;/template&gt; &lt;script&gt; // 创建一个事件总线 var bus = new Vue() // 创建父组件 Vue.component(&#x27;father&#x27;, &#123; template: &#x27;#father&#x27;, data() &#123; return &#123; fname: &#x27;老爸&#x27; &#125; &#125;, // 通过components来创建子组件,可以创建多个 components: &#123; &#x27;son&#x27;: &#123; template: &#x27;#son&#x27;, data() &#123; return &#123; sname: &#x27;小明&#x27;, meifu:&#x27;??&#x27; &#125; &#125;, // 在mounTed钩子函数中进行事件的监听 mounted()&#123; // 通过事件总线的$on进行事件的监听 // 事件处理函数默认有一个参数,就是传递的数据 bus.$on(&#x27;getname&#x27;,(data) =&gt; &#123; console.log(data) this.meifu = data &#125;) &#125; &#125;, &#x27;dauther&#x27;: &#123; template: &#x27;#dauther&#x27;, data() &#123; return &#123; dname: &#x27;小红&#x27;, mybfname:&#x27;狗蛋&#x27; &#125; &#125;, methods:&#123; // 通过事件总线发射一个事件 tellname()&#123; bus.$emit(&#x27;getname&#x27;,this.mybfname) &#125; &#125; &#125; &#125; &#125;) var vm = new Vue(&#123; el: &#x27;#app&#x27;, data: &#123; &#125;, mounted() &#123; &#125; &#125;) &lt;/script&gt;&lt;/body&gt;&lt;/html&gt;","categories":[{"name":"vue","slug":"vue","permalink":"http://wang-z.gitee.io/categories/vue/"}],"tags":[{"name":"vue","slug":"vue","permalink":"http://wang-z.gitee.io/tags/vue/"},{"name":"javascript","slug":"javascript","permalink":"http://wang-z.gitee.io/tags/javascript/"}],"author":{"name":"Mr.wang","avatar":"https://wang-z.gitee.io/img/author.jpg"}},{"title":"this指向","slug":"js-this指向","date":"2019-06-02T01:10:56.000Z","updated":"2022-08-01T07:39:07.661Z","comments":true,"path":"2019/06/02/js-this指向/","link":"","permalink":"http://wang-z.gitee.io/2019/06/02/js-this%E6%8C%87%E5%90%91/","excerpt":"js函数中的this指向及call apply bind对于this的改变","text":"js函数中的this指向及call apply bind对于this的改变 如何理解This指向 this ：谁调用它 他就指向谁。（this 永远指向最后调用它的那个对象） 1.在浏览器：如果this是在函数外部则this指向window 2.在node环境：如果this在函数外部则指向{} ​ 如果有new绑定 则指向这个new的实例对象 ​ 函数是否通过 call,apply 调用，或者使用了 bind 绑定，如果是，那么this绑定的就是指定的对象【归结为显式绑定】。 这里同样需要注意一种特殊情况，如果 call,apply 或者 bind 传入的第一个参数值是 undefined 或者 null，严格模式下 this 的值为传入的值 null /undefined。非严格模式下，实际应用的默认绑定规则，this 指向全局对象(node环境为global，浏览器环境为window) 隐式绑定，函数的调用是在某个对象上触发的，即调用位置上存在上下文对象。典型的隐式调用为: xxx.fn() 箭头函数的情况：箭头函数没有自己的this，继承外层上下文绑定的this。 看看具体例子12345678var name = &quot;windowsName&quot;;var a = &#123; // name: &quot;Cherry&quot;, fn : function () &#123; console.log(this.name); //==》undefined &#125;&#125;window.a.fn(); 说明：这里有通过window调用a ，最后调用的是谁的呢？？ 其实是a最后调用了this=》》a里面没有那么这个属性，即使外面的window有name也不会调用==》》就像我们对于变量的调用一样，，函数内部的变量不可以使用其他的函数内部的变量，a和window是两个函数 即使window包括a但是调用的时候是使用this 指向了a 也就是标明 我一定要使用a里面的属性 再看看这个坑12345678910var name = &quot;windowsName&quot;;var a = &#123; name : null, // name: &quot;Cherry&quot;, fn : function () &#123; console.log(this.name); //==&gt; windowsName &#125;&#125;var f = a.fn;f(); 为什么和之前的调用差不多 this却是指向window 由上往下看，var f 的时候根本没有调用a.fn; 最后fn（） 是使用了window调用的 所以指向了外面的name this 的指向并不是在创建的时候就可以确定的 永远指向最后调用的它 call和apply以及bind都与this有关 因为他们改变了this的指向 this指向改变的几种方法1.当你new一个对象时 this就指向创建的实例12let date = new Date()// 我们可以使用data创建时间 这是因为data的this在赋值当中已经指向实例new Date（） 12345new 的实现原理:创建一个空对象，构造函数中的this指向这个空对象这个新对象被执行 [[原型]] 连接执行构造函数方法，属性和方法被添加到this引用的对象中如果构造函数中没有返回其它对象，那么返回this，即创建的这个的新对象，否则，返回构造函数中返回的对象。 2.使用闭包解决，有两层函数可以再第一层使用_this= this改变指向123456789101112131415//在这里使用的是闭包的原理 也可以改变this的指向function()&#123; let _this = this function()&#123; console.log(_this) &#125;&#125;//可执行function fn() &#123; let _this = this return function () &#123; console.log(_this) &#125;() &#125; fn() 3.es6的箭头函数 指向外部的this，（）=&gt;&#123;&#125; 箭头函数的 this 始终指向函数定义时的 this，而非执行时。 call apply bind call 123456789101112let Object = &#123; name: &#x27;Mr.wang&#x27;, first() &#123; console.log(this.name) &#125;, second() &#123; setTimeout(function () &#123; console.log(this.name); &#125;.call(Object)); &#125; &#125; Object.second() //==&gt; 输出为 Mr.wang apply 123456789101112let Object = &#123; name: &#x27;Mr.wang&#x27;, first() &#123; console.log(this.name) &#125;, second() &#123; setTimeout(function () &#123; console.log(this.name); &#125;.apply(Object)); &#125; &#125; Object.second() //==&gt; 输出为 Mr.wang bind 123456789101112let Object = &#123; name: &#x27;Mr.wang&#x27;, first() &#123; console.log(this.name) &#125;, second() &#123; setTimeout(function () &#123; console.log(this.name); &#125;.bind(Object)); &#125; &#125; Object.second() //==&gt; 输出为 Mr.wang apply 和 call 的区别他们之间的区别只是传入参数的区别 appll(this,[a,b,c]) call(this,a,b,c) bind与apply和call有着大的区别 bind会生成新的函数，需要调用再次调用 setTimeout会自动调用","categories":[{"name":"javascript","slug":"javascript","permalink":"http://wang-z.gitee.io/categories/javascript/"}],"tags":[{"name":"javascript","slug":"javascript","permalink":"http://wang-z.gitee.io/tags/javascript/"},{"name":"this","slug":"this","permalink":"http://wang-z.gitee.io/tags/this/"}],"author":{"name":"Mr.wang","avatar":"https://wang-z.gitee.io/img/author.jpg"}},{"title":"Es6解构赋值","slug":"js-Es6变量解构赋值","date":"2019-05-11T02:10:56.000Z","updated":"2022-08-01T07:39:07.660Z","comments":true,"path":"2019/05/11/js-Es6变量解构赋值/","link":"","permalink":"http://wang-z.gitee.io/2019/05/11/js-Es6%E5%8F%98%E9%87%8F%E8%A7%A3%E6%9E%84%E8%B5%8B%E5%80%BC/","excerpt":"阅读阮大大的Es6，获得的变量的结构方法 地址：阮一峰的ES6","text":"阅读阮大大的Es6，获得的变量的结构方法 地址：阮一峰的ES6 变量的解构赋值 数组的解构赋值 对象的解构赋值 字符串的解构赋值 数值和布尔值的解构赋值 函数参数的解构赋值 1数组的解构赋值12345let [a,b,c] = [1,2,3] // 为abc各自an规律赋值let [a,[b,[c]]] = [1,[2,[3]]] //如果为嵌套数组，可以用一样的嵌套数组赋值let [x,y] = [1,2,3] //如果赋值两边长度不一，，则部分赋值 部分未赋值为uddefinedlet [...arr] = [1,2,3] //扩展运算符可以直接把所有的数字赋值给arr arr=[1,2,3]let [first,...arrAll]=[1,2,3,4] //当第一个first赋值以后，其他的数字都会给arrAll包含 first =1 arrAll=[2,3,4] 结构赋值为何左右两边为数组？正常的赋值是一个一个赋值，解构赋值是吧需要赋值的解析重构，循环赋值 通过数组可遍历的特性就可以解构 解构赋值的默认值123let [a=11] = [] //a输出为11 在赋值之前就已经赋值 解构只是再次赋值 不会冲突 注意点 [] 数组里面无任何值，但是有undefined 所以才会解构成功 ，否则部分赋值也不会实现，以下情况请注意 null与undefined有本质的区别，两者不等，所以赋值时可以成功为null，解构赋值也严格遵守严格运算符（===）let [x = 1] = [undefined];//x = 1let [x = 1] = [null]; //x = null 2对象的解构赋值123456789101112let &#123;a&#125;=&#123;a:&#x27;good&#x27;,b:&#x27;nice&#x27;&#125; //a = good 对象里不同于数组，它是无序的集合 所以赋值要用见来赋值 两者的键要相同//如果没有对应的键则会返回undefined//对象的解构赋值可以对内置对象进行赋值let&#123;log,sin,cos&#125; = Mathlet &#123;log&#125; = console//当取得所对应的对象的方法时，可以直接调用log(&#x27;hello word&#x27;) //控制台输出hello wordsin(90) //输出为 1let &#123;a，&#123;b&#125;&#125; = &#123;a:11,&#123;b:22&#125;&#125; //对象一样支持嵌套赋值var &#123;x = 3&#125; = &#123;&#125;; //也支持默认值var &#123;x: y = 3&#125; = &#123;x: 5&#125;; //x与x之间键名对应但不会创建变量 实际变量为y 默认值为3 解构后赋值为5let &#123;a,...aa&#125; = &#123;a:&#123;&#125;,b:&#123;a:2&#125;,c:&#123;d:4&#125;&#125; //剩余分配会在...的变量中 aa:&#123;b:&#123;a:2&#125;,c:&#123;d:4&#125;&#125; 对象的解构赋值的内部机制，是先找到同名属性，然后再赋给对应的变量。真正被赋值的是后者，而不是前者。 注意点12345678let x;&#123;x&#125; = &#123;x: 1&#125;; //已经声明的变量再解构赋值会报错 ，&#123;x&#125; 会被解析为代码块//解决方法(&#123;x&#125;=&#123;x:1&#125;); //括号包裹//解构赋值允许等号左边的模式之中，不放置任何变量名。因此，可以写出非常古怪的赋值表达式。(&#123;&#125;=&#123;a:dd&#125;) //语法可行但毫无意义//数组也是一种特殊的对象 他是用索引值当键let &#123;0:first&#125; = [1,2,3] 3字符串的解构赋值12let [a,b,c,d,e] = &#x27;hello&#x27; // a=h,b=e,c=l,d=l,e=o //这是将字符串转化为数组遍历在赋值let &#123;length : len&#125; = &#x27;hello&#x27;; //len = 5 // 数组都有length这个键 表示长度 4数值和布尔值的解构赋值12345678let &#123;toString: s&#125; = 123;s === Number.prototype.toString // true//数字和布尔类型会转化为对象 所以在s的原型链与赋值的原型链相等 前面的键 toString 是转化为字符串的方法let &#123;toString: s&#125; = true;s === Boolean.prototype.toString // true// 由于ndefined和null无法转为对象 所以不能进行赋值let &#123; prop: x &#125; = undefined; // TypeErrorlet &#123; prop: y &#125; = null; // TypeError 5函数参数的解构赋值函数的解构赋值我们经常使用 当我们进行传参时 就会进行解构赋值 1234function fn(a,b)&#123; return a+b&#125;fn(2,3) //a和b都会在函数调用时传参解构赋值 函数参数的默认值 12345678function fn(&#123;x = 0, y = 0&#125; = &#123;&#125;) &#123; return [x, y];&#125;fn(&#123;x: 3, y: 8&#125;); // [3, 8] fn(&#123;x: 3&#125;); // [3, 0]fn(&#123;&#125;); // [0, 0]fn(); // [0, 0]//如果有默认值,参数没有就使用默认值 另一种函数的默认值 123456789function fn(&#123;x, y&#125; = &#123;x:0,y:0&#125;) &#123; return [x, y];&#125;fn(&#123;x: 3, y: 8&#125;); // [3, 8] fn(&#123;x: 3&#125;); // [3, undefined]fn(&#123;&#125;); // [undefined, undefined]fn(); // [0, 0]//如果有默认值,参数没有就使用默认值//这种写法使用了对象的键值对赋值，不是之前的值传递，所以 当参数为&#123;&#125;时 传递的是undefined 圆括号圆括号是为了解决赋值时解析的无法辨别，但是要注意使用时机，否则会报错 6遍历 Map 结构任何部署了 Iterator 接口的对象，都可以用for...of循环遍历。Map 结构原生支持 Iterator 接口，配合变量的解构赋值，获取键名和键值就非常方便。 123456789const map = new Map();map.set(&#x27;first&#x27;, &#x27;hello&#x27;);map.set(&#x27;second&#x27;, &#x27;world&#x27;);for (let [key, value] of map) &#123; console.log(key + &quot; is &quot; + value);&#125;// first is hello// second is world 如果只想获取键名，或者只想获取键值，可以写成下面这样。 123456789// 获取键名for (let [key] of map) &#123; // ...&#125;// 获取键值for (let [,value] of map) &#123; // ...&#125; 7输入模块的指定方法加载模块时，往往需要指定输入哪些方法。解构赋值使得输入语句非常清晰。 1const &#123; SourceMapConsumer, SourceNode &#125; = require(&quot;source-map&quot;);","categories":[{"name":"javascript","slug":"javascript","permalink":"http://wang-z.gitee.io/categories/javascript/"}],"tags":[{"name":"javascript","slug":"javascript","permalink":"http://wang-z.gitee.io/tags/javascript/"},{"name":"Es6","slug":"Es6","permalink":"http://wang-z.gitee.io/tags/Es6/"}],"author":{"name":"Mr.wang","avatar":"https://wang-z.gitee.io/img/author.jpg"}},{"title":"let var const三种定义方式及闭包","slug":"js-三种定义方式及闭包","date":"2019-05-09T16:10:56.000Z","updated":"2022-08-01T07:39:07.661Z","comments":true,"path":"2019/05/10/js-三种定义方式及闭包/","link":"","permalink":"http://wang-z.gitee.io/2019/05/10/js-%E4%B8%89%E7%A7%8D%E5%AE%9A%E4%B9%89%E6%96%B9%E5%BC%8F%E5%8F%8A%E9%97%AD%E5%8C%85/","excerpt":"介绍js如何定义变量的及闭包的使用","text":"介绍js如何定义变量的及闭包的使用 let var const 之间的区别varvar的作用域是根据函数作用域的， 他在函数内起作用 这里就引用到闭包和作用域链 12345678function out()&#123; var a = 000; //=&gt; 这个a的作用域作用在out内 而info函数在out函数内 所以可以调用 b=222 //=&gt; 报错err 因为b的作用域在info函数内 包裹他的out函数不可以调用它function info()&#123; var b=999; a= 111; &#125;&#125; var 的变量提升 12345678function ()&#123; var a=10; &#125;//变量提升 就是var定义的变量会在先声明再赋值 提升到函数顶部function()&#123; var a; a=10;&#125; letlet的作用域的块级作用域，不会变量提升 可以理解为在某块范围内作用 与var 的函数作用域不同在于 let的作用域会形成闭包 12345678910111213for (var i = 0; i &lt; 3; i++) &#123; setTimeout(function () &#123; console.log(i); &#125;, 1000)&#125;//输出 3 3 3for (let i = 0; i &lt; 3; i++) &#123; setTimeout(function () &#123; console.log(i); &#125;, 1000)&#125;//输出 0 1 2 12var会在全局声明 而setTimeout 是一个定时器 也是异步回调 会在同步执行完毕再执行异步 所以当for循环完毕 i=3时调用三次定时器 let 的作用范围会在for循环内 每循环一次 i会形成一次闭包 i会被setTimeout调用 constconst代表一个值的常量索引，常量的值在垃圾回收前永远不能改变，所以需要谨慎使用。 cosnt定义的值不能被改变 否则会报错 12Uncaught TypeError: Assignment to constant variable.未捕获的类型错误:赋值给常量变量。 闭包外部可以访问内部的私有变量 可以返回携带状态的函数，并且状态隐藏 可以做到变量的私有 123456function f1()&#123; var n=999; function f2()&#123; alert(n); // 999 &#125;&#125; 在上面的代码中，函数f2就被包括在函数f1内部，这时f1内部的所有局部变量，对f2都是可见的。但是反过来就不行，f2内部的局部变量，对f1就是不可见的。这就是Javascript语言特有的”链式作用域”结构（chain scope），子对象会一级一级地向上寻找所有父对象的变量。所以，父对象的所有变量，对子对象都是可见的，反之则不成立。 既然f2可以读取f1中的局部变量，那么只要把f2作为返回值，我们不就可以在f1外部读取它的内部变量了吗！ 123456789function f1()&#123; var n&#x3D;999; function f2()&#123; alert(n); &#125;return f2;&#125;var result&#x3D;f1();result(); &#x2F;&#x2F; 999 闭包就是能够读取其他函数内部变量的函数 要形成闭包 必须两层function函数作用域 123456789101112function f1()&#123; var n&#x3D;999; Add&#x3D;function()&#123;n+&#x3D;1&#125; function f2()&#123; console.log(n)&#125;return f2;&#125;var result&#x3D;f1();result(); &#x2F;&#x2F; 999Add();result(); &#x2F;&#x2F; 1000 这里形成闭包后，f1的局部变量n一直保存在内存中，并没有因为f1的重复调用而清除 原因就在于f1是f2的父函数，而f2被赋给了一个全局变量，这导致f2始终在内存中，而f2的存在依赖于f1，因此f1也始终在内存中，不会在调用结束后，被垃圾回收机制（garbage collection）回收。 缺点由于闭包会使得函数中的变量都被保存在内存中，内存消耗很大，所以不能滥用闭包，否则会造成网页的性能问题，在IE中可能导致内存泄露。解决方法是，在退出函数之前，将不使用的局部变量全部删除。 闭包会在父函数外部，改变父函数内部变量的值。所以，如果你把父函数当作对象（object）使用，把闭包当作它的公用方法（Public Method），把内部变量当作它的私有属性（private value），这时一定要小心，不要随便改变父函数内部变量的值。 12345678910var name = &quot;The Window&quot;;var object = &#123; name: &quot;My Object&quot;, getNameFunc: function () &#123; return function () &#123; return this.name; &#125;; &#125;&#125;;alert(object.getNameFunc()()); 经典闭包题 个人理解 object.getNameFunc() 执行到这一步时 调用object内的函数 返回一个function（）{return this.name} 这时候 name还是My Object 当再次执行时object.getNameFunc()() 调用了外部的name 输出为The Window","categories":[{"name":"javascript","slug":"javascript","permalink":"http://wang-z.gitee.io/categories/javascript/"}],"tags":[{"name":"javascript","slug":"javascript","permalink":"http://wang-z.gitee.io/tags/javascript/"}],"author":{"name":"Mr.wang","avatar":"https://wang-z.gitee.io/img/author.jpg"}},{"title":"隐藏元素的方法","slug":"css-隐藏元素的方法","date":"2019-03-21T16:10:56.000Z","updated":"2022-08-01T07:39:07.656Z","comments":true,"path":"2019/03/22/css-隐藏元素的方法/","link":"","permalink":"http://wang-z.gitee.io/2019/03/22/css-%E9%9A%90%E8%97%8F%E5%85%83%E7%B4%A0%E7%9A%84%E6%96%B9%E6%B3%95/","excerpt":"利用css对于Dom元素的隐藏","text":"利用css对于Dom元素的隐藏 隐藏类型 屏幕并不是唯一的输出机制，比如说屏幕上看不见的元素（隐藏的元素），其中一些依然能够被读屏软件阅读出来（因为读屏软件依赖于可访问性树来阐述）。为了消除它们之间的歧义，我们将其归为三大类： 完全隐藏：元素从DOM树中消失，不占据空间。 视觉上的隐藏：屏幕中不可见，占据空间。 语义上的隐藏：读屏软件不可读，但正常占据空间。完全隐藏 1.display 属性1display: none; 2.hidden 属性 HTML5 新增属性，相当于 display: none 12&lt;div hidden&gt;&lt;/div&gt; 视觉上的隐藏,在页面中还存在 3.利用 position 和 盒模型 将元素移出可视区范围 设置 posoition 为 absolute 或 fixed，\b通过设置 top、left 等值，将其移出可视区域。 12position:absolute;left: -999px; 设置 position 为 relative，通过设置 top、left 等值，将其移出可视区域。 12position: relative;left: -999px; 设置 margin 值，将其移出可视区域范围（可视区域占位）。 12margin-left: -99999px;height: 0; 3.利用 transfrom 缩放 12transform: scale(0);height: 0; 移动 translateX, translateY 12transform: translateX(-99999px);height: 0 旋转 rotate 1transform: rotateY(90deg) //直角在界面上形成线性视觉屏蔽 4.设置其大小为0 宽高为0，字体大小为0： 123height: 0;width: 0;font-size: 0; 宽高为0，超出隐藏: 123height: 0;width: 0;overflow: hidden; 5.设置透明度为01opacity: 0; 6.visibility属性1visibility: hidden; 7.层级覆盖，z-index 属性12position: relative;z-index: -999; 再设置一个层级较高的元素覆盖在此元素上。#####8.clip-path 裁剪1clip-path: polygon(0 0, 0 0, 0 0, 0 0); 语义上的隐藏","categories":[{"name":"css","slug":"css","permalink":"http://wang-z.gitee.io/categories/css/"}],"tags":[{"name":"javascript","slug":"javascript","permalink":"http://wang-z.gitee.io/tags/javascript/"},{"name":"css","slug":"css","permalink":"http://wang-z.gitee.io/tags/css/"}],"author":{"name":"Mr.wang","avatar":"https://wang-z.gitee.io/img/author.jpg"}},{"title":"简单轮播图原理解析","slug":"js-轮播图原理解析","date":"2019-03-11T16:10:56.000Z","updated":"2022-08-01T07:39:07.673Z","comments":true,"path":"2019/03/12/js-轮播图原理解析/","link":"","permalink":"http://wang-z.gitee.io/2019/03/12/js-%E8%BD%AE%E6%92%AD%E5%9B%BE%E5%8E%9F%E7%90%86%E8%A7%A3%E6%9E%90/","excerpt":"关于轮播图操作Dom的部分函数","text":"关于轮播图操作Dom的部分函数 部分简单轮播图函数解析123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215/** * 动画函数 animate 版本1 * @param element 动画元素 * @param target 动画目标值 * @param step 动画步长(可选参数) */function animate(element, target, step) &#123; step = step || 10; var current = element.offsetLeft; clearInterval(element.timer); element.timer = setInterval(function () &#123; current += current &lt; target ? step : -step; element.style.left = current + &#x27;px&#x27;; if (Math.abs(target - current) &lt;= step) &#123; clearInterval(element.timer); element.style.left = target + &#x27;px&#x27;; &#125; &#125;, 24);&#125;/** * 动画函数 animate 版本2 * @param element 动画元素 * @param target 动画目标值 */function animate_v2(element, target) &#123; clearInterval(element.timer); element.timer = setInterval(function () &#123; var current = element.offsetLeft; var step = (target - current) / 10; step = step &gt; 0 ? Math.ceil(step) : Math.floor(step); current += step; element.style.left = current + &#x27;px&#x27;; if (target === current) &#123; clearInterval(element.timer); &#125; &#125;, 240);&#125;/** * 动画函数 animate 版本3 宽度动画 * @param element 动画元素 * @param target 动画目标值 */function animate_v3(element, target) &#123; clearInterval(element.timer); element.timer = setInterval(function () &#123; /* 改变 v3.1 →: 获取盒子宽度 */ var current = element.offsetWidth; var step = (target - current) / 10; step = step &gt; 0 ? Math.ceil(step) : Math.floor(step); current += step; /* 改变 v3.2 →: 设置宽度样式 */ element.style.width = current + &#x27;px&#x27;; if (target === current) &#123; clearInterval(element.timer); &#125; &#125;, 24);&#125;/** * 动画函数 animate_v4 任意单位为px的属性能发生变化 * @param element 动画元素 * @param attr 动画属性 * @param target 动画目标 *//* 改变 v4.1 →: 多了一个 attr 参数代表属性 */function animate_v4(element, attr, target) &#123; clearInterval(element.timer); element.timer = setInterval(function () &#123; /* 改变 v4.2 →: 根据传进来的属性获取当前样式值 */ var current = parseFloat(getComputedStyle(element)[attr]); var step = (target - current) / 10; step = step &gt; 0 ? Math.ceil(step) : Math.floor(step); current += step; /* 改变 v4.3 →: 根据属性设置样式 */ element.style[attr] = current + &#x27;px&#x27;; if (target === current) &#123; clearInterval(element.timer); &#125; &#125;, 24);&#125;/* 改变 v5.1 →: 参数变成样式对象 styleObj */function animate_v5(element, styleObj) &#123; clearInterval(element.timer); element.timer = setInterval(function () &#123; /* 1. 立 flag，假设要清除 */ var flag = true; /* 改变 v5.2 →: 遍历样式对象 */ for (var attr in styleObj) &#123; /* 改变 v5.3 →: 根据属性名，获取目标值 */ var target = styleObj[attr]; var current = parseFloat(getComputedStyle(element)[attr]); var step = (target - current) / 10; step = step &gt; 0 ? Math.ceil(step) : Math.floor(step); current += step; element.style[attr] = current + &#x27;px&#x27;; /* 2. 改 flag，假设不成立，修改成 假 */ if (target !== current) &#123; flag = false; &#125; &#125; /* 3. 用 flag，循环结束后判断 flag 的值是真还是假 */ if (flag) &#123; clearInterval(element.timer); &#125; &#125;, 24);&#125;/** * v8 层级不做动画，透明度，px 有动画效果 * @param element * @param styleObj */function animate_v8(element, styleObj) &#123; clearInterval(element.timer); element.timer = setInterval(function () &#123; var flag = true; for (var attr in styleObj) &#123; if (attr === &#x27;zIndex&#x27;) &#123; var target = styleObj[attr]; element.style[attr] = target; &#125; else if (attr === &#x27;opacity&#x27;) &#123; /* v6.1 在数据的源头，把&lt;目标值&gt;和&lt;当前值&gt;乘 100 处理成&lt;整数&gt; */ var target = 100 * styleObj[attr]; var current = 100 * parseFloat(getComputedStyle(element)[attr]); var step = (target - current) / 10; /* 取整为什么会出问题？数据的源头是小数，直接处理数据源头 */ step = step &gt; 0 ? Math.ceil(step) : Math.floor(step); current += step; /* v6.2 单位设置，不要 px 单位，除 100 变回小数 */ element.style[attr] = current / 100; if (target !== current) &#123; flag = false; &#125; &#125; else &#123; /* 改变 v5.3 →: 根据属性名，获取目标值 */ var target = styleObj[attr]; var current = parseFloat(getComputedStyle(element)[attr]); var step = (target - current) / 10; step = step &gt; 0 ? Math.ceil(step) : Math.floor(step); current += step; element.style[attr] = current + &#x27;px&#x27;; /* 2. 改 flag，假设不成立，修改成 假 */ if (target !== current) &#123; flag = false; &#125; &#125; &#125; /* 3. 用 flag，循环结束后判断 flag 的值是真还是假 */ if (flag) &#123; clearInterval(element.timer); &#125; &#125;, 24);&#125;/* vX.1 开放新的参数：动画回调函数 fn */function animate_vX(element, styleObj, fn) &#123; clearInterval(element.timer); element.timer = setInterval(function () &#123; var flag = true; for (var attr in styleObj) &#123; if (attr === &#x27;zIndex&#x27;) &#123; var target = styleObj[attr]; element.style[attr] = target; &#125; else if (attr === &#x27;opacity&#x27;) &#123; /* v6.1 在数据的源头，把&lt;目标值&gt;和&lt;当前值&gt;乘 100 处理成&lt;整数&gt; */ var target = 100 * styleObj[attr]; var current = 100 * parseFloat(getComputedStyle(element)[attr]); var step = (target - current) / 10; /* 取整为什么会出问题？数据的源头是小数，直接处理数据源头 */ step = step &gt; 0 ? Math.ceil(step) : Math.floor(step); current += step; /* v6.2 单位设置，不要 px 单位，除 100 变回小数 */ element.style[attr] = current / 100; if (target !== current) &#123; flag = false; &#125; &#125; else &#123; /* 改变 v5.3 →: 根据属性名，获取目标值 */ var target = styleObj[attr]; var current = parseFloat(getComputedStyle(element)[attr]); var step = (target - current) / 10; step = step &gt; 0 ? Math.ceil(step) : Math.floor(step); current += step; element.style[attr] = current + &#x27;px&#x27;; /* 2. 改 flag，假设不成立，修改成 假 */ if (target !== current) &#123; flag = false; &#125; &#125; &#125; /* 3. 用 flag，循环结束后判断 flag 的值是真还是假 */ if (flag) &#123; clearInterval(element.timer); /* vX.2 动画结束后，调用函数 */ // if (fn) &#123; // fn(); // &#125; /** * || 找真，如果前面假，后面就是真，执行后面代码 * &amp;&amp; 找假，如果前面真，后面就是假，执行后面代码 **/ fn &amp;&amp; fn(); &#125; &#125;, 24);&#125;","categories":[{"name":"javascript","slug":"javascript","permalink":"http://wang-z.gitee.io/categories/javascript/"}],"tags":[{"name":"javascript","slug":"javascript","permalink":"http://wang-z.gitee.io/tags/javascript/"}],"author":{"name":"Mr.wang","avatar":"https://wang-z.gitee.io/img/author.jpg"}},{"title":"ajax请求","slug":"ajax-ajax请求","date":"2019-01-10T02:01:01.000Z","updated":"2022-08-01T07:39:07.650Z","comments":true,"path":"2019/01/10/ajax-ajax请求/","link":"","permalink":"http://wang-z.gitee.io/2019/01/10/ajax-ajax%E8%AF%B7%E6%B1%82/","excerpt":"AJAX 的基本请求方式","text":"AJAX 的基本请求方式 AJAX一种异步数据交互技术 解决的问题： 提高用户的体验 现在开发里面，使用 ajax 实现前后端的完全分离开发 ajax 使用的四个步骤 1234567891011121314// 1 创建异步对象var xhr = new XMLHttpRequest();// 2 指定请求的方式和请求的地址xhr.open(请求方式, 目标地址);// 3 发送请求xhr.send();// 4 注册状态变化的监听(事件)xhr.onreadystatechange = function () &#123; // 关注最终的结果 if (xhr.readyState == 4 &amp;&amp; xhr.status == 200) &#123; //把响应体获取 console.log(xhr.responseText); &#125;&#125;; 异步对象的 readyState 属性，是一个从 0-4 不断变化的数字，每个数字代表一个状态，我们只需要大概了解一下，关心最终的结果就可以了 fetch 基本用法 get1fetch(url).then(res=&gt;res.json()).then(data=&gt;console.log(data)) 配置Fetch请求12345678910111213fetch(url, &#123; method: &#x27;POST&#x27;, // *GET, POST, PUT, DELETE, etc. mode: &#x27;cors&#x27;, // no-cors, *cors, same-origin cache: &#x27;no-cache&#x27;, // *default, no-cache, reload, force-cache, only-if-cached credentials: &#x27;same-origin&#x27;, // include(含cookie), *same-origin, omit headers: &#123; &#x27;Content-Type&#x27;: &#x27;application/json&#x27; // &#x27;Content-Type&#x27;: &#x27;application/x-www-form-urlencoded&#x27;, &#125;, redirect: &#x27;follow&#x27;, // manual, *follow, error referrerPolicy: &#x27;no-referrer&#x27;, // no-referrer, *no-referrer-when-downgrade, origin, origin-when-cross-origin, same-origin, strict-origin, strict-origin-when-cross-origin, unsafe-url body: JSON.stringify(data) // body data type must match &quot;Content-Type&quot; header &#125;); 备注： 当请求使用 credentials: ‘include’ 时，响应的 Access-Control-Allow-Origin 不能使用通配符 “*”。在这种情况下，Access-Control-Allow-Origin 必须是当前请求的源，在使用 CORS Unblock 插件的情况下请求仍会失败。","categories":[{"name":"ajax","slug":"ajax","permalink":"http://wang-z.gitee.io/categories/ajax/"}],"tags":[{"name":"javascript","slug":"javascript","permalink":"http://wang-z.gitee.io/tags/javascript/"},{"name":"ajax","slug":"ajax","permalink":"http://wang-z.gitee.io/tags/ajax/"}],"author":{"name":"Mr.wang","avatar":"https://wang-z.gitee.io/img/author.jpg"}},{"title":"BFC协议","slug":"css-BFC协议","date":"2018-12-29T16:14:56.000Z","updated":"2022-08-01T07:39:07.655Z","comments":true,"path":"2018/12/30/css-BFC协议/","link":"","permalink":"http://wang-z.gitee.io/2018/12/30/css-BFC%E5%8D%8F%E8%AE%AE/","excerpt":"html盒子模型的BFC规则，如何创建BFC","text":"html盒子模型的BFC规则，如何创建BFC 什么是BFC？BFC的布局规则是什么？如何创建BFC？查看解析 Box 是 CSS 布局的对象和基本单位，页面是由若干个Box组成的。 元素的类型 和 display 属性，决定了这个 Box 的类型。不同类型的 Box 会参与不同的 Formatting Context。 Formatting Context Formatting Context 是页面的一块渲染区域，并且有一套渲染规则，决定了其子元素将如何定位，以及和其它元素的关系和相互作用。 Formatting Context 有 BFC (Block formatting context)，IFC (Inline formatting context)，FFC (Flex formatting context) 和 GFC (Grid formatting context)。FFC 和 GFC 为 CC3 中新增。 BFC布局规则 BFC内，盒子依次垂直排列。 BFC内，两个盒子的垂直距离由 margin 属性决定。属于同一个BFC的两个相邻Box的margin会发生重叠【符合合并原则的margin合并后是使用大的margin】 BFC内，每个盒子的左外边缘接触内部盒子的左边缘（对于从右到左的格式，右边缘接触）。即使在存在浮动的情况下也是如此。除非创建新的BFC。 BFC的区域不会与float box重叠。 BFC就是页面上的一个隔离的独立容器，容器里面的子元素不会影响到外面的元素。反之也如此。 计算BFC的高度时，浮动元素也参与计算。 如何创建BFC根元素## 浮动元素（float 属性不为 none） position 为 absolute 或 fixed overflow 不为 visible 的块元素 display 为 inline-block, table-cell, table-caption BFC 的应用 防止 margin 重叠 (同一个BFC内的两个两个相邻Box的 margin 会发生重叠，触发生成两个BFC，即不会重叠) 清除内部浮动 (创建一个新的 BFC，因为根据 BFC 的规则，计算 BFC 的高度时，浮动元素也参与计算) 自适应多栏布局 (BFC的区域不会与float box重叠。因此，可以触发生成一个新的BFC)","categories":[{"name":"css","slug":"css","permalink":"http://wang-z.gitee.io/categories/css/"}],"tags":[{"name":"javascript","slug":"javascript","permalink":"http://wang-z.gitee.io/tags/javascript/"},{"name":"css","slug":"css","permalink":"http://wang-z.gitee.io/tags/css/"}],"author":{"name":"Mr.wang","avatar":"https://wang-z.gitee.io/img/author.jpg"}},{"title":"盒子居中的方法","slug":"css-盒子居中的方法","date":"2018-12-20T11:50:59.000Z","updated":"2022-08-01T07:39:07.656Z","comments":true,"path":"2018/12/20/css-盒子居中的方法/","link":"","permalink":"http://wang-z.gitee.io/2018/12/20/css-%E7%9B%92%E5%AD%90%E5%B1%85%E4%B8%AD%E7%9A%84%E6%96%B9%E6%B3%95/","excerpt":"html关于css的居中布局方式","text":"html关于css的居中布局方式 HTML盒子居中的方法：1.宽度和高度已知的。思路： 父元素相对定位 子元素绝对定位 子元素{ left: 50%;top: 50%;margin-left: 减去子元素的宽度一半。margin-top: 减去子元素的高度一半； } 1234567891011121314151617&lt;style type=&quot;text/css&quot;&gt; #box&#123; width: 400px; height: 200px; position: relative; background: red; //方便观看 &#125; #box1&#123; width: 200px; height: 100px; position: absolute; top: 50%; left: 50%; margin-left: -100px; //定位后偏移值超过子元素的宽度一半需减去 margin-top: -50px; //定位后偏移值超过子元素的高度一半需减去 background: green; &#125; 2.宽度和高度可以随意改变思路： 父元素相对定位 子元素绝对定位 子元素{ left: 0;top: 0; bottom:0;right:0; margin:auto; } 123456789101112131415161718#box&#123; width: 800px; height: 400px; position: relative; background: red; &#125;#box1&#123; width: 100px; height: 50px; position: absolute;//四个方位定义盒子所在的位置 当所有为0&amp;&amp;margin:auto时,盒子居中 top: 0; right: 0; bottom: 0; left: 0; margin: auto; background: green; &#125; 3.flex布局123456789101112131415.box&#123; width: 400px; height: 200px; background: #f99; &#125; .box1&#123; width: 200px; height: 100px; background: green; &#125; .center&#123; display: flex; //开启弹性盒子 主轴侧轴交叉得到居中 justify-content: center;//实现水平居中 align-items: center;//实现垂直居中 &#125; 4.平移 定位+transform123456789101112131415.parent_box&#123; width: 400px; height: 200px; background: red; position: relative; &#125; .child_box&#123; width: 200px; height: 100px; background: green; position: absolute;//与第一个类似 但可以根据子元素的宽高自动居中 top: 50%; left: 50%; transform: translate( -50%,-50%);//平移相当于盒子margin(左,上)减半 &#125;","categories":[{"name":"css","slug":"css","permalink":"http://wang-z.gitee.io/categories/css/"}],"tags":[{"name":"javascript","slug":"javascript","permalink":"http://wang-z.gitee.io/tags/javascript/"},{"name":"css","slug":"css","permalink":"http://wang-z.gitee.io/tags/css/"}],"author":{"name":"Mr.wang","avatar":"https://wang-z.gitee.io/img/author.jpg"}}],"categories":[{"name":"base","slug":"base","permalink":"http://wang-z.gitee.io/categories/base/"},{"name":"vue","slug":"vue","permalink":"http://wang-z.gitee.io/categories/vue/"},{"name":"ajax","slug":"ajax","permalink":"http://wang-z.gitee.io/categories/ajax/"},{"name":"javascript","slug":"javascript","permalink":"http://wang-z.gitee.io/categories/javascript/"},{"name":"uniapp","slug":"uniapp","permalink":"http://wang-z.gitee.io/categories/uniapp/"},{"name":"puppeteer","slug":"puppeteer","permalink":"http://wang-z.gitee.io/categories/puppeteer/"},{"name":"hexo","slug":"hexo","permalink":"http://wang-z.gitee.io/categories/hexo/"},{"name":"cmd","slug":"cmd","permalink":"http://wang-z.gitee.io/categories/cmd/"},{"name":"mysql","slug":"mysql","permalink":"http://wang-z.gitee.io/categories/mysql/"},{"name":"typescript","slug":"typescript","permalink":"http://wang-z.gitee.io/categories/typescript/"},{"name":"app","slug":"app","permalink":"http://wang-z.gitee.io/categories/app/"},{"name":"Regexp","slug":"Regexp","permalink":"http://wang-z.gitee.io/categories/Regexp/"},{"name":"webpack","slug":"webpack","permalink":"http://wang-z.gitee.io/categories/webpack/"},{"name":"npm","slug":"npm","permalink":"http://wang-z.gitee.io/categories/npm/"},{"name":"node","slug":"node","permalink":"http://wang-z.gitee.io/categories/node/"},{"name":"git","slug":"git","permalink":"http://wang-z.gitee.io/categories/git/"},{"name":"css","slug":"css","permalink":"http://wang-z.gitee.io/categories/css/"},{"name":"https","slug":"https","permalink":"http://wang-z.gitee.io/categories/https/"},{"name":"UI","slug":"UI","permalink":"http://wang-z.gitee.io/categories/UI/"},{"name":"html","slug":"html","permalink":"http://wang-z.gitee.io/categories/html/"}],"tags":[{"name":"vue3","slug":"vue3","permalink":"http://wang-z.gitee.io/tags/vue3/"},{"name":"admin","slug":"admin","permalink":"http://wang-z.gitee.io/tags/admin/"},{"name":"javascript","slug":"javascript","permalink":"http://wang-z.gitee.io/tags/javascript/"},{"name":"vue，cahtGPT","slug":"vue，cahtGPT","permalink":"http://wang-z.gitee.io/tags/vue%EF%BC%8CcahtGPT/"},{"name":"axios","slug":"axios","permalink":"http://wang-z.gitee.io/tags/axios/"},{"name":"vue","slug":"vue","permalink":"http://wang-z.gitee.io/tags/vue/"},{"name":"SSO","slug":"SSO","permalink":"http://wang-z.gitee.io/tags/SSO/"},{"name":"vue-router","slug":"vue-router","permalink":"http://wang-z.gitee.io/tags/vue-router/"},{"name":"vue，route","slug":"vue，route","permalink":"http://wang-z.gitee.io/tags/vue%EF%BC%8Croute/"},{"name":"uniapp","slug":"uniapp","permalink":"http://wang-z.gitee.io/tags/uniapp/"},{"name":"puppeteer","slug":"puppeteer","permalink":"http://wang-z.gitee.io/tags/puppeteer/"},{"name":"hexo","slug":"hexo","permalink":"http://wang-z.gitee.io/tags/hexo/"},{"name":"vue，vue-cli","slug":"vue，vue-cli","permalink":"http://wang-z.gitee.io/tags/vue%EF%BC%8Cvue-cli/"},{"name":"cmd","slug":"cmd","permalink":"http://wang-z.gitee.io/tags/cmd/"},{"name":"mysql","slug":"mysql","permalink":"http://wang-z.gitee.io/tags/mysql/"},{"name":"typescript","slug":"typescript","permalink":"http://wang-z.gitee.io/tags/typescript/"},{"name":"app","slug":"app","permalink":"http://wang-z.gitee.io/tags/app/"},{"name":"window","slug":"window","permalink":"http://wang-z.gitee.io/tags/window/"},{"name":"pc","slug":"pc","permalink":"http://wang-z.gitee.io/tags/pc/"},{"name":"web","slug":"web","permalink":"http://wang-z.gitee.io/tags/web/"},{"name":"Google","slug":"Google","permalink":"http://wang-z.gitee.io/tags/Google/"},{"name":"Typora","slug":"Typora","permalink":"http://wang-z.gitee.io/tags/Typora/"},{"name":"moblie","slug":"moblie","permalink":"http://wang-z.gitee.io/tags/moblie/"},{"name":"UA","slug":"UA","permalink":"http://wang-z.gitee.io/tags/UA/"},{"name":"node","slug":"node","permalink":"http://wang-z.gitee.io/tags/node/"},{"name":"webpack","slug":"webpack","permalink":"http://wang-z.gitee.io/tags/webpack/"},{"name":"npm","slug":"npm","permalink":"http://wang-z.gitee.io/tags/npm/"},{"name":"http","slug":"http","permalink":"http://wang-z.gitee.io/tags/http/"},{"name":"git","slug":"git","permalink":"http://wang-z.gitee.io/tags/git/"},{"name":"elementUI","slug":"elementUI","permalink":"http://wang-z.gitee.io/tags/elementUI/"},{"name":"koa2","slug":"koa2","permalink":"http://wang-z.gitee.io/tags/koa2/"},{"name":"vsc","slug":"vsc","permalink":"http://wang-z.gitee.io/tags/vsc/"},{"name":"css","slug":"css","permalink":"http://wang-z.gitee.io/tags/css/"},{"name":"rule","slug":"rule","permalink":"http://wang-z.gitee.io/tags/rule/"},{"name":"https","slug":"https","permalink":"http://wang-z.gitee.io/tags/https/"},{"name":"UI","slug":"UI","permalink":"http://wang-z.gitee.io/tags/UI/"},{"name":"html","slug":"html","permalink":"http://wang-z.gitee.io/tags/html/"},{"name":"function","slug":"function","permalink":"http://wang-z.gitee.io/tags/function/"},{"name":"this","slug":"this","permalink":"http://wang-z.gitee.io/tags/this/"},{"name":"Es6","slug":"Es6","permalink":"http://wang-z.gitee.io/tags/Es6/"},{"name":"ajax","slug":"ajax","permalink":"http://wang-z.gitee.io/tags/ajax/"}]}